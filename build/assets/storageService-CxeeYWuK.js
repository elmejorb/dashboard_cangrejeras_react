import{c as h,av as p,aw as y,ax as i,ay as f,az as m,aA as g}from"./index-rVBsoLmu.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],L=h("refresh-cw",u),E={uploadAdminAvatar:async(c,e,a)=>{try{if(!e.type.startsWith("image/"))throw new Error("Solo se permiten archivos de imagen");if(e.size>5*1024*1024)throw new Error("La imagen debe ser menor a 5MB");const l=`avatar.${e.name.split(".").pop()||"jpg"}`,s=p(y,`media/${c}/${l}`);if(a){const o=m(s,e);return new Promise((n,d)=>{o.on("state_changed",r=>{const w=r.bytesTransferred/r.totalBytes*100;a({progress:w,bytesTransferred:r.bytesTransferred,totalBytes:r.totalBytes})},r=>{console.error("Upload error:",r),d(new Error("Error al subir la imagen"))},async()=>{const r=await i(o.snapshot.ref);n(r)})})}else{const o=await g(s,e);return await i(o.ref)}}catch(t){throw console.error("Error uploading avatar:",t),t}},uploadPlayerPhoto:async(c,e,a)=>{try{if(!e.type.startsWith("image/"))throw new Error("Solo se permiten archivos de imagen");if(e.size>10*1024*1024)throw new Error("La imagen debe ser menor a 10MB");const l=`photo.${e.name.split(".").pop()||"jpg"}`,s=p(y,`players/${c}/${l}`);if(a){const o=m(s,e);return new Promise((n,d)=>{o.on("state_changed",r=>{const w=r.bytesTransferred/r.totalBytes*100;a({progress:w,bytesTransferred:r.bytesTransferred,totalBytes:r.totalBytes})},r=>{console.error("Upload error:",r),d(new Error("Error al subir la imagen"))},async()=>{const r=await i(o.snapshot.ref);n(r)})})}else{const o=await g(s,e);return await i(o.ref)}}catch(t){throw console.error("Error uploading player photo:",t),t}},uploadNewsCover:async(c,e,a)=>{try{if(!e.type.startsWith("image/"))throw new Error("Solo se permiten archivos de imagen");if(e.size>10*1024*1024)throw new Error("La imagen debe ser menor a 10MB");const l=`cover.${e.name.split(".").pop()||"jpg"}`,s=p(y,`news/${c}/${l}`);if(a){const o=m(s,e);return new Promise((n,d)=>{o.on("state_changed",r=>{const w=r.bytesTransferred/r.totalBytes*100;a({progress:w,bytesTransferred:r.bytesTransferred,totalBytes:r.totalBytes})},r=>{console.error("Upload error:",r),d(new Error("Error al subir la imagen"))},async()=>{const r=await i(o.snapshot.ref);n(r)})})}else{const o=await g(s,e);return await i(o.ref)}}catch(t){throw console.error("Error uploading news cover:",t),t}},uploadSponsorLogo:async(c,e,a)=>{try{if(!e.type.startsWith("image/"))throw new Error("Solo se permiten archivos de imagen");if(e.size>5*1024*1024)throw new Error("La imagen debe ser menor a 5MB");const l=`logo.${e.name.split(".").pop()||"png"}`,s=p(y,`sponsors/${c}/${l}`);if(a){const o=m(s,e);return new Promise((n,d)=>{o.on("state_changed",r=>{const w=r.bytesTransferred/r.totalBytes*100;a({progress:w,bytesTransferred:r.bytesTransferred,totalBytes:r.totalBytes})},r=>{console.error("Upload error:",r),d(new Error("Error al subir el logo"))},async()=>{const r=await i(o.snapshot.ref);n(r)})})}else{const o=await g(s,e);return await i(o.ref)}}catch(t){throw console.error("Error uploading sponsor logo:",t),t}},uploadTeamLogo:async(c,e,a)=>{try{if(!e.type.startsWith("image/"))throw new Error("Solo se permiten archivos de imagen");if(e.size>5*1024*1024)throw new Error("La imagen debe ser menor a 5MB");const l=`logo.${e.name.split(".").pop()||"png"}`,s=p(y,`teams/${c}/${l}`);if(a){const o=m(s,e);return new Promise((n,d)=>{o.on("state_changed",r=>{const w=r.bytesTransferred/r.totalBytes*100;a({progress:w,bytesTransferred:r.bytesTransferred,totalBytes:r.totalBytes})},r=>{console.error("Upload error:",r),d(new Error("Error al subir el logo"))},async()=>{const r=await i(o.snapshot.ref);n(r)})})}else{const o=await g(s,e);return await i(o.ref)}}catch(t){throw console.error("Error uploading team logo:",t),t}},deleteFile:async c=>{try{const e=new URL(c),a=decodeURIComponent(e.pathname.split("/o/")[1].split("?")[0]),t=p(y,a);await f(t)}catch(e){throw console.error("Error deleting file:",e),new Error("Error al eliminar archivo")}},getFileURL:async c=>{try{const e=p(y,c);return await i(e)}catch(e){throw console.error("Error getting file URL:",e),new Error("Error al obtener URL del archivo")}}};export{L as R,E as s};
