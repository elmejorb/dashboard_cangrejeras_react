import{c as rt,r as l,j as e,L as u,A as ee,G as It,H as qt,E as Ve,z as Lt,y as Ot,f as Vt,u as Ut,B as j,M as _,U as I,a as xe,J as We,K as Xe,N as ke,O as Ht,I as $,T as Yt,Q as Me,t as J,F as Rt}from"./index-rVBsoLmu.js";import{B as et}from"./badge-C1TpjppC.js";import{Z as Ne,T as tt}from"./textarea-DXIYFMJK.js";import{D as Ce,a as Ae,b as $e,c as Ee,d as Se,e as ze}from"./dialog-DyW0Rv7O.js";import{S as Gt,C as Te}from"./separator-CgQU91Ql.js";import{b as _t}from"./EmptyStates-6LFQ27y5.js";import{B as de}from"./BadgePremium-CHgTGVyr.js";import{P as De}from"./plus-CsQDuX2Y.js";import{S as Jt}from"./square-pen-BNjTQa8O.js";import{T as Oe}from"./trash-2-DYaLxA-3.js";import{V as Kt}from"./vote-DIb3aHZJ.js";import"./x-CfwQjJuw.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],st=rt("swords",Qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M11.1 7.1a16.55 16.55 0 0 1 10.9 4",key:"2880wi"}],["path",{d:"M12 12a12.6 12.6 0 0 1-8.7 5",key:"113sja"}],["path",{d:"M16.8 13.6a16.55 16.55 0 0 1-9 7.5",key:"1qmsgl"}],["path",{d:"M20.7 17a12.8 12.8 0 0 0-8.7-5 13.3 13.3 0 0 1 0-10",key:"1bmeqp"}],["path",{d:"M6.3 3.8a16.55 16.55 0 0 0 1.9 11.5",key:"iekzv9"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],at=rt("volleyball",Zt);function Wt({value:s,onChange:v,darkMode:o,label:K,required:te}){const[A,z]=l.useState(!1),[N,g]=l.useState(s?new Date(s+"T00:00:00"):null),T=l.useRef(null),[w,m]=l.useState(N?N.getMonth():new Date().getMonth()),[p,D]=l.useState(N?N.getFullYear():new Date().getFullYear());l.useEffect(()=>{function i(x){T.current&&!T.current.contains(x.target)&&z(!1)}return A&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[A]),l.useEffect(()=>{if(s){const i=new Date(s+"T00:00:00");g(i),m(i.getMonth()),D(i.getFullYear())}else g(null)},[s]);const q=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],he=["D","L","M","M","J","V","S"],me=(i,x)=>new Date(x,i+1,0).getDate(),ge=(i,x)=>new Date(x,i,1).getDay(),Q=me(w,p),k=ge(w,p),Z=Array.from({length:Q},(i,x)=>x+1),W=Array.from({length:k},(i,x)=>x),r=i=>{const x=new Date(p,w,i);g(x);const y=`${p}-${String(w+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`;v(y),z(!1)},C=()=>{w===0?(m(11),D(p-1)):m(w-1)},L=()=>{w===11?(m(0),D(p+1)):m(w+1)},E=()=>{const i=new Date;g(i),m(i.getMonth()),D(i.getFullYear());const x=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`;v(x),z(!1)},se=()=>{g(null),v(""),z(!1)},ae=i=>{if(!i)return"mm / dd / yyyy";const x=String(i.getMonth()+1).padStart(2,"0"),y=String(i.getDate()).padStart(2,"0"),ue=i.getFullYear();return`${x} / ${y} / ${ue}`},Be=i=>{const x=new Date;return i===x.getDate()&&w===x.getMonth()&&p===x.getFullYear()},re=i=>N?i===N.getDate()&&w===N.getMonth()&&p===N.getFullYear():!1;return e.jsxs("div",{className:"space-y-2",ref:T,children:[K&&e.jsxs(u,{className:`flex items-center gap-2 ${o?"text-white/90":"text-gray-700"}`,children:[e.jsx(ee,{size:14,className:"text-[#C8A963]"}),K," ",te&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>z(!A),className:`w-full px-4 py-3 rounded-xl border text-left transition-all duration-300 relative overflow-hidden group ${o?"bg-gradient-to-br from-[#1E293B]/80 via-[#1E293B]/60 to-[#1E293B]/80 border-white/10 text-white hover:border-[#C8A963]/50":"bg-gradient-to-br from-white/95 via-white/80 to-white/95 border-gray-200 text-gray-900 hover:border-[#C8A963]/50"} backdrop-blur-xl`,children:[e.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${o?"bg-gradient-to-r from-[#C8A963]/10 via-[#C8A963]/5 to-transparent":"bg-gradient-to-r from-[#C8A963]/5 via-[#C8A963]/3 to-transparent"}`}),A&&e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#C8A963]/30 via-[#C8A963]/10 to-[#C8A963]/30 rounded-xl blur-sm -z-10 animate-pulse"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsx("span",{className:N?"":o?"text-white/40":"text-gray-400",children:ae(N)}),e.jsx(ee,{size:18,className:"text-[#C8A963]"})]})]}),A&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-2xl border shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-300 ${o?"bg-gradient-to-br from-[#1E293B]/95 via-[#0F172A]/95 to-[#1E293B]/95 border-white/10":"bg-gradient-to-br from-white/98 via-gray-50/98 to-white/98 border-gray-200"} backdrop-blur-2xl`,children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#C8A963]/20 via-[#C8A963]/5 to-[#C8A963]/20 rounded-2xl blur opacity-50"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{type:"button",onClick:C,className:`p-2 rounded-lg transition-all hover:scale-110 ${o?"hover:bg-white/10 text-white/70 hover:text-[#C8A963]":"hover:bg-gray-100 text-gray-600 hover:text-[#C8A963]"}`,children:e.jsx(It,{size:18})}),e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${o?"bg-[#C8A963]/10":"bg-[#C8A963]/5"}`,children:e.jsxs("span",{className:`${o?"text-white":"text-gray-900"}`,children:[q[w]," ",p]})}),e.jsx("button",{type:"button",onClick:L,className:`p-2 rounded-lg transition-all hover:scale-110 ${o?"hover:bg-white/10 text-white/70 hover:text-[#C8A963]":"hover:bg-gray-100 text-gray-600 hover:text-[#C8A963]"}`,children:e.jsx(qt,{size:18})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:he.map((i,x)=>e.jsx("div",{className:`text-center text-xs py-2 ${o?"text-white/50":"text-gray-500"}`,children:i},`day-${x}`))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[W.map(i=>e.jsx("div",{},`blank-${i}`)),Z.map(i=>{const x=Be(i),y=re(i);return e.jsxs("button",{type:"button",onClick:()=>r(i),className:`
                        aspect-square rounded-lg text-sm transition-all duration-200
                        relative overflow-hidden group
                        ${y?o?"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-[#0C2340] shadow-lg shadow-[#C8A963]/30 scale-105":"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-white shadow-lg shadow-[#C8A963]/30 scale-105":x?o?"bg-[#C8A963]/20 text-[#C8A963] border border-[#C8A963]/30":"bg-[#C8A963]/10 text-[#C8A963] border border-[#C8A963]/30":o?"text-white/80 hover:bg-white/10 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
                      `,children:[!y&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#C8A963]/0 to-[#C8A963]/0 group-hover:from-[#C8A963]/10 group-hover:to-[#C8A963]/5 transition-all duration-300"}),e.jsx("span",{className:"relative z-10",children:i})]},i)})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:se,className:"flex-1 py-2 px-4 rounded-lg text-sm transition-all text-[#E01E37] hover:bg-[#E01E37]/10",children:"Limpiar"}),e.jsx("button",{type:"button",onClick:E,className:`flex-1 py-2 px-4 rounded-lg text-sm transition-all ${o?"bg-gradient-to-r from-[#C8A963]/20 to-[#C8A963]/10 text-[#C8A963] hover:from-[#C8A963]/30 hover:to-[#C8A963]/20":"bg-gradient-to-r from-[#C8A963]/10 to-[#C8A963]/5 text-[#C8A963] hover:from-[#C8A963]/20 hover:to-[#C8A963]/10"}`,children:"Hoy"})]})]})]})]})]})}function Xt({value:s,onChange:v,darkMode:o,label:K,required:te}){const[A,z]=l.useState(!1),N=()=>{if(!s)return 12;const r=parseInt(s.split(":")[0]);return r===0?12:r>12?r-12:r},[g,T]=l.useState(N()),[w,m]=l.useState(s?parseInt(s.split(":")[1]):0),[p,D]=l.useState(s?parseInt(s.split(":")[0])>=12?"PM":"AM":"PM"),q=l.useRef(null);l.useEffect(()=>{function r(C){q.current&&!q.current.contains(C.target)&&z(!1)}return A&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[A]),l.useEffect(()=>{if(s){const r=parseInt(s.split(":")[0]),C=parseInt(s.split(":")[1]),L=r>=12?"PM":"AM";let E=r;r===0?E=12:r>12&&(E=r-12),T(E),m(C),D(L)}},[s]);const he=r=>{T(r),Q(r,w,p)},me=r=>{m(r),Q(g,r,p)},ge=()=>{const r=p==="AM"?"PM":"AM";D(r),Q(g,w,r)},Q=(r,C,L)=>{let E=r;L==="PM"&&r!==12?E=r+12:L==="AM"&&r===12&&(E=0);const se=`${String(E).padStart(2,"0")}:${String(C).padStart(2,"0")}`;v(se)},k=()=>s?`${String(g).padStart(2,"0")} : ${String(w).padStart(2,"0")}`:"-- : --",Z=Array.from({length:12},(r,C)=>C+1),W=Array.from({length:60},(r,C)=>C);return e.jsxs("div",{className:"space-y-2",ref:q,children:[K&&e.jsxs(u,{className:`flex items-center gap-2 ${o?"text-white/90":"text-gray-700"}`,children:[e.jsx(Ve,{size:14,className:"text-[#C8A963]"}),K," ",te&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>z(!A),className:`w-full px-4 py-3 rounded-xl border text-left transition-all duration-300 relative overflow-hidden group ${o?"bg-gradient-to-br from-[#1E293B]/80 via-[#1E293B]/60 to-[#1E293B]/80 border-white/10 text-white hover:border-[#C8A963]/50":"bg-gradient-to-br from-white/95 via-white/80 to-white/95 border-gray-200 text-gray-900 hover:border-[#C8A963]/50"} backdrop-blur-xl`,children:[e.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${o?"bg-gradient-to-r from-[#C8A963]/10 via-[#C8A963]/5 to-transparent":"bg-gradient-to-r from-[#C8A963]/5 via-[#C8A963]/3 to-transparent"}`}),A&&e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#C8A963]/30 via-[#C8A963]/10 to-[#C8A963]/30 rounded-xl blur-sm -z-10 animate-pulse"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-2xl ${!s&&(o?"text-white/40":"text-gray-400")}`,children:k()}),s&&e.jsx("span",{className:`text-sm px-2 py-1 rounded ${o?"bg-[#C8A963]/20 text-[#C8A963]":"bg-[#C8A963]/10 text-[#C8A963]"}`,children:p})]}),e.jsx(Ve,{size:18,className:"text-[#C8A963]"})]})]}),A&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-2xl border shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-300 ${o?"bg-gradient-to-br from-[#1E293B]/95 via-[#0F172A]/95 to-[#1E293B]/95 border-white/10":"bg-gradient-to-br from-white/98 via-gray-50/98 to-white/98 border-gray-200"} backdrop-blur-2xl`,children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#C8A963]/20 via-[#C8A963]/5 to-[#C8A963]/20 rounded-2xl blur opacity-50"}),e.jsxs("div",{className:"relative p-4",children:[e.jsx("div",{className:`text-center mb-4 p-4 rounded-xl ${o?"bg-[#C8A963]/10":"bg-[#C8A963]/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:`text-3xl ${o?"text-white":"text-gray-900"}`,children:String(g).padStart(2,"0")}),e.jsx("span",{className:"text-3xl text-[#C8A963]",children:":"}),e.jsx("span",{className:`text-3xl ${o?"text-white":"text-gray-900"}`,children:String(w).padStart(2,"0")}),e.jsx("button",{type:"button",onClick:ge,className:`ml-2 px-3 py-1 rounded-lg transition-all ${o?"bg-gradient-to-r from-[#C8A963] to-[#B89954] text-[#0C2340] hover:shadow-lg hover:shadow-[#C8A963]/30":"bg-gradient-to-r from-[#C8A963] to-[#B89954] text-white hover:shadow-lg hover:shadow-[#C8A963]/30"}`,children:p})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-xs text-center mb-2 ${o?"text-white/60":"text-gray-600"}`,children:"Hora"}),e.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto custom-scrollbar",children:Z.map(r=>e.jsx("button",{type:"button",onClick:()=>he(r),className:`
                          py-2 rounded-lg text-sm transition-all duration-200
                          ${r===g?o?"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-[#0C2340] shadow-lg shadow-[#C8A963]/30":"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-white shadow-lg shadow-[#C8A963]/30":o?"text-white/70 hover:bg-white/10 hover:text-white":"text-gray-700 hover:bg-gray-100"}
                        `,children:String(r).padStart(2,"0")},r))})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-xs text-center mb-2 ${o?"text-white/60":"text-gray-600"}`,children:"Minuto"}),e.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto custom-scrollbar",children:W.filter(r=>r%5===0).map(r=>e.jsx("button",{type:"button",onClick:()=>me(r),className:`
                          py-2 rounded-lg text-sm transition-all duration-200
                          ${r===w?o?"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-[#0C2340] shadow-lg shadow-[#C8A963]/30":"bg-gradient-to-br from-[#C8A963] to-[#B89954] text-white shadow-lg shadow-[#C8A963]/30":o?"text-white/70 hover:bg-white/10 hover:text-white":"text-gray-700 hover:bg-gray-100"}
                        `,children:String(r).padStart(2,"0")},r))})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4 pt-4 border-t border-white/10",children:[{label:"12:00 PM",h:12,m:0,p:"PM"},{label:"3:00 PM",h:3,m:0,p:"PM"},{label:"7:00 PM",h:7,m:0,p:"PM"}].map(r=>e.jsx("button",{type:"button",onClick:()=>{T(r.h),m(r.m),D(r.p),Q(r.h,r.m,r.p),z(!1)},className:`py-2 px-2 rounded-lg text-xs transition-all ${o?"bg-white/5 text-white/70 hover:bg-[#C8A963]/20 hover:text-[#C8A963]":"bg-gray-100 text-gray-700 hover:bg-[#C8A963]/10 hover:text-[#C8A963]"}`,children:r.label},r.label))})]})]})]}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: ${o?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"};
          border-radius: 2px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(200, 169, 99, 0.5);
          border-radius: 2px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(200, 169, 99, 0.7);
        }
      `})]})}function xs({darkMode:s}){const{matches:v,isLoading:o,addMatch:K,updateMatch:te,deleteMatch:A,updateMatchStatus:z,updateMatchStats:N,venues:g,addVenue:T,deleteVenue:w,teams:m,addTeam:p,deleteTeam:D}=Lt(),{templates:q,polls:he,createPollFromTemplate:me,createPoll:ge,updatePoll:Q,getUnassignedPolls:k}=Ot(),{activePlayers:Z}=Vt(),{currentUser:W}=Ut(),[r,C]=l.useState(!1),[L,E]=l.useState(!1),[se,ae]=l.useState(!1),[Be,re]=l.useState(!1),[i,x]=l.useState(!1),[y,ue]=l.useState(null),[X,Ue]=l.useState(null),[O,He]=l.useState(9),[M]=l.useState(2025),[Pe,it]=l.useState("all"),[F,ie]=l.useState(""),[lt,V]=l.useState(!1),[pe,be]=l.useState([]),[U,le]=l.useState("Cangrejeras"),[H,ne]=l.useState(""),[nt,Y]=l.useState(!1),[ot,R]=l.useState(!1),[ve,we]=l.useState([]),[je,ye]=l.useState([]),[c,f]=l.useState({homeTeam:"Cangrejeras",awayTeam:"",date:"",time:"",venue:"",status:"upcoming",homeScore:0,awayScore:0,description:"",ticketUrl:"",streamUrl:"",votingId:void 0}),[S,oe]=l.useState("none"),[fe,Ye]=l.useState(""),[ct,Re]=l.useState(""),[xt,Ge]=l.useState(""),[dt,_e]=l.useState(""),[ht,Je]=l.useState(!0),[h,B]=l.useState({home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}}),Ke=()=>{f({homeTeam:"Cangrejeras",awayTeam:"",date:"",time:"",venue:"",status:"upcoming",homeScore:0,awayScore:0,description:"",ticketUrl:"",streamUrl:"",votingId:void 0}),ue(null),oe("none"),Ye(""),Re(""),Ge(""),_e(""),Je(!0),ie(""),V(!1),be([]),le("Cangrejeras"),ne(""),Y(!1),R(!1),we([]),ye([])},ce=t=>{t?(ue(t),f({...t,description:t.description||"",ticketUrl:t.ticketUrl||"",streamUrl:t.streamUrl||"",awayTeam:t.awayTeam||"",date:t.date||"",time:t.time||"",venue:t.venue||""}),ie(t.venue||""),le(t.homeTeam||"Cangrejeras"),ne(t.awayTeam||"")):(Ke(),ie(""),le("Cangrejeras"),ne("")),C(!0)},Fe=()=>{C(!1),x(!1),setTimeout(Ke,200)},mt=t=>{Ue(t),t.statistics?B(t.statistics):B({home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}}),E(!0)},Ie=()=>{E(!1),Ue(null)},gt=t=>{if(ie(t),f({...c,venue:t}),t.trim()){const a=g.filter(n=>n.toLowerCase().includes(t.toLowerCase()));be(a),V(!0)}else be([]),V(!1)},ut=t=>{ie(t),f({...c,venue:t}),V(!1)},pt=()=>{setTimeout(()=>{V(!1);const t=F.trim();t&&!g.includes(t)&&T(t)},200)},bt=t=>{if(le(t),f({...c,homeTeam:t}),t.trim()){const a=m.filter(n=>n.toLowerCase().includes(t.toLowerCase()));we(a),Y(!0)}else we([]),Y(!1)},vt=t=>{le(t),f({...c,homeTeam:t}),Y(!1)},wt=()=>{setTimeout(()=>{Y(!1);const t=U.trim();t&&!m.includes(t)&&p(t)},200)},jt=t=>{if(ne(t),f({...c,awayTeam:t}),t.trim()){const a=m.filter(n=>n.toLowerCase().includes(t.toLowerCase())&&n!==c.homeTeam);ye(a),R(!0)}else ye([]),R(!1)},yt=t=>{ne(t),f({...c,awayTeam:t}),R(!1)},ft=()=>{setTimeout(()=>{R(!1);const t=H.trim();t&&!m.includes(t)&&p(t)},200)},Nt=async t=>{if(t.preventDefault(),!c.awayTeam||!c.date||!c.time||!c.venue)return;if(!W){console.error("No user authenticated");return}if(i)return;x(!0);const a=J.loading(y?"Actualizando partido...":"Creando partido...",{duration:1/0});try{let n;if(y?(await te(y.id,c),n={...y,...c}):n=await K(c),S==="template"&&fe&&!y)try{J.loading("Creando votación desde plantilla...",{id:a});const b=q.find(G=>G.id===fe);if(!b){console.error("❌ Template no encontrado:",fe),J.error("Error: Plantilla no encontrada",{id:a});return}const d=Z.map(G=>G.id);if(console.log("📊 Creando votación con jugadoras activas actuales:",{matchId:n.id,matchIdType:typeof n.id,templateName:b.name,playerIds:d,playerCount:d.length,activePlayersCount:Z.length,playersList:Z.map(G=>`${G.name} (#${G.jerseyNumber})`),createdBy:W.id}),d.length===0){console.error("⚠️ No hay jugadoras activas para crear la votación"),J.error("No hay jugadoras activas para crear la votación",{id:a});return}const P=await Rt.createLivePoll({matchId:n.id,title:b.name,description:b.description,playerIds:d,createdBy:W.id},!1);console.log("✅ Votación creada exitosamente:",P),J.success("Votación creada",{id:a,duration:2e3})}catch(b){console.error("❌ ERROR al crear votación:",b),J.error("Error al crear votación: "+b.message,{id:a,duration:5e3})}J.success(y?"Partido actualizado exitosamente":"✅ Partido creado exitosamente",{id:a,duration:3e3}),Fe()}catch(n){console.error("Error saving match:",n),J.error(`Error: ${n.message||"No se pudo guardar el partido"}`,{id:a,duration:4e3})}finally{x(!1)}},Ct=async t=>{if(t.preventDefault(),X)try{await N(X.id,h),Ie()}catch(a){console.error("Error updating stats:",a)}},At=async t=>{if(confirm("¿Estás seguro de eliminar este partido?"))try{await A(t)}catch(a){console.error("Error deleting match:",a)}},qe=async(t,a)=>{try{await z(t,a)}catch(n){console.error("Error updating status:",n)}},Qe=t=>{switch(t){case"live":return{bg:"bg-[#E01E37]/10",text:"text-[#E01E37]",border:"border-[#E01E37]/30"};case"upcoming":return{bg:"bg-[#F97316]/10",text:"text-[#F97316]",border:"border-[#F97316]/30"};case"completed":return{bg:"bg-[#10B981]/10",text:"text-[#10B981]",border:"border-[#10B981]/30"};default:return{bg:"bg-gray-500/10",text:"text-gray-500",border:"border-gray-500/30"}}},$t=t=>{switch(t){case"live":return"En Vivo";case"upcoming":return"Próximo";case"completed":return"Finalizado";default:return t}},Et=(t,a)=>new Date(a,t+1,0).getDate(),St=(t,a)=>new Date(a,t,1).getDay(),zt=Et(O,M),Tt=St(O,M),Dt=Array.from({length:zt},(t,a)=>a+1),Bt=Array.from({length:Tt},(t,a)=>a),Pt=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Ft=t=>{const a=`${M}-${String(O+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`;return v.filter(n=>n.date===a)},Ze=Pe==="all"?v:v.filter(t=>t.status===Pe);if(o)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl ${s?"text-white":"text-gray-900"}`,children:"Gestión de Partidos"}),e.jsx("p",{className:`text-sm mt-1 ${s?"text-white/60":"text-gray-600"}`,children:"Administra el calendario completo de partidos"})]})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C8A963]"})})]});const Le=v.length===0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl ${s?"text-white":"text-gray-900"}`,children:"Gestión de Partidos"}),!Le&&e.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[e.jsxs(de,{variant:"live",size:"sm",children:[v.length," partido",v.length!==1?"s":""]}),e.jsxs(de,{variant:"default",size:"sm",children:[g.length," estadio",g.length!==1?"s":""]}),e.jsxs(de,{variant:"default",size:"sm",children:[m.length," equipo",m.length!==1?"s":""]})]}),Le&&e.jsx("p",{className:`text-sm mt-1 ${s?"text-white/60":"text-gray-600"}`,children:"Administra el calendario completo de partidos"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(j,{onClick:()=>ae(!0),variant:"outline",className:`${s?"border-[#C8A963]/30 text-[#C8A963] hover:bg-[#C8A963]/10":"border-[#C8A963] text-[#C8A963] hover:bg-[#C8A963]/10"}`,children:[e.jsx(_,{size:18,className:"mr-2"}),"Estadios"]}),e.jsxs(j,{onClick:()=>re(!0),variant:"outline",className:`${s?"border-[#E84C4C]/30 text-[#E84C4C] hover:bg-[#E84C4C]/10":"border-[#E84C4C] text-[#E84C4C] hover:bg-[#E84C4C]/10"}`,children:[e.jsx(I,{size:18,className:"mr-2"}),"Equipos"]}),e.jsxs(j,{onClick:()=>ce(),className:"bg-gradient-to-r from-[#0C2340] to-[#1e3a5f] hover:from-[#1e3a5f] hover:to-[#0C2340] text-white shadow-lg",children:[e.jsx(De,{size:18,className:"mr-2"}),"Crear Partido"]})]})]}),Le?e.jsx(_t,{darkMode:s,onAction:()=>ce(),actionLabel:"Crear Primer Partido"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("div",{className:`rounded-xl border p-4 ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl":"bg-white/80 border-gray-200 backdrop-blur-xl"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-white/60":"text-gray-600"}`,children:"Partidos Totales"}),e.jsx("p",{className:`text-2xl mt-1 ${s?"text-white":"text-gray-900"}`,children:v.length})]}),e.jsx(xe,{className:`${s?"text-[#C8A963]":"text-[#0C2340]"}`,size:32})]})}),e.jsx("div",{className:`rounded-xl border p-4 ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl":"bg-white/80 border-gray-200 backdrop-blur-xl"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-white/60":"text-gray-600"}`,children:"Próximos"}),e.jsx("p",{className:`text-2xl mt-1 ${s?"text-white":"text-gray-900"}`,children:v.filter(t=>t.status==="upcoming").length})]}),e.jsx(ee,{className:"text-[#F97316]",size:32})]})}),e.jsx("div",{className:`rounded-xl border p-4 ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl":"bg-white/80 border-gray-200 backdrop-blur-xl"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-white/60":"text-gray-600"}`,children:"Completados"}),e.jsx("p",{className:`text-2xl mt-1 ${s?"text-white":"text-gray-900"}`,children:v.filter(t=>t.status==="completed").length})]}),e.jsx(We,{className:"text-[#10B981]",size:32})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:`rounded-xl border p-6 ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl":"bg-white/80 border-gray-200 backdrop-blur-xl"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-lg flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(ee,{size:18,className:"text-[#C8A963]"}),e.jsxs("span",{children:[Pt[O]," ",M]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{variant:"outline",size:"sm",onClick:()=>He(Math.max(0,O-1)),className:s?"border-white/10 text-white/70 hover:bg-white/10 hover:text-white":"",children:"←"}),e.jsx(j,{variant:"outline",size:"sm",onClick:()=>He(Math.min(11,O+1)),className:s?"border-white/10 text-white/70 hover:bg-white/10 hover:text-white":"",children:"→"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].map(t=>e.jsx("div",{className:`text-center text-xs py-2 ${s?"text-white/60":"text-gray-600"}`,children:t},t)),Bt.map(t=>e.jsx("div",{className:"aspect-square"},`blank-${t}`)),Dt.map(t=>{const a=Ft(t),n=new Date,b=n.getDate()===t&&n.getMonth()===O&&n.getFullYear()===M;return e.jsxs("div",{className:`aspect-square p-1 rounded-lg border transition-all cursor-pointer ${b?s?"bg-[#C8A963]/20 border-[#C8A963]":"bg-[#C8A963]/10 border-[#C8A963]":s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>{if(a.length===0){const d=`${M}-${String(O+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`;f({...c,date:d}),ce()}},children:[e.jsx("div",{className:`text-xs mb-1 ${b?"text-[#C8A963]":s?"text-white/80":"text-gray-900"}`,children:t}),a.length>0&&e.jsxs("div",{className:"space-y-0.5",children:[a.slice(0,2).map(d=>{const P=Qe(d.status);return e.jsxs("div",{className:`text-[10px] px-1 py-0.5 rounded ${P.bg} ${P.text} cursor-pointer hover:scale-105 transition-transform`,onClick:G=>{G.stopPropagation(),ce(d)},children:[e.jsx("div",{className:"truncate",children:d.isHomeTeam?d.awayTeam:d.homeTeam}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5 opacity-90",children:[d.isHomeTeam?e.jsx(Xe,{size:8}):e.jsx(ke,{size:8}),e.jsx("span",{className:"text-[9px]",children:d.time?d.time.substring(0,5):"--:--"})]})]},d.id)}),a.length>2&&e.jsxs("div",{className:`text-[10px] text-center ${s?"text-white/40":"text-gray-400"}`,children:["+",a.length-2]})]})]},t)})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`rounded-xl border p-4 ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl":"bg-white/80 border-gray-200 backdrop-blur-xl"}`,children:[e.jsx(u,{className:`text-sm ${s?"text-white/80":"text-gray-700"}`,children:"Filtrar por Estado"}),e.jsxs("select",{value:Pe,onChange:t=>it(t.target.value),className:`w-full mt-2 px-3 py-2 rounded-lg border transition-all ${s?"bg-white/5 border-white/10 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"live",children:"En Vivo"}),e.jsx("option",{value:"upcoming",children:"Próximos"}),e.jsx("option",{value:"completed",children:"Finalizados"})]})]}),e.jsxs("h3",{className:`text-lg ${s?"text-white":"text-gray-900"}`,children:["Lista de Partidos (",Ze.length,")"]}),e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:Ze.map(t=>{const a=Qe(t.status);return e.jsxs("div",{className:`rounded-xl border p-4 transition-all hover:scale-[1.02] ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl hover:bg-[#1E293B]/70":"bg-white/80 border-gray-200 backdrop-blur-xl hover:bg-white"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(et,{className:`${a.bg} ${a.text} hover:${a.bg}`,children:$t(t.status)}),e.jsxs(et,{className:`${t.isHomeTeam?"bg-[#C8A963]/20 text-[#C8A963]":"bg-[#0C2340]/20 text-[#0C2340] dark:text-[#C8A963]"} flex items-center gap-1.5`,children:[t.isHomeTeam?e.jsx(Xe,{size:12}):e.jsx(ke,{size:12}),e.jsx("span",{children:t.isHomeTeam?"Local":"Visitante"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[(t.status==="live"||t.status==="completed")&&e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>mt(t),className:`${s?"text-[#C8A963] hover:text-[#C8A963] hover:bg-white/10":"text-[#0C2340]"}`,title:"Gestionar Estadísticas",children:e.jsx(Ht,{size:14})}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>ce(t),className:s?"text-white/70 hover:text-white hover:bg-white/10":"",children:e.jsx(Jt,{size:14})}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>At(t.id),className:"text-[#E01E37] hover:text-[#E01E37] hover:bg-[#E01E37]/10",children:e.jsx(Oe,{size:14})})]})]}),e.jsxs("div",{className:`mb-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.homeTeam}),t.homeScore!==void 0&&e.jsx("span",{className:"text-xl mx-2",children:t.homeScore})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.awayTeam}),t.awayScore!==void 0&&e.jsx("span",{className:"text-xl mx-2",children:t.awayScore})]})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s?"text-white/60":"text-gray-600"}`,children:[e.jsx(ee,{size:12}),e.jsx("span",{children:t.date})]}),e.jsxs("div",{className:`flex items-center gap-2 ${s?"text-white/60":"text-gray-600"}`,children:[e.jsx(Ve,{size:12}),e.jsx("span",{children:t.time})]}),e.jsxs("div",{className:`flex items-center gap-2 ${s?"text-white/60":"text-gray-600"}`,children:[e.jsx(_,{size:12}),e.jsx("span",{className:"truncate",children:t.venue})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex gap-1",children:[e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>qe(t.id,"upcoming"),className:`flex-1 text-xs flex items-center justify-center gap-1.5 ${t.status==="upcoming"?"bg-[#F97316]/20 border-[#F97316] text-[#F97316]":s?"border-white/10 text-white/60":""}`,children:[e.jsx(ee,{size:14}),e.jsx("span",{children:"Próximo"})]}),e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>qe(t.id,"live"),className:`flex-1 text-xs flex items-center justify-center gap-1.5 ${t.status==="live"?"bg-[#E01E37]/20 border-[#E01E37] text-[#E01E37]":s?"border-white/10 text-white/60":""}`,children:[e.jsx(Ne,{size:14}),e.jsx("span",{children:"En Vivo"})]}),e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>qe(t.id,"completed"),className:`flex-1 text-xs flex items-center justify-center gap-1.5 ${t.status==="completed"?"bg-[#10B981]/20 border-[#10B981] text-[#10B981]":s?"border-white/10 text-white/60":""}`,children:[e.jsx(We,{size:14}),e.jsx("span",{children:"Finalizado"})]})]})]},t.id)})})]})]})]}),e.jsx(Ce,{open:r,onOpenChange:Fe,children:e.jsxs(Ae,{className:`max-w-2xl max-h-[90vh] overflow-y-auto ${s?"bg-[#1E293B] border-white/10":"bg-white"}`,children:[e.jsxs($e,{children:[e.jsx(Ee,{className:s?"text-white":"text-gray-900",children:y?"Editar Partido":"Crear Nuevo Partido"}),e.jsx(Se,{className:s?"text-white/60":"text-gray-600",children:y?"Modifica la información del partido":"Completa los detalles del nuevo partido"})]}),e.jsxs("form",{onSubmit:Nt,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 relative",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(I,{size:14,className:"text-[#0C2340]"}),"Equipo Local *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:U,onChange:t=>bt(t.target.value),onFocus:()=>{if(U.trim()){const t=m.filter(a=>a.toLowerCase().includes(U.toLowerCase()));we(t),Y(!0)}},onBlur:wt,onKeyDown:t=>{if(t.key==="Enter"){t.preventDefault();const a=U.trim();a&&!m.includes(a)&&p(a),Y(!1)}else t.key==="Escape"&&Y(!1)},placeholder:"Escribe o selecciona un equipo...",className:`w-full px-4 py-3 rounded-xl border text-left transition-all duration-300 relative overflow-hidden ${s?"bg-gradient-to-br from-[#1E293B]/80 via-[#1E293B]/60 to-[#1E293B]/80 border-white/10 text-white hover:border-[#0C2340]/50 focus:border-[#0C2340]/50":"bg-gradient-to-br from-white/95 via-white/80 to-white/95 border-gray-200 text-gray-900 hover:border-[#0C2340]/50 focus:border-[#0C2340]/50"} backdrop-blur-xl focus:outline-none focus:ring-2 focus:ring-[#0C2340]/20`,required:!0}),nt&&(ve.length>0||U.trim())&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-xl border shadow-2xl z-50 max-h-48 overflow-y-auto backdrop-blur-2xl ${s?"bg-gradient-to-br from-[#1E293B]/95 via-[#0F172A]/95 to-[#1E293B]/95 border-white/10":"bg-gradient-to-br from-white/98 via-gray-50/98 to-white/98 border-gray-200"}`,children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#0C2340]/20 via-[#0C2340]/5 to-[#0C2340]/20 rounded-xl blur opacity-50"}),e.jsx("div",{className:"relative",children:ve.length>0?e.jsx(e.Fragment,{children:ve.map((t,a)=>e.jsx("button",{type:"button",onMouseDown:n=>{n.preventDefault(),vt(t)},className:`w-full px-4 py-3 text-left transition-all hover:scale-[1.02] ${a===0?"rounded-t-xl":""} ${a===ve.length-1?"rounded-b-xl":""} ${s?"hover:bg-[#0C2340]/20 text-white":"hover:bg-[#0C2340]/5 text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:14,className:"text-[#0C2340]"}),e.jsx("span",{children:t}),t==="Cangrejeras"&&e.jsx(de,{variant:"live",size:"sm",children:"Principal"})]})},t))}):U.trim()&&e.jsx("div",{className:`px-4 py-3 rounded-xl ${s?"text-white/60":"text-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{size:14,className:"text-[#C8A963]"}),e.jsxs("span",{children:['Presiona Enter para añadir "',U,'"']})]})})})]})]})]}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(I,{size:14,className:"text-[#E84C4C]"}),"Equipo Visitante *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:H,onChange:t=>jt(t.target.value),onFocus:()=>{if(H.trim()){const t=m.filter(a=>a.toLowerCase().includes(H.toLowerCase())&&a!==c.homeTeam);ye(t),R(!0)}},onBlur:ft,onKeyDown:t=>{if(t.key==="Enter"){t.preventDefault();const a=H.trim();a&&!m.includes(a)&&p(a),R(!1)}else t.key==="Escape"&&R(!1)},placeholder:"Escribe o selecciona un equipo...",className:`w-full px-4 py-3 rounded-xl border text-left transition-all duration-300 relative overflow-hidden ${s?"bg-gradient-to-br from-[#1E293B]/80 via-[#1E293B]/60 to-[#1E293B]/80 border-white/10 text-white hover:border-[#E84C4C]/50 focus:border-[#E84C4C]/50":"bg-gradient-to-br from-white/95 via-white/80 to-white/95 border-gray-200 text-gray-900 hover:border-[#E84C4C]/50 focus:border-[#E84C4C]/50"} backdrop-blur-xl focus:outline-none focus:ring-2 focus:ring-[#E84C4C]/20`,required:!0}),ot&&(je.length>0||H.trim())&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-xl border shadow-2xl z-50 max-h-48 overflow-y-auto backdrop-blur-2xl ${s?"bg-gradient-to-br from-[#1E293B]/95 via-[#0F172A]/95 to-[#1E293B]/95 border-white/10":"bg-gradient-to-br from-white/98 via-gray-50/98 to-white/98 border-gray-200"}`,children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#E84C4C]/20 via-[#E84C4C]/5 to-[#E84C4C]/20 rounded-xl blur opacity-50"}),e.jsx("div",{className:"relative",children:je.length>0?e.jsx(e.Fragment,{children:je.map((t,a)=>e.jsx("button",{type:"button",onMouseDown:n=>{n.preventDefault(),yt(t)},className:`w-full px-4 py-3 text-left transition-all hover:scale-[1.02] ${a===0?"rounded-t-xl":""} ${a===je.length-1?"rounded-b-xl":""} ${s?"hover:bg-[#E84C4C]/20 text-white":"hover:bg-[#E84C4C]/5 text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:14,className:"text-[#E84C4C]"}),e.jsx("span",{children:t})]})},t))}):H.trim()&&e.jsx("div",{className:`px-4 py-3 rounded-xl ${s?"text-white/60":"text-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{size:14,className:"text-[#C8A963]"}),e.jsxs("span",{children:['Presiona Enter para añadir "',H,'"']})]})})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Wt,{value:c.date||"",onChange:t=>f({...c,date:t}),darkMode:s,label:"Fecha",required:!0}),e.jsx(Xt,{value:c.time||"",onChange:t=>f({...c,time:t}),darkMode:s,label:"Hora",required:!0})]}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(_,{size:14,className:"text-[#C8A963]"}),"Estadio *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F,onChange:t=>gt(t.target.value),onFocus:()=>{if(F.trim()){const t=g.filter(a=>a.toLowerCase().includes(F.toLowerCase()));be(t),V(!0)}},onBlur:pt,onKeyDown:t=>{if(t.key==="Enter"){t.preventDefault();const a=F.trim();a&&!g.includes(a)&&T(a),V(!1)}else t.key==="Escape"&&V(!1)},placeholder:"Escribe o selecciona un estadio...",className:`w-full px-4 py-3 rounded-xl border text-left transition-all duration-300 relative overflow-hidden ${s?"bg-gradient-to-br from-[#1E293B]/80 via-[#1E293B]/60 to-[#1E293B]/80 border-white/10 text-white hover:border-[#C8A963]/50 focus:border-[#C8A963]/50":"bg-gradient-to-br from-white/95 via-white/80 to-white/95 border-gray-200 text-gray-900 hover:border-[#C8A963]/50 focus:border-[#C8A963]/50"} backdrop-blur-xl focus:outline-none focus:ring-2 focus:ring-[#C8A963]/20`,required:!0}),lt&&(pe.length>0||F.trim())&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-xl border shadow-2xl z-50 max-h-48 overflow-y-auto backdrop-blur-2xl ${s?"bg-gradient-to-br from-[#1E293B]/95 via-[#0F172A]/95 to-[#1E293B]/95 border-white/10":"bg-gradient-to-br from-white/98 via-gray-50/98 to-white/98 border-gray-200"}`,children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#C8A963]/20 via-[#C8A963]/5 to-[#C8A963]/20 rounded-xl blur opacity-50"}),e.jsx("div",{className:"relative",children:pe.length>0?e.jsx(e.Fragment,{children:pe.map((t,a)=>e.jsx("button",{type:"button",onMouseDown:n=>{n.preventDefault(),ut(t)},className:`w-full px-4 py-3 text-left transition-all hover:scale-[1.02] ${a===0?"rounded-t-xl":""} ${a===pe.length-1?"rounded-b-xl":""} ${s?"text-white hover:bg-[#C8A963]/20 hover:text-[#C8A963]":"text-gray-900 hover:bg-[#C8A963]/10 hover:text-[#C8A963]"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{size:14,className:"text-[#C8A963]"}),e.jsx("span",{children:t})]})},t))}):F.trim()&&!g.includes(F.trim())?e.jsxs("div",{className:`px-4 py-3 rounded-xl ${s?"text-white/60":"text-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(De,{size:14,className:"text-[#C8A963]"}),e.jsx("span",{className:"text-sm",children:"Presiona Enter o haz clic afuera para añadir:"})]}),e.jsx("div",{className:`px-3 py-2 rounded-lg ${s?"bg-[#C8A963]/20 text-[#C8A963]":"bg-[#C8A963]/10 text-[#C8A963]"}`,children:F.trim()})]}):null})]})]}),e.jsx("p",{className:`text-xs ${s?"text-white/40":"text-gray-500"}`,children:"Escribe para buscar o crear un estadio nuevo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:s?"text-white/90":"text-gray-700",children:"Estado del Partido"}),e.jsxs("select",{value:c.status,onChange:t=>f({...c,status:t.target.value}),className:`w-full px-3 py-2 rounded-lg border transition-all ${s?"bg-white/5 border-white/10 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[e.jsx("option",{value:"upcoming",children:"Próximo"}),e.jsx("option",{value:"live",children:"En Vivo"}),e.jsx("option",{value:"completed",children:"Finalizado"})]})]}),(c.status==="completed"||c.status==="live")&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:s?"text-white/90":"text-gray-700",children:["Sets ",c.homeTeam]}),e.jsx($,{type:"number",min:"0",max:"3",value:c.homeScore??0,onChange:t=>f({...c,homeScore:parseInt(t.target.value)||0}),className:s?"bg-white/5 border-white/10 text-white":"",placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:s?"text-white/90":"text-gray-700",children:["Sets ",c.awayTeam||"Visitante"]}),e.jsx($,{type:"number",min:"0",max:"3",value:c.awayScore??0,onChange:t=>f({...c,awayScore:parseInt(t.target.value)||0}),className:s?"bg-white/5 border-white/10 text-white":"",placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:s?"text-white/90":"text-gray-700",children:"Descripción"}),e.jsx(tt,{value:c.description||"",onChange:t=>f({...c,description:t.target.value}),className:s?"bg-white/5 border-white/10 text-white":"",placeholder:"Información adicional sobre el partido...",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:s?"text-white/90":"text-gray-700",children:"URL de Boletos"}),e.jsx($,{type:"url",value:c.ticketUrl||"",onChange:t=>f({...c,ticketUrl:t.target.value}),className:s?"bg-white/5 border-white/10 text-white":"",placeholder:"https://tickets.example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:s?"text-white/90":"text-gray-700",children:"URL de Stream"}),e.jsx($,{type:"url",value:c.streamUrl||"",onChange:t=>f({...c,streamUrl:t.target.value}),className:s?"bg-white/5 border-white/10 text-white":"",placeholder:"https://stream.example.com"})]})]}),e.jsx(Gt,{className:s?"bg-white/10":""}),e.jsxs("div",{className:"p-4 rounded-lg border bg-[#8B5CF6]/5 border-[#8B5CF6]/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Kt,{size:20,className:"text-[#8B5CF6]"}),e.jsx("h4",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:"Votación para este Partido"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${S==="none"?s?"bg-white/10 border-[#C8A963]/30":"bg-[#C8A963]/10 border-[#C8A963]/30":s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"votingOption",value:"none",checked:S==="none",onChange:t=>oe(t.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:"Sin votación"}),e.jsx("p",{className:`text-xs ${s?"text-white/60":"text-gray-600"}`,children:"Este partido no tendrá votación asociada"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${S==="template"?s?"bg-white/10 border-[#C8A963]/30":"bg-[#C8A963]/10 border-[#C8A963]/30":s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"votingOption",value:"template",checked:S==="template",onChange:t=>oe(t.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Crear desde plantilla"}),S==="template"&&e.jsxs("select",{value:fe,onChange:t=>Ye(t.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm transition-all ${s?"bg-white/5 border-white/10 text-white":"bg-white border-gray-200 text-gray-900"}`,onClick:t=>t.stopPropagation(),children:[e.jsx("option",{value:"",children:"Seleccionar plantilla..."}),q.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("p",{className:`text-xs mt-2 ${s?"text-white/60":"text-gray-600"}`,children:"Usa una plantilla predefinida y reutilizable"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${S==="new"?s?"bg-white/10 border-[#C8A963]/30":"bg-[#C8A963]/10 border-[#C8A963]/30":s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"votingOption",value:"new",checked:S==="new",onChange:t=>oe(t.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Crear nueva votación personalizada"}),S==="new"&&e.jsxs("div",{className:"space-y-3",onClick:t=>t.stopPropagation(),children:[e.jsx($,{placeholder:"Título de la votación...",value:xt,onChange:t=>Ge(t.target.value),className:`text-sm ${s?"bg-white/5 border-white/10 text-white":""}`}),e.jsx(tt,{placeholder:"Descripción (opcional)...",value:dt,onChange:t=>_e(t.target.value),className:`text-sm ${s?"bg-white/5 border-white/10 text-white":""}`,rows:2}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{size:16,className:"text-[#C8A963]"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ht,onChange:t=>Je(t.target.checked),className:"rounded"}),e.jsx("span",{className:`text-xs ${s?"text-white/80":"text-gray-700"}`,children:"Inicio automático cuando el partido esté en vivo"})]})]})]}),e.jsx("p",{className:`text-xs mt-2 ${s?"text-white/60":"text-gray-600"}`,children:"Crea una votación personalizada para este partido"})]})]}),k().length>0&&e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${S==="existing"?s?"bg-white/10 border-[#C8A963]/30":"bg-[#C8A963]/10 border-[#C8A963]/30":s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"votingOption",value:"existing",checked:S==="existing",onChange:t=>oe(t.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Asociar votación existente"}),S==="existing"&&e.jsxs("select",{value:ct,onChange:t=>Re(t.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm transition-all ${s?"bg-white/5 border-white/10 text-white":"bg-white border-gray-200 text-gray-900"}`,onClick:t=>t.stopPropagation(),children:[e.jsx("option",{value:"",children:"Seleccionar votación..."}),k().map(t=>e.jsxs("option",{value:t.id,children:[t.title," (",t.status,")"]},t.id))]}),e.jsx("p",{className:`text-xs mt-2 ${s?"text-white/60":"text-gray-600"}`,children:"Usa una votación ya creada sin partido asignado"})]})]})]})]}),e.jsxs(ze,{className:"gap-2",children:[e.jsx(j,{type:"button",variant:"outline",onClick:Fe,disabled:i,className:s?"border-white/10 text-white/70 hover:bg-white/10":"",children:"Cancelar"}),e.jsx(j,{type:"submit",disabled:i,className:"bg-gradient-to-r from-[#0C2340] to-[#1e3a5f] hover:from-[#1e3a5f] hover:to-[#0C2340] text-white disabled:opacity-50 disabled:cursor-not-allowed",children:i?y?"Guardando...":"Creando...":y?"Guardar Cambios":"Crear Partido"})]})]})]})}),e.jsx(Ce,{open:L,onOpenChange:Ie,children:e.jsxs(Ae,{className:`max-w-3xl max-h-[90vh] overflow-y-auto ${s?"bg-[#1E293B] border-white/10":"bg-white"}`,children:[e.jsxs($e,{children:[e.jsxs(Ee,{className:`flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(Yt,{size:24,className:"text-[#C8A963]"}),"Gestionar Estadísticas"]}),e.jsx(Se,{className:s?"text-white/60":"text-gray-600",children:X&&`${X.homeTeam} vs ${X.awayTeam}`})]}),e.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[e.jsxs("div",{className:`p-4 rounded-lg border ${s?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("h4",{className:`mb-4 flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(xe,{size:18,className:"text-[#0C2340]"}),X?.homeTeam]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(at,{size:16,className:"text-[#C8A963]"}),"Aces"]}),e.jsx($,{type:"number",min:"0",value:h.home.aces,onChange:t=>B({...h,home:{...h.home,aces:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(Me,{size:16,className:"text-[#0C2340]"}),"Bloqueos"]}),e.jsx($,{type:"number",min:"0",value:h.home.blocks,onChange:t=>B({...h,home:{...h.home,blocks:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(Ne,{size:16,className:"text-[#E84C4C]"}),"Ataques"]}),e.jsx($,{type:"number",min:"0",value:h.home.attacks,onChange:t=>B({...h,home:{...h.home,attacks:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(st,{size:16,className:"text-[#10B981]"}),"Defensas"]}),e.jsx($,{type:"number",min:"0",value:h.home.digs,onChange:t=>B({...h,home:{...h.home,digs:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]})]})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${s?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("h4",{className:`mb-4 flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(xe,{size:18,className:"text-[#E84C4C]"}),X?.awayTeam]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(at,{size:16,className:"text-[#C8A963]"}),"Aces"]}),e.jsx($,{type:"number",min:"0",value:h.away.aces,onChange:t=>B({...h,away:{...h.away,aces:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(Me,{size:16,className:"text-[#0C2340]"}),"Bloqueos"]}),e.jsx($,{type:"number",min:"0",value:h.away.blocks,onChange:t=>B({...h,away:{...h.away,blocks:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(Ne,{size:16,className:"text-[#E84C4C]"}),"Ataques"]}),e.jsx($,{type:"number",min:"0",value:h.away.attacks,onChange:t=>B({...h,away:{...h.away,attacks:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{className:`flex items-center gap-2 ${s?"text-white/90":"text-gray-700"}`,children:[e.jsx(st,{size:16,className:"text-[#10B981]"}),"Defensas"]}),e.jsx($,{type:"number",min:"0",value:h.away.digs,onChange:t=>B({...h,away:{...h.away,digs:parseInt(t.target.value)||0}}),className:s?"bg-white/5 border-white/10 text-white":""})]})]})]}),e.jsxs(ze,{className:"gap-2",children:[e.jsx(j,{type:"button",variant:"outline",onClick:Ie,className:s?"border-white/10 text-white/70 hover:bg-white/10":"",children:"Cancelar"}),e.jsx(j,{type:"submit",className:"bg-gradient-to-r from-[#C8A963] to-[#b89850] hover:from-[#b89850] hover:to-[#C8A963] text-[#0C2340]",children:"Guardar Estadísticas"})]})]})]})}),e.jsx(Ce,{open:se,onOpenChange:ae,children:e.jsxs(Ae,{className:`max-w-xl max-h-[90vh] overflow-y-auto ${s?"bg-[#1E293B] border-white/10":"bg-white"}`,children:[e.jsxs($e,{children:[e.jsxs(Ee,{className:`flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(_,{size:20,className:"text-[#C8A963]"}),"Gestionar Estadios"]}),e.jsx(Se,{className:s?"text-white/60":"text-gray-600",children:"Administra la lista de estadios disponibles para los partidos"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-xl border p-4 ${s?"bg-[#C8A963]/10 border-[#C8A963]/30 backdrop-blur-xl":"bg-[#C8A963]/5 border-[#C8A963]/20 backdrop-blur-xl"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s?"bg-[#C8A963]/20":"bg-[#C8A963]/10"}`,children:e.jsx(_,{size:24,className:"text-[#C8A963]"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-white/60":"text-gray-600"}`,children:"Total de Estadios"}),e.jsx("p",{className:`text-2xl ${s?"text-white":"text-gray-900"}`,children:g.length})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:`text-sm ${s?"text-white/80":"text-gray-700"}`,children:"Lista de Estadios"}),g.length===0?e.jsxs("div",{className:`text-center py-8 rounded-xl border ${s?"bg-white/5 border-white/10 text-white/60":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[e.jsx(_,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No hay estadios registrados"}),e.jsx("p",{className:"text-sm mt-1",children:"Añade uno al crear un partido"})]}):e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:g.map((t,a)=>{const n=v.some(d=>d.venue===t),b=v.filter(d=>d.venue===t).length;return e.jsx("div",{className:`group rounded-xl border p-4 transition-all hover:scale-[1.01] ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl hover:bg-[#1E293B]/70":"bg-white/80 border-gray-200 backdrop-blur-xl hover:bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`p-2 rounded-lg ${s?"bg-[#C8A963]/20":"bg-[#C8A963]/10"}`,children:e.jsx(_,{size:16,className:"text-[#C8A963]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`truncate ${s?"text-white":"text-gray-900"}`,children:t}),n&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(xe,{size:12,className:"text-[#C8A963]"}),e.jsxs("p",{className:`text-xs ${s?"text-white/60":"text-gray-600"}`,children:["Usado en ",b," partido",b!==1?"s":""]})]})]})]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>{n?alert(`No se puede eliminar "${t}" porque está siendo usado en ${b} partido${b!==1?"s":""}.`):confirm(`¿Estás seguro de eliminar el estadio "${t}"?`)&&w(t)},className:`${n?"opacity-40 cursor-not-allowed text-gray-400":"text-[#E01E37] hover:text-[#E01E37] hover:bg-[#E01E37]/10"}`,title:n?"No se puede eliminar porque está en uso":"Eliminar estadio",children:e.jsx(Oe,{size:16})})]})},t)})})]}),e.jsxs("div",{className:`rounded-lg p-3 text-sm ${s?"bg-blue-500/10 border border-blue-500/20 text-blue-300":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Te,{size:12,className:"fill-current"}),e.jsx("span",{children:"Los estadios se añaden automáticamente al crear partidos"})]}),e.jsxs("p",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Te,{size:12,className:"fill-current"}),e.jsx("span",{children:"No puedes eliminar estadios que estén en uso"})]})]})]}),e.jsx(ze,{children:e.jsx(j,{onClick:()=>ae(!1),className:"bg-gradient-to-r from-[#0C2340] to-[#1e3a5f] hover:from-[#1e3a5f] hover:to-[#0C2340] text-white",children:"Cerrar"})})]})}),e.jsx(Ce,{open:Be,onOpenChange:re,children:e.jsxs(Ae,{className:`max-w-xl max-h-[90vh] overflow-y-auto ${s?"bg-[#1E293B] border-white/10":"bg-white"}`,children:[e.jsxs($e,{children:[e.jsxs(Ee,{className:`flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(I,{size:20,className:"text-[#E84C4C]"}),"Gestionar Equipos"]}),e.jsx(Se,{className:s?"text-white/60":"text-gray-600",children:"Administra la lista de equipos disponibles para los partidos"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-xl border p-4 ${s?"bg-[#E84C4C]/10 border-[#E84C4C]/30 backdrop-blur-xl":"bg-[#E84C4C]/5 border-[#E84C4C]/20 backdrop-blur-xl"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s?"bg-[#E84C4C]/20":"bg-[#E84C4C]/10"}`,children:e.jsx(I,{size:24,className:"text-[#E84C4C]"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-white/60":"text-gray-600"}`,children:"Total de Equipos"}),e.jsx("p",{className:`text-2xl ${s?"text-white":"text-gray-900"}`,children:m.length})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:`text-sm ${s?"text-white/80":"text-gray-700"}`,children:"Lista de Equipos"}),m.length===0?e.jsxs("div",{className:`text-center py-8 rounded-xl border ${s?"bg-white/5 border-white/10 text-white/60":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[e.jsx(I,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No hay equipos registrados"}),e.jsx("p",{className:"text-sm mt-1",children:"Añade uno al crear un partido"})]}):e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:m.map((t,a)=>{const n=v.some(P=>P.homeTeam===t||P.awayTeam===t),b=v.filter(P=>P.homeTeam===t||P.awayTeam===t).length,d=t==="Cangrejeras";return e.jsx("div",{className:`group rounded-xl border p-4 transition-all hover:scale-[1.01] ${s?"bg-[#1E293B]/50 border-white/10 backdrop-blur-xl hover:bg-[#1E293B]/70":"bg-white/80 border-gray-200 backdrop-blur-xl hover:bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`p-2 rounded-lg ${d?s?"bg-[#C8A963]/20":"bg-[#C8A963]/10":s?"bg-[#E84C4C]/20":"bg-[#E84C4C]/10"}`,children:e.jsx(I,{size:16,className:d?"text-[#C8A963]":"text-[#E84C4C]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`truncate ${s?"text-white":"text-gray-900"}`,children:t}),d&&e.jsx(de,{variant:"live",size:"sm",children:"Principal"})]}),n&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(xe,{size:12,className:"text-[#C8A963]"}),e.jsxs("p",{className:`text-xs ${s?"text-white/60":"text-gray-600"}`,children:["Usado en ",b," partido",b!==1?"s":""]})]})]})]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>{d?alert("No se puede eliminar el equipo Cangrejeras."):n?alert(`No se puede eliminar "${t}" porque está siendo usado en ${b} partido${b!==1?"s":""}.`):confirm(`¿Estás seguro de eliminar el equipo "${t}"?`)&&D(t)},className:`${d||n?"opacity-40 cursor-not-allowed text-gray-400":"text-[#E01E37] hover:text-[#E01E37] hover:bg-[#E01E37]/10"}`,title:d?"No se puede eliminar el equipo principal":n?"No se puede eliminar porque está en uso":"Eliminar equipo",children:e.jsx(Oe,{size:16})})]})},t)})})]}),e.jsxs("div",{className:`rounded-lg p-3 text-sm ${s?"bg-blue-500/10 border border-blue-500/20 text-blue-300":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Te,{size:12,className:"fill-current"}),e.jsx("span",{children:"Los equipos se añaden automáticamente al crear partidos"})]}),e.jsxs("p",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Te,{size:12,className:"fill-current"}),e.jsx("span",{children:"No puedes eliminar Cangrejeras ni equipos que estén en uso"})]})]})]}),e.jsx(ze,{children:e.jsx(j,{onClick:()=>re(!1),className:"bg-gradient-to-r from-[#0C2340] to-[#1e3a5f] hover:from-[#1e3a5f] hover:to-[#0C2340] text-white",children:"Cerrar"})})]})})]})}export{xs as MatchManagement};
