const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardOverview-IbhnHRut.js","assets/CardPremium-2rissCtU.js","assets/BadgePremium-CHgTGVyr.js","assets/vote-DIb3aHZJ.js","assets/user-plus-CWT3FdNc.js","assets/file-text-BhJfkwiY.js","assets/PlayerManagement-CYDBXCA2.js","assets/textarea-DXIYFMJK.js","assets/x-CfwQjJuw.js","assets/upload-BNIfbxi8.js","assets/EmptyStates-6LFQ27y5.js","assets/plus-CsQDuX2Y.js","assets/info-Cq4KC6bH.js","assets/storageService-CxeeYWuK.js","assets/dialog-DyW0Rv7O.js","assets/alert-dialog-Cl9jiRvw.js","assets/square-pen-BNjTQa8O.js","assets/trash-2-DYaLxA-3.js","assets/pen-Cn057YqI.js","assets/VotingManagement-CJeBzOzm.js","assets/switch-kLVGgs5Q.js","assets/badge-C1TpjppC.js","assets/separator-CgQU91Ql.js","assets/award-CeD3gGFK.js","assets/NewsManagement-BLUCIPQx.js","assets/eye-BQJyOMng.js","assets/MatchManagement-DD_OaTGj.js","assets/StandingsManagement-BFF_12UM.js","assets/save-Bm5X-n4m.js","assets/MediaManagement-Cd7F8bh6.js","assets/download-CDsAgdyk.js","assets/SettingsManagement-C96SSBAr.js","assets/UserProfile-PcwckRDi.js"])))=>i.map(i=>d[i]);
function MA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function nT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sm={exports:{}},bc={},im={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function OA(){if(p_)return $e;p_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function O(V,F,q){this.props=V,this.context=F,this.refs=P,this.updater=q||I}O.prototype.isReactComponent={},O.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function B(){}B.prototype=O.prototype;function J(V,F,q){this.props=V,this.context=F,this.refs=P,this.updater=q||I}var H=J.prototype=new B;H.constructor=J,R(H,O.prototype),H.isPureReactComponent=!0;var X=Array.isArray,re=Object.prototype.hasOwnProperty,Y={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function b(V,F,q){var K,ae={},ue=null,le=null;if(F!=null)for(K in F.ref!==void 0&&(le=F.ref),F.key!==void 0&&(ue=""+F.key),F)re.call(F,K)&&!A.hasOwnProperty(K)&&(ae[K]=F[K]);var me=arguments.length-2;if(me===1)ae.children=q;else if(1<me){for(var xe=Array(me),it=0;it<me;it++)xe[it]=arguments[it+2];ae.children=xe}if(V&&V.defaultProps)for(K in me=V.defaultProps,me)ae[K]===void 0&&(ae[K]=me[K]);return{$$typeof:t,type:V,key:ue,ref:le,props:ae,_owner:Y.current}}function M(V,F){return{$$typeof:t,type:V.type,key:F,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function N(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(q){return F[q]})}var j=/\/+/g;function D(V,F){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):F.toString(36)}function be(V,F,q,K,ae){var ue=typeof V;(ue==="undefined"||ue==="boolean")&&(V=null);var le=!1;if(V===null)le=!0;else switch(ue){case"string":case"number":le=!0;break;case"object":switch(V.$$typeof){case t:case e:le=!0}}if(le)return le=V,ae=ae(le),V=K===""?"."+D(le,0):K,X(ae)?(q="",V!=null&&(q=V.replace(j,"$&/")+"/"),be(ae,F,q,"",function(it){return it})):ae!=null&&(k(ae)&&(ae=M(ae,q+(!ae.key||le&&le.key===ae.key?"":(""+ae.key).replace(j,"$&/")+"/")+V)),F.push(ae)),1;if(le=0,K=K===""?".":K+":",X(V))for(var me=0;me<V.length;me++){ue=V[me];var xe=K+D(ue,me);le+=be(ue,F,q,xe,ae)}else if(xe=T(V),typeof xe=="function")for(V=xe.call(V),me=0;!(ue=V.next()).done;)ue=ue.value,xe=K+D(ue,me++),le+=be(ue,F,q,xe,ae);else if(ue==="object")throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return le}function Oe(V,F,q){if(V==null)return V;var K=[],ae=0;return be(V,K,"","",function(ue){return F.call(q,ue,ae++)}),K}function pe(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(q){(V._status===0||V._status===-1)&&(V._status=1,V._result=q)},function(q){(V._status===0||V._status===-1)&&(V._status=2,V._result=q)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var we={current:null},$={transition:null},te={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:$,ReactCurrentOwner:Y};function oe(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Oe,forEach:function(V,F,q){Oe(V,function(){F.apply(this,arguments)},q)},count:function(V){var F=0;return Oe(V,function(){F++}),F},toArray:function(V){return Oe(V,function(F){return F})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},$e.Component=O,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=J,$e.StrictMode=r,$e.Suspense=f,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,$e.act=oe,$e.cloneElement=function(V,F,q){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var K=R({},V.props),ae=V.key,ue=V.ref,le=V._owner;if(F!=null){if(F.ref!==void 0&&(ue=F.ref,le=Y.current),F.key!==void 0&&(ae=""+F.key),V.type&&V.type.defaultProps)var me=V.type.defaultProps;for(xe in F)re.call(F,xe)&&!A.hasOwnProperty(xe)&&(K[xe]=F[xe]===void 0&&me!==void 0?me[xe]:F[xe])}var xe=arguments.length-2;if(xe===1)K.children=q;else if(1<xe){me=Array(xe);for(var it=0;it<xe;it++)me[it]=arguments[it+2];K.children=me}return{$$typeof:t,type:V.type,key:ae,ref:ue,props:K,_owner:le}},$e.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},$e.createElement=b,$e.createFactory=function(V){var F=b.bind(null,V);return F.type=V,F},$e.createRef=function(){return{current:null}},$e.forwardRef=function(V){return{$$typeof:d,render:V}},$e.isValidElement=k,$e.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:pe}},$e.memo=function(V,F){return{$$typeof:p,type:V,compare:F===void 0?null:F}},$e.startTransition=function(V){var F=$.transition;$.transition={};try{V()}finally{$.transition=F}},$e.unstable_act=oe,$e.useCallback=function(V,F){return we.current.useCallback(V,F)},$e.useContext=function(V){return we.current.useContext(V)},$e.useDebugValue=function(){},$e.useDeferredValue=function(V){return we.current.useDeferredValue(V)},$e.useEffect=function(V,F){return we.current.useEffect(V,F)},$e.useId=function(){return we.current.useId()},$e.useImperativeHandle=function(V,F,q){return we.current.useImperativeHandle(V,F,q)},$e.useInsertionEffect=function(V,F){return we.current.useInsertionEffect(V,F)},$e.useLayoutEffect=function(V,F){return we.current.useLayoutEffect(V,F)},$e.useMemo=function(V,F){return we.current.useMemo(V,F)},$e.useReducer=function(V,F,q){return we.current.useReducer(V,F,q)},$e.useRef=function(V){return we.current.useRef(V)},$e.useState=function(V){return we.current.useState(V)},$e.useSyncExternalStore=function(V,F,q){return we.current.useSyncExternalStore(V,F,q)},$e.useTransition=function(){return we.current.useTransition()},$e.version="18.3.1",$e}var m_;function Sg(){return m_||(m_=1,im.exports=OA()),im.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function VA(){if(g_)return bc;g_=1;var t=Sg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var y,g={},T=null,I=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(I=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:d,key:T,ref:I,props:g,_owner:i.current}}return bc.Fragment=n,bc.jsx=c,bc.jsxs=c,bc}var y_;function LA(){return y_||(y_=1,sm.exports=VA()),sm.exports}var _=LA(),Od={},om={exports:{}},zn={},am={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function jA(){return v_||(v_=1,(function(t){function e($,te){var oe=$.length;$.push(te);e:for(;0<oe;){var V=oe-1>>>1,F=$[V];if(0<i(F,te))$[V]=te,$[oe]=F,oe=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],oe=$.pop();if(oe!==te){$[0]=oe;e:for(var V=0,F=$.length,q=F>>>1;V<q;){var K=2*(V+1)-1,ae=$[K],ue=K+1,le=$[ue];if(0>i(ae,oe))ue<F&&0>i(le,ae)?($[V]=le,$[ue]=oe,V=ue):($[V]=ae,$[K]=oe,V=K);else if(ue<F&&0>i(le,oe))$[V]=le,$[ue]=oe,V=ue;else break e}}return te}function i($,te){var oe=$.sortIndex-te.sortIndex;return oe!==0?oe:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],y=1,g=null,T=3,I=!1,R=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H($){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=$)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function X($){if(P=!1,H($),!R)if(n(f)!==null)R=!0,pe(re);else{var te=n(p);te!==null&&we(X,te.startTime-$)}}function re($,te){R=!1,P&&(P=!1,B(b),b=-1),I=!0;var oe=T;try{for(H(te),g=n(f);g!==null&&(!(g.expirationTime>te)||$&&!N());){var V=g.callback;if(typeof V=="function"){g.callback=null,T=g.priorityLevel;var F=V(g.expirationTime<=te);te=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(f)&&r(f),H(te)}else r(f);g=n(f)}if(g!==null)var q=!0;else{var K=n(p);K!==null&&we(X,K.startTime-te),q=!1}return q}finally{g=null,T=oe,I=!1}}var Y=!1,A=null,b=-1,M=5,k=-1;function N(){return!(t.unstable_now()-k<M)}function j(){if(A!==null){var $=t.unstable_now();k=$;var te=!0;try{te=A(!0,$)}finally{te?D():(Y=!1,A=null)}}else Y=!1}var D;if(typeof J=="function")D=function(){J(j)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Oe=be.port2;be.port1.onmessage=j,D=function(){Oe.postMessage(null)}}else D=function(){O(j,0)};function pe($){A=$,Y||(Y=!0,D())}function we($,te){b=O(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,pe(re))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function($){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var oe=T;T=te;try{return $()}finally{T=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=T;T=$;try{return te()}finally{T=oe}},t.unstable_scheduleCallback=function($,te,oe){var V=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?V+oe:V):oe=V,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=oe+F,$={id:y++,callback:te,priorityLevel:$,startTime:oe,expirationTime:F,sortIndex:-1},oe>V?($.sortIndex=oe,e(p,$),n(f)===null&&$===n(p)&&(P?(B(b),b=-1):P=!0,we(X,oe-V))):($.sortIndex=F,e(f,$),R||I||(R=!0,pe(re))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var te=T;return function(){var oe=T;T=te;try{return $.apply(this,arguments)}finally{T=oe}}}})(lm)),lm}var w_;function FA(){return w_||(w_=1,am.exports=jA()),am.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function UA(){if(__)return zn;__=1;var t=Sg(),e=FA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function T(s){return f.call(g,s)?!0:f.call(y,s)?!1:p.test(s)?g[s]=!0:(y[s]=!0,!1)}function I(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,o,l,h){if(o===null||typeof o>"u"||I(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(s,o,l,h,m,v,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=x}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];O[o]=new P(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function J(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(B,J);O[o]=new P(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(B,J);O[o]=new P(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(B,J);O[o]=new P(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,o,l,h){var m=O.hasOwnProperty(o)?O[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,m,h)&&(l=null),h||m===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),Y=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),$=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,V;function F(s){if(V===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+s}var q=!1;function K(s,o){if(!s||q)return"";q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var h=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){h=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){h=Z}s()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var m=Z.stack.split(`
`),v=h.stack.split(`
`),x=m.length-1,L=v.length-1;1<=x&&0<=L&&m[x]!==v[L];)L--;for(;1<=x&&0<=L;x--,L--)if(m[x]!==v[L]){if(x!==1||L!==1)do if(x--,L--,0>L||m[x]!==v[L]){var U=`
`+m[x].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=x&&0<=L);break}}}finally{q=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?F(s):""}function ae(s){switch(s.tag){case 5:return F(s.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return s=K(s.type,!1),s;case 11:return s=K(s.type.render,!1),s;case 1:return s=K(s.type,!0),s;default:return""}}function ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case Y:return"Portal";case M:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case be:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case k:return(s._context.displayName||"Context")+".Provider";case j:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Oe:return o=s.displayName||null,o!==null?o:ue(s.type)||"Memo";case pe:o=s._payload,s=s._init;try{return ue(s(o))}catch{}}return null}function le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function it(s){var o=xe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(x){h=""+x,v.call(this,x)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function tn(s){s._valueTracker||(s._valueTracker=it(s))}function Bt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=xe(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function Sn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yr(s,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function ga(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=me(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ks(s,o){o=o.checked,o!=null&&H(s,"checked",o,!1)}function Kn(s,o){ks(s,o);var l=me(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?st(s,o.type,l):o.hasOwnProperty("defaultValue")&&st(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function fi(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function st(s,o,l){(o!=="number"||Sn(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var wt=Array.isArray;function Qn(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+me(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function zt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pr(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(wt(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:me(l)}}function ya(s,o){var l=me(o.value),h=me(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Xr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Jr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Jr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Cr,mi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function On(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(s){Pr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Rr[o]=Rr[s]})});function Zr(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Rr.hasOwnProperty(s)&&Rr[s]?(""+o).trim():o+"px"}function gi(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Zr(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var yi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vn(s,o){if(o){if(yi[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function vi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function An(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kr=null,Nr=null,ft=null;function wi(s){if(s=cc(s)){if(typeof kr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Yu(o),kr(s.stateNode,s.type,o))}}function Ve(s){Nr?ft?ft.push(s):ft=[s]:Nr=s}function ct(){if(Nr){var s=Nr,o=ft;if(ft=Nr=null,wi(s),o)for(s=0;s<o.length;s++)wi(o[s])}}function Rt(s,o){return s(o)}function Kt(){}var Cn=!1;function St(s,o,l){if(Cn)return s(o,l);Cn=!0;try{return Rt(s,o,l)}finally{Cn=!1,(Nr!==null||ft!==null)&&(Kt(),ct())}}function Dt(s,o){var l=s.stateNode;if(l===null)return null;var h=Yu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Yn=!1;if(d)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Yn=!1}function pn(s,o,l,h,m,v,x,L,U){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(l,Z)}catch(ce){this.onError(ce)}}var gr=!1,Qt=null,Eo=!1,yr=null,Cu={onError:function(s){gr=!0,Qt=s}};function Ru(s,o,l,h,m,v,x,L,U){gr=!1,Qt=null,pn.apply(Cu,arguments)}function Ll(s,o,l,h,m,v,x,L,U){if(Ru.apply(this,arguments),gr){if(gr){var Z=Qt;gr=!1,Qt=null}else throw Error(n(198));Eo||(Eo=!0,yr=Z)}}function Dr(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function jl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Pu(s){if(Dr(s)!==s)throw Error(n(188))}function ku(s){var o=s.alternate;if(!o){if(o=Dr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Pu(m),s;if(v===h)return Pu(m),o;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=v;else{for(var x=!1,L=m.child;L;){if(L===l){x=!0,l=m,h=v;break}if(L===h){x=!0,h=m,l=v;break}L=L.sibling}if(!x){for(L=v.child;L;){if(L===l){x=!0,l=v,h=m;break}if(L===h){x=!0,h=v,l=m;break}L=L.sibling}if(!x)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function Nu(s){return s=ku(s),s!==null?To(s):null}function To(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=To(s);if(o!==null)return o;s=s.sibling}return null}var Fl=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,xo=e.unstable_shouldYield,Ns=e.unstable_requestPaint,pt=e.unstable_now,Of=e.unstable_getCurrentPriorityLevel,wa=e.unstable_ImmediatePriority,Ul=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,Bl=e.unstable_LowPriority,_a=e.unstable_IdlePriority,Io=null,Xn=null;function Du(s){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Io,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:So,es=Math.log,vr=Math.LN2;function So(s){return s>>>=0,s===0?32:31-(es(s)/vr|0)|0}var ts=64,_i=4194304;function nt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ds(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,x=l&268435455;if(x!==0){var L=x&~m;L!==0?h=nt(L):(v&=x,v!==0&&(h=nt(v)))}else x=l&~m,x!==0?h=nt(x):v!==0&&(h=nt(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-Jn(o),m=1<<l,h|=s[l],o&=~m;return h}function Ao(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var x=31-Jn(v),L=1<<x,U=m[x];U===-1?((L&l)===0||(L&h)!==0)&&(m[x]=Ao(L,o)):U<=o&&(s.expiredLanes|=L),v&=~L}}function zl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function $l(){var s=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),s}function ql(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ro(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Jn(o),s[o]=l}function Vf(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-Jn(l),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~v}}function Hl(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-Jn(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var Ge=0;function ns(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wl,Ea,Gl,Kl,Ql,rs=!1,Ta=[],ss=null,is=null,nn=null,Po=new Map,Ms=new Map,Zn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ei(s,o){switch(s){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Po.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(o.pointerId)}}function Mr(s,o,l,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=cc(o),o!==null&&Ea(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Ou(s,o,l,h,m){switch(o){case"focusin":return ss=Mr(ss,s,o,l,h,m),!0;case"dragenter":return is=Mr(is,s,o,l,h,m),!0;case"mouseover":return nn=Mr(nn,s,o,l,h,m),!0;case"pointerover":var v=m.pointerId;return Po.set(v,Mr(Po.get(v)||null,s,o,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Ms.set(v,Mr(Ms.get(v)||null,s,o,l,h,m)),!0}return!1}function xa(s){var o=Mo(s.target);if(o!==null){var l=Dr(o);if(l!==null){if(o=l.tag,o===13){if(o=jl(l),o!==null){s.blockedOn=o,Ql(s.priority,function(){Gl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ut(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=ba(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);mr=h,l.target.dispatchEvent(h),mr=null}else return o=cc(l),o!==null&&Ea(o),s.blockedOn=l,!1;o.shift()}return!0}function Vu(s,o,l){ut(s)&&l.delete(o)}function Lf(){rs=!1,ss!==null&&ut(ss)&&(ss=null),is!==null&&ut(is)&&(is=null),nn!==null&&ut(nn)&&(nn=null),Po.forEach(Vu),Ms.forEach(Vu)}function Ti(s,o){s.blockedOn===o&&(s.blockedOn=null,rs||(rs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lf)))}function xi(s){function o(m){return Ti(m,s)}if(0<Ta.length){Ti(Ta[0],s);for(var l=1;l<Ta.length;l++){var h=Ta[l];h.blockedOn===s&&(h.blockedOn=null)}}for(ss!==null&&Ti(ss,s),is!==null&&Ti(is,s),nn!==null&&Ti(nn,s),Po.forEach(o),Ms.forEach(o),l=0;l<Zn.length;l++)h=Zn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)xa(l),l.blockedOn===null&&Zn.shift()}var Os=X.ReactCurrentBatchConfig,Vs=!0;function os(s,o,l,h){var m=Ge,v=Os.transition;Os.transition=null;try{Ge=1,Yl(s,o,l,h)}finally{Ge=m,Os.transition=v}}function Lu(s,o,l,h){var m=Ge,v=Os.transition;Os.transition=null;try{Ge=4,Yl(s,o,l,h)}finally{Ge=m,Os.transition=v}}function Yl(s,o,l,h){if(Vs){var m=ba(s,o,l,h);if(m===null)Kf(s,o,h,as,l),Ei(s,h);else if(Ou(m,s,o,l,h))h.stopPropagation();else if(Ei(s,h),o&4&&-1<Mu.indexOf(s)){for(;m!==null;){var v=cc(m);if(v!==null&&Wl(v),v=ba(s,o,l,h),v===null&&Kf(s,o,h,as,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else Kf(s,o,h,null,l)}}var as=null;function ba(s,o,l,h){if(as=null,s=An(h),s=Mo(s),s!==null)if(o=Dr(s),o===null)s=null;else if(l=o.tag,l===13){if(s=jl(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return as=s,null}function Ia(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case wa:return 1;case Ul:return 4;case bo:case Bl:return 16;case _a:return 536870912;default:return 16}default:return 16}}var er=null,Sa=null,Ls=null;function ju(){if(Ls)return Ls;var s,o=Sa,l=o.length,h,m="value"in er?er.value:er.textContent,v=m.length;for(s=0;s<l&&o[s]===m[s];s++);var x=l-s;for(h=1;h<=x&&o[l-h]===m[v-h];h++);return Ls=m.slice(s,1<h?1-h:void 0)}function ko(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function Xl(){return!1}function mn(s){function o(l,h,m,v,x){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(l=s[L],this[L]=l?l(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ls:Xl,this.isPropagationStopped=Xl,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=mn(cs),bi=oe({},cs,{view:0,detail:0}),Aa=mn(bi),Ca,Ra,tr,Do=oe({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tr&&(tr&&s.type==="mousemove"?(Ca=s.screenX-tr.screenX,Ra=s.screenY-tr.screenY):Ra=Ca=0,tr=s),Ca)},movementY:function(s){return"movementY"in s?s.movementY:Ra}}),Jl=mn(Do),Fu=oe({},Do,{dataTransfer:0}),Uu=mn(Fu),Pa=oe({},bi,{relatedTarget:0}),rn=mn(Pa),Bu=oe({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=mn(Bu),Ii=oe({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=mn(Ii),w=oe({},cs,{data:0}),E=mn(w),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ee[s])?!!o[s]:!1}function Be(){return ge}var Pt=oe({},bi,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ko(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(s){return s.type==="keypress"?ko(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ko(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ot=mn(Pt),Ot=oe({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=mn(Ot),js=oe({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),us=mn(js),ds=oe({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ka=mn(ds),Zl=oe({},Do,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=mn(Zl),RS=[9,13,27,32],jf=d&&"CompositionEvent"in window,ec=null;d&&"documentMode"in document&&(ec=document.documentMode);var PS=d&&"TextEvent"in window&&!ec,ov=d&&(!jf||ec&&8<ec&&11>=ec),av=" ",lv=!1;function cv(s,o){switch(s){case"keyup":return RS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Na=!1;function kS(s,o){switch(s){case"compositionend":return uv(o);case"keypress":return o.which!==32?null:(lv=!0,av);case"textInput":return s=o.data,s===av&&lv?null:s;default:return null}}function NS(s,o){if(Na)return s==="compositionend"||!jf&&cv(s,o)?(s=ju(),Ls=Sa=er=null,Na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ov&&o.locale!=="ko"?null:o.data;default:return null}}var DS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!DS[s.type]:o==="textarea"}function hv(s,o,l,h){Ve(h),o=Gu(o,"onChange"),0<o.length&&(l=new No("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var tc=null,nc=null;function MS(s){Pv(s,0)}function $u(s){var o=La(s);if(Bt(o))return s}function OS(s,o){if(s==="change")return o}var fv=!1;if(d){var Ff;if(d){var Uf="oninput"in document;if(!Uf){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Uf=typeof pv.oninput=="function"}Ff=Uf}else Ff=!1;fv=Ff&&(!document.documentMode||9<document.documentMode)}function mv(){tc&&(tc.detachEvent("onpropertychange",gv),nc=tc=null)}function gv(s){if(s.propertyName==="value"&&$u(nc)){var o=[];hv(o,nc,s,An(s)),St(MS,o)}}function VS(s,o,l){s==="focusin"?(mv(),tc=o,nc=l,tc.attachEvent("onpropertychange",gv)):s==="focusout"&&mv()}function LS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $u(nc)}function jS(s,o){if(s==="click")return $u(o)}function FS(s,o){if(s==="input"||s==="change")return $u(o)}function US(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Or=typeof Object.is=="function"?Object.is:US;function rc(s,o){if(Or(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Or(s[m],o[m]))return!1}return!0}function yv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vv(s,o){var l=yv(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yv(l)}}function wv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _v(){for(var s=window,o=Sn();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Sn(s.document)}return o}function Bf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function BS(s){var o=_v(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&wv(l.ownerDocument.documentElement,l)){if(h!==null&&Bf(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=vv(l,v);var x=vv(l,h);m&&x&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var zS=d&&"documentMode"in document&&11>=document.documentMode,Da=null,zf=null,sc=null,$f=!1;function Ev(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$f||Da==null||Da!==Sn(h)||(h=Da,"selectionStart"in h&&Bf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),sc&&rc(sc,h)||(sc=h,h=Gu(zf,"onSelect"),0<h.length&&(o=new No("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=Da)))}function qu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Ma={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},qf={},Tv={};d&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Hu(s){if(qf[s])return qf[s];if(!Ma[s])return s;var o=Ma[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Tv)return qf[s]=o[l];return s}var xv=Hu("animationend"),bv=Hu("animationiteration"),Iv=Hu("animationstart"),Sv=Hu("transitionend"),Av=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(s,o){Av.set(s,o),a(o,[s])}for(var Hf=0;Hf<Cv.length;Hf++){var Wf=Cv[Hf],$S=Wf.toLowerCase(),qS=Wf[0].toUpperCase()+Wf.slice(1);Si($S,"on"+qS)}Si(xv,"onAnimationEnd"),Si(bv,"onAnimationIteration"),Si(Iv,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Sv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Rv(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,Ll(h,o,void 0,s),s.currentTarget=null}function Pv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var x=h.length-1;0<=x;x--){var L=h[x],U=L.instance,Z=L.currentTarget;if(L=L.listener,U!==v&&m.isPropagationStopped())break e;Rv(m,L,Z),v=U}else for(x=0;x<h.length;x++){if(L=h[x],U=L.instance,Z=L.currentTarget,L=L.listener,U!==v&&m.isPropagationStopped())break e;Rv(m,L,Z),v=U}}}if(Eo)throw s=yr,Eo=!1,yr=null,s}function mt(s,o){var l=o[ep];l===void 0&&(l=o[ep]=new Set);var h=s+"__bubble";l.has(h)||(kv(o,s,2,!1),l.add(h))}function Gf(s,o,l){var h=0;o&&(h|=4),kv(l,s,h,o)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function oc(s){if(!s[Wu]){s[Wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(HS.has(l)||Gf(l,!1,s),Gf(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wu]||(o[Wu]=!0,Gf("selectionchange",!1,o))}}function kv(s,o,l,h){switch(Ia(o)){case 1:var m=os;break;case 4:m=Lu;break;default:m=Yl}l=m.bind(null,o,l,s),m=void 0,!Yn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function Kf(s,o,l,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var L=h.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(x===4)for(x=h.return;x!==null;){var U=x.tag;if((U===3||U===4)&&(U=x.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;x=x.return}for(;L!==null;){if(x=Mo(L),x===null)return;if(U=x.tag,U===5||U===6){h=v=x;continue e}L=L.parentNode}}h=h.return}St(function(){var Z=v,ce=An(l),de=[];e:{var ie=Av.get(s);if(ie!==void 0){var _e=No,Ie=s;switch(s){case"keypress":if(ko(l)===0)break e;case"keydown":case"keyup":_e=ot;break;case"focusin":Ie="focus",_e=rn;break;case"focusout":Ie="blur",_e=rn;break;case"beforeblur":case"afterblur":_e=rn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=us;break;case xv:case bv:case Iv:_e=zu;break;case Sv:_e=ka;break;case"scroll":_e=Aa;break;case"wheel":_e=CS;break;case"copy":case"cut":case"paste":_e=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=nr}var Re=(o&4)!==0,kt=!Re&&s==="scroll",W=Re?ie!==null?ie+"Capture":null:ie;Re=[];for(var z=Z,Q;z!==null;){Q=z;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,W!==null&&(he=Dt(z,W),he!=null&&Re.push(ac(z,he,Q)))),kt)break;z=z.return}0<Re.length&&(ie=new _e(ie,Ie,null,l,ce),de.push({event:ie,listeners:Re}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",ie&&l!==mr&&(Ie=l.relatedTarget||l.fromElement)&&(Mo(Ie)||Ie[Fs]))break e;if((_e||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,_e?(Ie=l.relatedTarget||l.toElement,_e=Z,Ie=Ie?Mo(Ie):null,Ie!==null&&(kt=Dr(Ie),Ie!==kt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=Z),_e!==Ie)){if(Re=Jl,he="onMouseLeave",W="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Re=nr,he="onPointerLeave",W="onPointerEnter",z="pointer"),kt=_e==null?ie:La(_e),Q=Ie==null?ie:La(Ie),ie=new Re(he,z+"leave",_e,l,ce),ie.target=kt,ie.relatedTarget=Q,he=null,Mo(ce)===Z&&(Re=new Re(W,z+"enter",Ie,l,ce),Re.target=Q,Re.relatedTarget=kt,he=Re),kt=he,_e&&Ie)t:{for(Re=_e,W=Ie,z=0,Q=Re;Q;Q=Oa(Q))z++;for(Q=0,he=W;he;he=Oa(he))Q++;for(;0<z-Q;)Re=Oa(Re),z--;for(;0<Q-z;)W=Oa(W),Q--;for(;z--;){if(Re===W||W!==null&&Re===W.alternate)break t;Re=Oa(Re),W=Oa(W)}Re=null}else Re=null;_e!==null&&Nv(de,ie,_e,Re,!1),Ie!==null&&kt!==null&&Nv(de,kt,Ie,Re,!0)}}e:{if(ie=Z?La(Z):window,_e=ie.nodeName&&ie.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ie.type==="file")var Pe=OS;else if(dv(ie))if(fv)Pe=FS;else{Pe=LS;var De=VS}else(_e=ie.nodeName)&&_e.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Pe=jS);if(Pe&&(Pe=Pe(s,Z))){hv(de,Pe,l,ce);break e}De&&De(s,ie,Z),s==="focusout"&&(De=ie._wrapperState)&&De.controlled&&ie.type==="number"&&st(ie,"number",ie.value)}switch(De=Z?La(Z):window,s){case"focusin":(dv(De)||De.contentEditable==="true")&&(Da=De,zf=Z,sc=null);break;case"focusout":sc=zf=Da=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Ev(de,l,ce);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Ev(de,l,ce)}var Me;if(jf)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Na?cv(s,l)&&(Fe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(ov&&l.locale!=="ko"&&(Na||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Na&&(Me=ju()):(er=ce,Sa="value"in er?er.value:er.textContent,Na=!0)),De=Gu(Z,Fe),0<De.length&&(Fe=new E(Fe,s,null,l,ce),de.push({event:Fe,listeners:De}),Me?Fe.data=Me:(Me=uv(l),Me!==null&&(Fe.data=Me)))),(Me=PS?kS(s,l):NS(s,l))&&(Z=Gu(Z,"onBeforeInput"),0<Z.length&&(ce=new E("onBeforeInput","beforeinput",null,l,ce),de.push({event:ce,listeners:Z}),ce.data=Me))}Pv(de,o)})}function ac(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Gu(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Dt(s,l),v!=null&&h.unshift(ac(s,v,m)),v=Dt(s,o),v!=null&&h.push(ac(s,v,m))),s=s.return}return h}function Oa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Nv(s,o,l,h,m){for(var v=o._reactName,x=[];l!==null&&l!==h;){var L=l,U=L.alternate,Z=L.stateNode;if(U!==null&&U===h)break;L.tag===5&&Z!==null&&(L=Z,m?(U=Dt(l,v),U!=null&&x.unshift(ac(l,U,L))):m||(U=Dt(l,v),U!=null&&x.push(ac(l,U,L)))),l=l.return}x.length!==0&&s.push({event:o,listeners:x})}var WS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Dv(s){return(typeof s=="string"?s:""+s).replace(WS,`
`).replace(GS,"")}function Ku(s,o,l){if(o=Dv(o),Dv(s)!==o&&l)throw Error(n(425))}function Qu(){}var Qf=null,Yf=null;function Xf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(s){return Mv.resolve(null).then(s).catch(YS)}:Jf;function YS(s){setTimeout(function(){throw s})}function Zf(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),xi(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);xi(o)}function Ai(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ov(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Va=Math.random().toString(36).slice(2),hs="__reactFiber$"+Va,lc="__reactProps$"+Va,Fs="__reactContainer$"+Va,ep="__reactEvents$"+Va,XS="__reactListeners$"+Va,JS="__reactHandles$"+Va;function Mo(s){var o=s[hs];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Fs]||l[hs]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Ov(s);s!==null;){if(l=s[hs])return l;s=Ov(s)}return o}s=l,l=s.parentNode}return null}function cc(s){return s=s[hs]||s[Fs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function La(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Yu(s){return s[lc]||null}var tp=[],ja=-1;function Ci(s){return{current:s}}function gt(s){0>ja||(s.current=tp[ja],tp[ja]=null,ja--)}function ht(s,o){ja++,tp[ja]=s.current,s.current=o}var Ri={},gn=Ci(Ri),Ln=Ci(!1),Oo=Ri;function Fa(s,o){var l=s.type.contextTypes;if(!l)return Ri;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function jn(s){return s=s.childContextTypes,s!=null}function Xu(){gt(Ln),gt(gn)}function Vv(s,o,l){if(gn.current!==Ri)throw Error(n(168));ht(gn,o),ht(Ln,l)}function Lv(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,le(s)||"Unknown",m));return oe({},l,h)}function Ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ri,Oo=gn.current,ht(gn,s),ht(Ln,Ln.current),!0}function jv(s,o,l){var h=s.stateNode;if(!h)throw Error(n(169));l?(s=Lv(s,o,Oo),h.__reactInternalMemoizedMergedChildContext=s,gt(Ln),gt(gn),ht(gn,s)):gt(Ln),ht(Ln,l)}var Us=null,Zu=!1,np=!1;function Fv(s){Us===null?Us=[s]:Us.push(s)}function ZS(s){Zu=!0,Fv(s)}function Pi(){if(!np&&Us!==null){np=!0;var s=0,o=Ge;try{var l=Us;for(Ge=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Us=null,Zu=!1}catch(m){throw Us!==null&&(Us=Us.slice(s+1)),Fl(wa,Pi),m}finally{Ge=o,np=!1}}return null}var Ua=[],Ba=0,ed=null,td=0,wr=[],_r=0,Vo=null,Bs=1,zs="";function Lo(s,o){Ua[Ba++]=td,Ua[Ba++]=ed,ed=s,td=o}function Uv(s,o,l){wr[_r++]=Bs,wr[_r++]=zs,wr[_r++]=Vo,Vo=s;var h=Bs;s=zs;var m=32-Jn(h)-1;h&=~(1<<m),l+=1;var v=32-Jn(o)+m;if(30<v){var x=m-m%5;v=(h&(1<<x)-1).toString(32),h>>=x,m-=x,Bs=1<<32-Jn(o)+m|l<<m|h,zs=v+s}else Bs=1<<v|l<<m|h,zs=s}function rp(s){s.return!==null&&(Lo(s,1),Uv(s,1,0))}function sp(s){for(;s===ed;)ed=Ua[--Ba],Ua[Ba]=null,td=Ua[--Ba],Ua[Ba]=null;for(;s===Vo;)Vo=wr[--_r],wr[_r]=null,zs=wr[--_r],wr[_r]=null,Bs=wr[--_r],wr[_r]=null}var rr=null,sr=null,vt=!1,Vr=null;function Bv(s,o){var l=br(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function zv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,rr=s,sr=Ai(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,rr=s,sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Vo!==null?{id:Bs,overflow:zs}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=br(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,rr=s,sr=null,!0):!1;default:return!1}}function ip(s){return(s.mode&1)!==0&&(s.flags&128)===0}function op(s){if(vt){var o=sr;if(o){var l=o;if(!zv(s,o)){if(ip(s))throw Error(n(418));o=Ai(l.nextSibling);var h=rr;o&&zv(s,o)?Bv(h,l):(s.flags=s.flags&-4097|2,vt=!1,rr=s)}}else{if(ip(s))throw Error(n(418));s.flags=s.flags&-4097|2,vt=!1,rr=s}}}function $v(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rr=s}function nd(s){if(s!==rr)return!1;if(!vt)return $v(s),vt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Xf(s.type,s.memoizedProps)),o&&(o=sr)){if(ip(s))throw qv(),Error(n(418));for(;o;)Bv(s,o),o=Ai(o.nextSibling)}if($v(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){sr=Ai(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}sr=null}}else sr=rr?Ai(s.stateNode.nextSibling):null;return!0}function qv(){for(var s=sr;s;)s=Ai(s.nextSibling)}function za(){sr=rr=null,vt=!1}function ap(s){Vr===null?Vr=[s]:Vr.push(s)}var eA=X.ReactCurrentBatchConfig;function uc(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(x){var L=m.refs;x===null?delete L[v]:L[v]=x},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function rd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Hv(s){var o=s._init;return o(s._payload)}function Wv(s){function o(W,z){if(s){var Q=W.deletions;Q===null?(W.deletions=[z],W.flags|=16):Q.push(z)}}function l(W,z){if(!s)return null;for(;z!==null;)o(W,z),z=z.sibling;return null}function h(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function m(W,z){return W=ji(W,z),W.index=0,W.sibling=null,W}function v(W,z,Q){return W.index=Q,s?(Q=W.alternate,Q!==null?(Q=Q.index,Q<z?(W.flags|=2,z):Q):(W.flags|=2,z)):(W.flags|=1048576,z)}function x(W){return s&&W.alternate===null&&(W.flags|=2),W}function L(W,z,Q,he){return z===null||z.tag!==6?(z=Jp(Q,W.mode,he),z.return=W,z):(z=m(z,Q),z.return=W,z)}function U(W,z,Q,he){var Pe=Q.type;return Pe===A?ce(W,z,Q.props.children,he,Q.key):z!==null&&(z.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===pe&&Hv(Pe)===z.type)?(he=m(z,Q.props),he.ref=uc(W,z,Q),he.return=W,he):(he=Ad(Q.type,Q.key,Q.props,null,W.mode,he),he.ref=uc(W,z,Q),he.return=W,he)}function Z(W,z,Q,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Zp(Q,W.mode,he),z.return=W,z):(z=m(z,Q.children||[]),z.return=W,z)}function ce(W,z,Q,he,Pe){return z===null||z.tag!==7?(z=Ho(Q,W.mode,he,Pe),z.return=W,z):(z=m(z,Q),z.return=W,z)}function de(W,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Jp(""+z,W.mode,Q),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case re:return Q=Ad(z.type,z.key,z.props,null,W.mode,Q),Q.ref=uc(W,null,z),Q.return=W,Q;case Y:return z=Zp(z,W.mode,Q),z.return=W,z;case pe:var he=z._init;return de(W,he(z._payload),Q)}if(wt(z)||te(z))return z=Ho(z,W.mode,Q,null),z.return=W,z;rd(W,z)}return null}function ie(W,z,Q,he){var Pe=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Pe!==null?null:L(W,z,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case re:return Q.key===Pe?U(W,z,Q,he):null;case Y:return Q.key===Pe?Z(W,z,Q,he):null;case pe:return Pe=Q._init,ie(W,z,Pe(Q._payload),he)}if(wt(Q)||te(Q))return Pe!==null?null:ce(W,z,Q,he,null);rd(W,Q)}return null}function _e(W,z,Q,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return W=W.get(Q)||null,L(z,W,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case re:return W=W.get(he.key===null?Q:he.key)||null,U(z,W,he,Pe);case Y:return W=W.get(he.key===null?Q:he.key)||null,Z(z,W,he,Pe);case pe:var De=he._init;return _e(W,z,Q,De(he._payload),Pe)}if(wt(he)||te(he))return W=W.get(Q)||null,ce(z,W,he,Pe,null);rd(z,he)}return null}function Ie(W,z,Q,he){for(var Pe=null,De=null,Me=z,Fe=z=0,Jt=null;Me!==null&&Fe<Q.length;Fe++){Me.index>Fe?(Jt=Me,Me=null):Jt=Me.sibling;var tt=ie(W,Me,Q[Fe],he);if(tt===null){Me===null&&(Me=Jt);break}s&&Me&&tt.alternate===null&&o(W,Me),z=v(tt,z,Fe),De===null?Pe=tt:De.sibling=tt,De=tt,Me=Jt}if(Fe===Q.length)return l(W,Me),vt&&Lo(W,Fe),Pe;if(Me===null){for(;Fe<Q.length;Fe++)Me=de(W,Q[Fe],he),Me!==null&&(z=v(Me,z,Fe),De===null?Pe=Me:De.sibling=Me,De=Me);return vt&&Lo(W,Fe),Pe}for(Me=h(W,Me);Fe<Q.length;Fe++)Jt=_e(Me,W,Fe,Q[Fe],he),Jt!==null&&(s&&Jt.alternate!==null&&Me.delete(Jt.key===null?Fe:Jt.key),z=v(Jt,z,Fe),De===null?Pe=Jt:De.sibling=Jt,De=Jt);return s&&Me.forEach(function(Fi){return o(W,Fi)}),vt&&Lo(W,Fe),Pe}function Re(W,z,Q,he){var Pe=te(Q);if(typeof Pe!="function")throw Error(n(150));if(Q=Pe.call(Q),Q==null)throw Error(n(151));for(var De=Pe=null,Me=z,Fe=z=0,Jt=null,tt=Q.next();Me!==null&&!tt.done;Fe++,tt=Q.next()){Me.index>Fe?(Jt=Me,Me=null):Jt=Me.sibling;var Fi=ie(W,Me,tt.value,he);if(Fi===null){Me===null&&(Me=Jt);break}s&&Me&&Fi.alternate===null&&o(W,Me),z=v(Fi,z,Fe),De===null?Pe=Fi:De.sibling=Fi,De=Fi,Me=Jt}if(tt.done)return l(W,Me),vt&&Lo(W,Fe),Pe;if(Me===null){for(;!tt.done;Fe++,tt=Q.next())tt=de(W,tt.value,he),tt!==null&&(z=v(tt,z,Fe),De===null?Pe=tt:De.sibling=tt,De=tt);return vt&&Lo(W,Fe),Pe}for(Me=h(W,Me);!tt.done;Fe++,tt=Q.next())tt=_e(Me,W,Fe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Me.delete(tt.key===null?Fe:tt.key),z=v(tt,z,Fe),De===null?Pe=tt:De.sibling=tt,De=tt);return s&&Me.forEach(function(DA){return o(W,DA)}),vt&&Lo(W,Fe),Pe}function kt(W,z,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case re:e:{for(var Pe=Q.key,De=z;De!==null;){if(De.key===Pe){if(Pe=Q.type,Pe===A){if(De.tag===7){l(W,De.sibling),z=m(De,Q.props.children),z.return=W,W=z;break e}}else if(De.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===pe&&Hv(Pe)===De.type){l(W,De.sibling),z=m(De,Q.props),z.ref=uc(W,De,Q),z.return=W,W=z;break e}l(W,De);break}else o(W,De);De=De.sibling}Q.type===A?(z=Ho(Q.props.children,W.mode,he,Q.key),z.return=W,W=z):(he=Ad(Q.type,Q.key,Q.props,null,W.mode,he),he.ref=uc(W,z,Q),he.return=W,W=he)}return x(W);case Y:e:{for(De=Q.key;z!==null;){if(z.key===De)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(W,z.sibling),z=m(z,Q.children||[]),z.return=W,W=z;break e}else{l(W,z);break}else o(W,z);z=z.sibling}z=Zp(Q,W.mode,he),z.return=W,W=z}return x(W);case pe:return De=Q._init,kt(W,z,De(Q._payload),he)}if(wt(Q))return Ie(W,z,Q,he);if(te(Q))return Re(W,z,Q,he);rd(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(l(W,z.sibling),z=m(z,Q),z.return=W,W=z):(l(W,z),z=Jp(Q,W.mode,he),z.return=W,W=z),x(W)):l(W,z)}return kt}var $a=Wv(!0),Gv=Wv(!1),sd=Ci(null),id=null,qa=null,lp=null;function cp(){lp=qa=id=null}function up(s){var o=sd.current;gt(sd),s._currentValue=o}function dp(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function Ha(s,o){id=s,lp=qa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Fn=!0),s.firstContext=null)}function Er(s){var o=s._currentValue;if(lp!==s)if(s={context:s,memoizedValue:o,next:null},qa===null){if(id===null)throw Error(n(308));qa=s,id.dependencies={lanes:0,firstContext:s}}else qa=qa.next=s;return o}var jo=null;function hp(s){jo===null?jo=[s]:jo.push(s)}function Kv(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,hp(o)):(l.next=m.next,m.next=l),o.interleaved=l,$s(s,h)}function $s(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ki=!1;function fp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ni(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(et&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,$s(s,l)}return m=h.interleaved,m===null?(o.next=o,hp(h)):(o.next=m.next,m.next=o),h.interleaved=o,$s(s,l)}function od(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Hl(s,l)}}function Yv(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=x:v=v.next=x,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function ad(s,o,l,h){var m=s.updateQueue;ki=!1;var v=m.firstBaseUpdate,x=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var U=L,Z=U.next;U.next=null,x===null?v=Z:x.next=Z,x=U;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==x&&(L===null?ce.firstBaseUpdate=Z:L.next=Z,ce.lastBaseUpdate=U))}if(v!==null){var de=m.baseState;x=0,ce=Z=U=null,L=v;do{var ie=L.lane,_e=L.eventTime;if((h&ie)===ie){ce!==null&&(ce=ce.next={eventTime:_e,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ie=s,Re=L;switch(ie=o,_e=l,Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){de=Ie.call(_e,de,ie);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,ie=typeof Ie=="function"?Ie.call(_e,de,ie):Ie,ie==null)break e;de=oe({},de,ie);break e;case 2:ki=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ie=m.effects,ie===null?m.effects=[L]:ie.push(L))}else _e={eventTime:_e,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(Z=ce=_e,U=de):ce=ce.next=_e,x|=ie;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(ce===null&&(U=de),m.baseState=U,m.firstBaseUpdate=Z,m.lastBaseUpdate=ce,o=m.shared.interleaved,o!==null){m=o;do x|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Bo|=x,s.lanes=x,s.memoizedState=de}}function Xv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var dc={},fs=Ci(dc),hc=Ci(dc),fc=Ci(dc);function Fo(s){if(s===dc)throw Error(n(174));return s}function pp(s,o){switch(ht(fc,o),ht(hc,s),ht(fs,dc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:pi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=pi(o,s)}gt(fs),ht(fs,o)}function Wa(){gt(fs),gt(hc),gt(fc)}function Jv(s){Fo(fc.current);var o=Fo(fs.current),l=pi(o,s.type);o!==l&&(ht(hc,s),ht(fs,l))}function mp(s){hc.current===s&&(gt(fs),gt(hc))}var _t=Ci(0);function ld(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gp=[];function yp(){for(var s=0;s<gp.length;s++)gp[s]._workInProgressVersionPrimary=null;gp.length=0}var cd=X.ReactCurrentDispatcher,vp=X.ReactCurrentBatchConfig,Uo=0,Et=null,$t=null,Yt=null,ud=!1,pc=!1,mc=0,tA=0;function yn(){throw Error(n(321))}function wp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Or(s[l],o[l]))return!1;return!0}function _p(s,o,l,h,m,v){if(Uo=v,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,cd.current=s===null||s.memoizedState===null?iA:oA,s=l(h,m),pc){v=0;do{if(pc=!1,mc=0,25<=v)throw Error(n(301));v+=1,Yt=$t=null,o.updateQueue=null,cd.current=aA,s=l(h,m)}while(pc)}if(cd.current=fd,o=$t!==null&&$t.next!==null,Uo=0,Yt=$t=Et=null,ud=!1,o)throw Error(n(300));return s}function Ep(){var s=mc!==0;return mc=0,s}function ps(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Et.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function Tr(){if($t===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var o=Yt===null?Et.memoizedState:Yt.next;if(o!==null)Yt=o,$t=s;else{if(s===null)throw Error(n(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Yt===null?Et.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function gc(s,o){return typeof o=="function"?o(s):o}function Tp(s){var o=Tr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=$t,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var x=m.next;m.next=v.next,v.next=x}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var L=x=null,U=null,Z=v;do{var ce=Z.lane;if((Uo&ce)===ce)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:s(h,Z.action);else{var de={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(L=U=de,x=h):U=U.next=de,Et.lanes|=ce,Bo|=ce}Z=Z.next}while(Z!==null&&Z!==v);U===null?x=h:U.next=L,Or(h,o.memoizedState)||(Fn=!0),o.memoizedState=h,o.baseState=x,o.baseQueue=U,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do v=m.lane,Et.lanes|=v,Bo|=v,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function xp(s){var o=Tr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do v=s(v,x.action),x=x.next;while(x!==m);Or(v,o.memoizedState)||(Fn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function Zv(){}function ew(s,o){var l=Et,h=Tr(),m=o(),v=!Or(h.memoizedState,m);if(v&&(h.memoizedState=m,Fn=!0),h=h.queue,bp(rw.bind(null,l,h,s),[s]),h.getSnapshot!==o||v||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,yc(9,nw.bind(null,l,h,m,o),void 0,null),Xt===null)throw Error(n(349));(Uo&30)!==0||tw(l,o,m)}return m}function tw(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function nw(s,o,l,h){o.value=l,o.getSnapshot=h,sw(o)&&iw(s)}function rw(s,o,l){return l(function(){sw(o)&&iw(s)})}function sw(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Or(s,l)}catch{return!0}}function iw(s){var o=$s(s,1);o!==null&&Ur(o,s,1,-1)}function ow(s){var o=ps();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:s},o.queue=s,s=s.dispatch=sA.bind(null,Et,s),[o.memoizedState,s]}function yc(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function aw(){return Tr().memoizedState}function dd(s,o,l,h){var m=ps();Et.flags|=s,m.memoizedState=yc(1|o,l,void 0,h===void 0?null:h)}function hd(s,o,l,h){var m=Tr();h=h===void 0?null:h;var v=void 0;if($t!==null){var x=$t.memoizedState;if(v=x.destroy,h!==null&&wp(h,x.deps)){m.memoizedState=yc(o,l,v,h);return}}Et.flags|=s,m.memoizedState=yc(1|o,l,v,h)}function lw(s,o){return dd(8390656,8,s,o)}function bp(s,o){return hd(2048,8,s,o)}function cw(s,o){return hd(4,2,s,o)}function uw(s,o){return hd(4,4,s,o)}function dw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function hw(s,o,l){return l=l!=null?l.concat([s]):null,hd(4,4,dw.bind(null,o,s),l)}function Ip(){}function fw(s,o){var l=Tr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&wp(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function pw(s,o){var l=Tr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&wp(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function mw(s,o,l){return(Uo&21)===0?(s.baseState&&(s.baseState=!1,Fn=!0),s.memoizedState=l):(Or(l,o)||(l=$l(),Et.lanes|=l,Bo|=l,s.baseState=!0),o)}function nA(s,o){var l=Ge;Ge=l!==0&&4>l?l:4,s(!0);var h=vp.transition;vp.transition={};try{s(!1),o()}finally{Ge=l,vp.transition=h}}function gw(){return Tr().memoizedState}function rA(s,o,l){var h=Vi(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},yw(s))vw(o,l);else if(l=Kv(s,o,l,h),l!==null){var m=Pn();Ur(l,s,h,m),ww(l,o,h)}}function sA(s,o,l){var h=Vi(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(yw(s))vw(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,L=v(x,l);if(m.hasEagerState=!0,m.eagerState=L,Or(L,x)){var U=o.interleaved;U===null?(m.next=m,hp(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}l=Kv(s,o,m,h),l!==null&&(m=Pn(),Ur(l,s,h,m),ww(l,o,h))}}function yw(s){var o=s.alternate;return s===Et||o!==null&&o===Et}function vw(s,o){pc=ud=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function ww(s,o,l){if((l&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Hl(s,l)}}var fd={readContext:Er,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},iA={readContext:Er,useCallback:function(s,o){return ps().memoizedState=[s,o===void 0?null:o],s},useContext:Er,useEffect:lw,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,dd(4194308,4,dw.bind(null,o,s),l)},useLayoutEffect:function(s,o){return dd(4194308,4,s,o)},useInsertionEffect:function(s,o){return dd(4,2,s,o)},useMemo:function(s,o){var l=ps();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=ps();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=rA.bind(null,Et,s),[h.memoizedState,s]},useRef:function(s){var o=ps();return s={current:s},o.memoizedState=s},useState:ow,useDebugValue:Ip,useDeferredValue:function(s){return ps().memoizedState=s},useTransition:function(){var s=ow(!1),o=s[0];return s=nA.bind(null,s[1]),ps().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=Et,m=ps();if(vt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Xt===null)throw Error(n(349));(Uo&30)!==0||tw(h,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,lw(rw.bind(null,h,v,s),[s]),h.flags|=2048,yc(9,nw.bind(null,h,v,l,o),void 0,null),l},useId:function(){var s=ps(),o=Xt.identifierPrefix;if(vt){var l=zs,h=Bs;l=(h&~(1<<32-Jn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=mc++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=tA++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},oA={readContext:Er,useCallback:fw,useContext:Er,useEffect:bp,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:Tp,useRef:aw,useState:function(){return Tp(gc)},useDebugValue:Ip,useDeferredValue:function(s){var o=Tr();return mw(o,$t.memoizedState,s)},useTransition:function(){var s=Tp(gc)[0],o=Tr().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:ew,useId:gw,unstable_isNewReconciler:!1},aA={readContext:Er,useCallback:fw,useContext:Er,useEffect:bp,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:xp,useRef:aw,useState:function(){return xp(gc)},useDebugValue:Ip,useDeferredValue:function(s){var o=Tr();return $t===null?o.memoizedState=s:mw(o,$t.memoizedState,s)},useTransition:function(){var s=xp(gc)[0],o=Tr().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:ew,useId:gw,unstable_isNewReconciler:!1};function Lr(s,o){if(s&&s.defaultProps){o=oe({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Sp(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:oe({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var pd={isMounted:function(s){return(s=s._reactInternals)?Dr(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=Pn(),m=Vi(s),v=qs(h,m);v.payload=o,l!=null&&(v.callback=l),o=Ni(s,v,m),o!==null&&(Ur(o,s,m,h),od(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=Pn(),m=Vi(s),v=qs(h,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ni(s,v,m),o!==null&&(Ur(o,s,m,h),od(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Pn(),h=Vi(s),m=qs(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ni(s,m,h),o!==null&&(Ur(o,s,h,l),od(o,s,h))}};function _w(s,o,l,h,m,v,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,x):o.prototype&&o.prototype.isPureReactComponent?!rc(l,h)||!rc(m,v):!0}function Ew(s,o,l){var h=!1,m=Ri,v=o.contextType;return typeof v=="object"&&v!==null?v=Er(v):(m=jn(o)?Oo:gn.current,h=o.contextTypes,v=(h=h!=null)?Fa(s,m):Ri),o=new o(l,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Tw(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&pd.enqueueReplaceState(o,o.state,null)}function Ap(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},fp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Er(v):(v=jn(o)?Oo:gn.current,m.context=Fa(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Sp(s,o,v,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&pd.enqueueReplaceState(m,m.state,null),ad(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ga(s,o){try{var l="",h=o;do l+=ae(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Cp(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Rp(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function xw(s,o,l){l=qs(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ed||(Ed=!0,qp=h),Rp(s,o)},l}function bw(s,o,l){l=qs(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Rp(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Rp(s,o),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),l}function Iw(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new lA;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=TA.bind(null,s,o,l),o.then(s,s))}function Sw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Aw(s,o,l,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=qs(-1,1),o.tag=2,Ni(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var cA=X.ReactCurrentOwner,Fn=!1;function Rn(s,o,l,h){o.child=s===null?Gv(o,null,l,h):$a(o,s.child,l,h)}function Cw(s,o,l,h,m){l=l.render;var v=o.ref;return Ha(o,m),h=_p(s,o,l,h,v,m),l=Ep(),s!==null&&!Fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Hs(s,o,m)):(vt&&l&&rp(o),o.flags|=1,Rn(s,o,h,m),o.child)}function Rw(s,o,l,h,m){if(s===null){var v=l.type;return typeof v=="function"&&!Xp(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Pw(s,o,v,h,m)):(s=Ad(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var x=v.memoizedProps;if(l=l.compare,l=l!==null?l:rc,l(x,h)&&s.ref===o.ref)return Hs(s,o,m)}return o.flags|=1,s=ji(v,h),s.ref=o.ref,s.return=o,o.child=s}function Pw(s,o,l,h,m){if(s!==null){var v=s.memoizedProps;if(rc(v,h)&&s.ref===o.ref)if(Fn=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Fn=!0);else return o.lanes=s.lanes,Hs(s,o,m)}return Pp(s,o,l,h,m)}function kw(s,o,l){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Qa,ir),ir|=l;else{if((l&1073741824)===0)return s=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ht(Qa,ir),ir|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,ht(Qa,ir),ir|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,ht(Qa,ir),ir|=h;return Rn(s,o,m,l),o.child}function Nw(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Pp(s,o,l,h,m){var v=jn(l)?Oo:gn.current;return v=Fa(o,v),Ha(o,m),l=_p(s,o,l,h,v,m),h=Ep(),s!==null&&!Fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Hs(s,o,m)):(vt&&h&&rp(o),o.flags|=1,Rn(s,o,l,m),o.child)}function Dw(s,o,l,h,m){if(jn(l)){var v=!0;Ju(o)}else v=!1;if(Ha(o,m),o.stateNode===null)gd(s,o),Ew(o,l,h),Ap(o,l,h,m),h=!0;else if(s===null){var x=o.stateNode,L=o.memoizedProps;x.props=L;var U=x.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=Er(Z):(Z=jn(l)?Oo:gn.current,Z=Fa(o,Z));var ce=l.getDerivedStateFromProps,de=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function";de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==h||U!==Z)&&Tw(o,x,h,Z),ki=!1;var ie=o.memoizedState;x.state=ie,ad(o,h,x,m),U=o.memoizedState,L!==h||ie!==U||Ln.current||ki?(typeof ce=="function"&&(Sp(o,l,ce,h),U=o.memoizedState),(L=ki||_w(o,l,L,h,ie,U,Z))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=U),x.props=h,x.state=U,x.context=Z,h=L):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Qv(s,o),L=o.memoizedProps,Z=o.type===o.elementType?L:Lr(o.type,L),x.props=Z,de=o.pendingProps,ie=x.context,U=l.contextType,typeof U=="object"&&U!==null?U=Er(U):(U=jn(l)?Oo:gn.current,U=Fa(o,U));var _e=l.getDerivedStateFromProps;(ce=typeof _e=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==de||ie!==U)&&Tw(o,x,h,U),ki=!1,ie=o.memoizedState,x.state=ie,ad(o,h,x,m);var Ie=o.memoizedState;L!==de||ie!==Ie||Ln.current||ki?(typeof _e=="function"&&(Sp(o,l,_e,h),Ie=o.memoizedState),(Z=ki||_w(o,l,Z,h,ie,Ie,U)||!1)?(ce||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ie,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ie,U)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),x.props=h,x.state=Ie,x.context=U,h=Z):(typeof x.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),h=!1)}return kp(s,o,l,h,v,m)}function kp(s,o,l,h,m,v){Nw(s,o);var x=(o.flags&128)!==0;if(!h&&!x)return m&&jv(o,l,!1),Hs(s,o,v);h=o.stateNode,cA.current=o;var L=x&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&x?(o.child=$a(o,s.child,null,v),o.child=$a(o,null,L,v)):Rn(s,o,L,v),o.memoizedState=h.state,m&&jv(o,l,!0),o.child}function Mw(s){var o=s.stateNode;o.pendingContext?Vv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Vv(s,o.context,!1),pp(s,o.containerInfo)}function Ow(s,o,l,h,m){return za(),ap(m),o.flags|=256,Rn(s,o,l,h),o.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Dp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vw(s,o,l){var h=o.pendingProps,m=_t.current,v=!1,x=(o.flags&128)!==0,L;if((L=x)||(L=s!==null&&s.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),ht(_t,m&1),s===null)return op(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=h.children,s=h.fallback,v?(h=o.mode,v=o.child,x={mode:"hidden",children:x},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Cd(x,h,0,null),s=Ho(s,h,l,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Dp(l),o.memoizedState=Np,s):Mp(o,x));if(m=s.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return uA(s,o,x,h,L,m,l);if(v){v=h.fallback,x=o.mode,m=s.child,L=m.sibling;var U={mode:"hidden",children:h.children};return(x&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=U,o.deletions=null):(h=ji(m,U),h.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=ji(L,v):(v=Ho(v,x,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,x=s.child.memoizedState,x=x===null?Dp(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=s.childLanes&~l,o.memoizedState=Np,h}return v=s.child,s=v.sibling,h=ji(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Mp(s,o){return o=Cd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function md(s,o,l,h){return h!==null&&ap(h),$a(o,s.child,null,l),s=Mp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function uA(s,o,l,h,m,v,x){if(l)return o.flags&256?(o.flags&=-257,h=Cp(Error(n(422))),md(s,o,x,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=Cd({mode:"visible",children:h.children},m,0,null),v=Ho(v,m,x,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&$a(o,s.child,null,x),o.child.memoizedState=Dp(x),o.memoizedState=Np,v);if((o.mode&1)===0)return md(s,o,x,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var L=h.dgst;return h=L,v=Error(n(419)),h=Cp(v,h,void 0),md(s,o,x,h)}if(L=(x&s.childLanes)!==0,Fn||L){if(h=Xt,h!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|x))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,$s(s,m),Ur(h,s,m,-1))}return Yp(),h=Cp(Error(n(421))),md(s,o,x,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=xA.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,sr=Ai(m.nextSibling),rr=o,vt=!0,Vr=null,s!==null&&(wr[_r++]=Bs,wr[_r++]=zs,wr[_r++]=Vo,Bs=s.id,zs=s.overflow,Vo=o),o=Mp(o,h.children),o.flags|=4096,o)}function Lw(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),dp(s.return,o,l)}function Op(s,o,l,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function jw(s,o,l){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Rn(s,o,h.children,l),h=_t.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lw(s,l,o);else if(s.tag===19)Lw(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(ht(_t,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&ld(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Op(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&ld(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Op(o,!0,l,null,v);break;case"together":Op(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Hs(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Bo|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=ji(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ji(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function dA(s,o,l){switch(o.tag){case 3:Mw(o),za();break;case 5:Jv(o);break;case 1:jn(o.type)&&Ju(o);break;case 4:pp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;ht(sd,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(ht(_t,_t.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Vw(s,o,l):(ht(_t,_t.current&1),s=Hs(s,o,l),s!==null?s.sibling:null);ht(_t,_t.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(s.flags&128)!==0){if(h)return jw(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ht(_t,_t.current),h)break;return null;case 22:case 23:return o.lanes=0,kw(s,o,l)}return Hs(s,o,l)}var Fw,Vp,Uw,Bw;Fw=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Vp=function(){},Uw=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Fo(fs.current);var v=null;switch(l){case"input":m=Yr(s,m),h=Yr(s,h),v=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),v=[];break;case"textarea":m=zt(s,m),h=zt(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Qu)}Vn(l,h);var x;l=null;for(Z in m)if(!h.hasOwnProperty(Z)&&m.hasOwnProperty(Z)&&m[Z]!=null)if(Z==="style"){var L=m[Z];for(x in L)L.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in h){var U=h[Z];if(L=m?.[Z],h.hasOwnProperty(Z)&&U!==L&&(U!=null||L!=null))if(Z==="style")if(L){for(x in L)!L.hasOwnProperty(x)||U&&U.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in U)U.hasOwnProperty(x)&&L[x]!==U[x]&&(l||(l={}),l[x]=U[x])}else l||(v||(v=[]),v.push(Z,l)),l=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(v=v||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(v=v||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&mt("scroll",s),v||L===U||(v=[])):(v=v||[]).push(Z,U))}l&&(v=v||[]).push("style",l);var Z=v;(o.updateQueue=Z)&&(o.flags|=4)}},Bw=function(s,o,l,h){l!==h&&(o.flags|=4)};function vc(s,o){if(!vt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function hA(s,o,l){var h=o.pendingProps;switch(sp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return jn(o.type)&&Xu(),vn(o),null;case 3:return h=o.stateNode,Wa(),gt(Ln),gt(gn),yp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(nd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vr!==null&&(Gp(Vr),Vr=null))),Vp(s,o),vn(o),null;case 5:mp(o);var m=Fo(fc.current);if(l=o.type,s!==null&&o.stateNode!=null)Uw(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return vn(o),null}if(s=Fo(fs.current),nd(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[hs]=o,h[lc]=v,s=(o.mode&1)!==0,l){case"dialog":mt("cancel",h),mt("close",h);break;case"iframe":case"object":case"embed":mt("load",h);break;case"video":case"audio":for(m=0;m<ic.length;m++)mt(ic[m],h);break;case"source":mt("error",h);break;case"img":case"image":case"link":mt("error",h),mt("load",h);break;case"details":mt("toggle",h);break;case"input":ga(h,v),mt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},mt("invalid",h);break;case"textarea":pr(h,v),mt("invalid",h)}Vn(l,v),m=null;for(var x in v)if(v.hasOwnProperty(x)){var L=v[x];x==="children"?typeof L=="string"?h.textContent!==L&&(v.suppressHydrationWarning!==!0&&Ku(h.textContent,L,s),m=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Ku(h.textContent,L,s),m=["children",""+L]):i.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&mt("scroll",h)}switch(l){case"input":tn(h),fi(h,v,!0);break;case"textarea":tn(h),Xr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Qu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Jr(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(l,{is:h.is}):(s=x.createElement(l),l==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,l),s[hs]=o,s[lc]=h,Fw(s,o,!1,!1),o.stateNode=s;e:{switch(x=vi(l,h),l){case"dialog":mt("cancel",s),mt("close",s),m=h;break;case"iframe":case"object":case"embed":mt("load",s),m=h;break;case"video":case"audio":for(m=0;m<ic.length;m++)mt(ic[m],s);m=h;break;case"source":mt("error",s),m=h;break;case"img":case"image":case"link":mt("error",s),mt("load",s),m=h;break;case"details":mt("toggle",s),m=h;break;case"input":ga(s,h),m=Yr(s,h),mt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),mt("invalid",s);break;case"textarea":pr(s,h),m=zt(s,h),mt("invalid",s);break;default:m=h}Vn(l,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var U=L[v];v==="style"?gi(s,U):v==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&mi(s,U)):v==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&On(s,U):typeof U=="number"&&On(s,""+U):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?U!=null&&v==="onScroll"&&mt("scroll",s):U!=null&&H(s,v,U,x))}switch(l){case"input":tn(s),fi(s,h,!1);break;case"textarea":tn(s),Xr(s);break;case"option":h.value!=null&&s.setAttribute("value",""+me(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Qn(s,!!h.multiple,v,!1):h.defaultValue!=null&&Qn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(s&&o.stateNode!=null)Bw(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(l=Fo(fc.current),Fo(fs.current),nd(o)){if(h=o.stateNode,l=o.memoizedProps,h[hs]=o,(v=h.nodeValue!==l)&&(s=rr,s!==null))switch(s.tag){case 3:Ku(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ku(h.nodeValue,l,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[hs]=o,o.stateNode=h}return vn(o),null;case 13:if(gt(_t),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(vt&&sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qv(),za(),o.flags|=98560,v=!1;else if(v=nd(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[hs]=o}else za(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),v=!1}else Vr!==null&&(Gp(Vr),Vr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(_t.current&1)!==0?qt===0&&(qt=3):Yp())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return Wa(),Vp(s,o),s===null&&oc(o.stateNode.containerInfo),vn(o),null;case 10:return up(o.type._context),vn(o),null;case 17:return jn(o.type)&&Xu(),vn(o),null;case 19:if(gt(_t),v=o.memoizedState,v===null)return vn(o),null;if(h=(o.flags&128)!==0,x=v.rendering,x===null)if(h)vc(v,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=ld(s),x!==null){for(o.flags|=128,vc(v,!1),h=x.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,s=h,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,s=x.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return ht(_t,_t.current&1|2),o.child}s=s.sibling}v.tail!==null&&pt()>Ya&&(o.flags|=128,h=!0,vc(v,!1),o.lanes=4194304)}else{if(!h)if(s=ld(x),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),vc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!vt)return vn(o),null}else 2*pt()-v.renderingStartTime>Ya&&l!==1073741824&&(o.flags|=128,h=!0,vc(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(l=v.last,l!==null?l.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=pt(),o.sibling=null,l=_t.current,ht(_t,h?l&1|2:l&1),o):(vn(o),null);case 22:case 23:return Qp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(ir&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function fA(s,o){switch(sp(o),o.tag){case 1:return jn(o.type)&&Xu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wa(),gt(Ln),gt(gn),yp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mp(o),null;case 13:if(gt(_t),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));za()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return gt(_t),null;case 4:return Wa(),null;case 10:return up(o.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var yd=!1,wn=!1,pA=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Ka(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){At(s,o,h)}else l.current=null}function Lp(s,o,l){try{l()}catch(h){At(s,o,h)}}var zw=!1;function mA(s,o){if(Qf=Vs,s=_v(),Bf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var x=0,L=-1,U=-1,Z=0,ce=0,de=s,ie=null;t:for(;;){for(var _e;de!==l||m!==0&&de.nodeType!==3||(L=x+m),de!==v||h!==0&&de.nodeType!==3||(U=x+h),de.nodeType===3&&(x+=de.nodeValue.length),(_e=de.firstChild)!==null;)ie=de,de=_e;for(;;){if(de===s)break t;if(ie===l&&++Z===m&&(L=x),ie===v&&++ce===h&&(U=x),(_e=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=_e}l=L===-1||U===-1?null:{start:L,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yf={focusedElem:s,selectionRange:l},Vs=!1,Te=o;Te!==null;)if(o=Te,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Te=s;else for(;Te!==null;){o=Te;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Re=Ie.memoizedProps,kt=Ie.memoizedState,W=o.stateNode,z=W.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Lr(o.type,Re),kt);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){At(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Te=s;break}Te=o.return}return Ie=zw,zw=!1,Ie}function wc(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Lp(o,l,v)}m=m.next}while(m!==h)}}function vd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function jp(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function $w(s){var o=s.alternate;o!==null&&(s.alternate=null,$w(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[hs],delete o[lc],delete o[ep],delete o[XS],delete o[JS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function qw(s){return s.tag===5||s.tag===3||s.tag===4}function Hw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fp(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Qu));else if(h!==4&&(s=s.child,s!==null))for(Fp(s,o,l),s=s.sibling;s!==null;)Fp(s,o,l),s=s.sibling}function Up(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Up(s,o,l),s=s.sibling;s!==null;)Up(s,o,l),s=s.sibling}var sn=null,jr=!1;function Di(s,o,l){for(l=l.child;l!==null;)Ww(s,o,l),l=l.sibling}function Ww(s,o,l){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Io,l)}catch{}switch(l.tag){case 5:wn||Ka(l,o);case 6:var h=sn,m=jr;sn=null,Di(s,o,l),sn=h,jr=m,sn!==null&&(jr?(s=sn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):sn.removeChild(l.stateNode));break;case 18:sn!==null&&(jr?(s=sn,l=l.stateNode,s.nodeType===8?Zf(s.parentNode,l):s.nodeType===1&&Zf(s,l),xi(s)):Zf(sn,l.stateNode));break;case 4:h=sn,m=jr,sn=l.stateNode.containerInfo,jr=!0,Di(s,o,l),sn=h,jr=m;break;case 0:case 11:case 14:case 15:if(!wn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&Lp(l,o,x),m=m.next}while(m!==h)}Di(s,o,l);break;case 1:if(!wn&&(Ka(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(L){At(l,o,L)}Di(s,o,l);break;case 21:Di(s,o,l);break;case 22:l.mode&1?(wn=(h=wn)||l.memoizedState!==null,Di(s,o,l),wn=h):Di(s,o,l);break;default:Di(s,o,l)}}function Gw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new pA),o.forEach(function(h){var m=bA.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Fr(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=s,x=o,L=x;e:for(;L!==null;){switch(L.tag){case 5:sn=L.stateNode,jr=!1;break e;case 3:sn=L.stateNode.containerInfo,jr=!0;break e;case 4:sn=L.stateNode.containerInfo,jr=!0;break e}L=L.return}if(sn===null)throw Error(n(160));Ww(v,x,m),sn=null,jr=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(Z){At(m,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Kw(o,s),o=o.sibling}function Kw(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Fr(o,s),ms(s),h&4){try{wc(3,s,s.return),vd(3,s)}catch(Re){At(s,s.return,Re)}try{wc(5,s,s.return)}catch(Re){At(s,s.return,Re)}}break;case 1:Fr(o,s),ms(s),h&512&&l!==null&&Ka(l,l.return);break;case 5:if(Fr(o,s),ms(s),h&512&&l!==null&&Ka(l,l.return),s.flags&32){var m=s.stateNode;try{On(m,"")}catch(Re){At(s,s.return,Re)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,x=l!==null?l.memoizedProps:v,L=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&ks(m,v),vi(L,x);var Z=vi(L,v);for(x=0;x<U.length;x+=2){var ce=U[x],de=U[x+1];ce==="style"?gi(m,de):ce==="dangerouslySetInnerHTML"?mi(m,de):ce==="children"?On(m,de):H(m,ce,de,Z)}switch(L){case"input":Kn(m,v);break;case"textarea":ya(m,v);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var _e=v.value;_e!=null?Qn(m,!!v.multiple,_e,!1):ie!==!!v.multiple&&(v.defaultValue!=null?Qn(m,!!v.multiple,v.defaultValue,!0):Qn(m,!!v.multiple,v.multiple?[]:"",!1))}m[lc]=v}catch(Re){At(s,s.return,Re)}}break;case 6:if(Fr(o,s),ms(s),h&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Re){At(s,s.return,Re)}}break;case 3:if(Fr(o,s),ms(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{xi(o.containerInfo)}catch(Re){At(s,s.return,Re)}break;case 4:Fr(o,s),ms(s);break;case 13:Fr(o,s),ms(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($p=pt())),h&4&&Gw(s);break;case 22:if(ce=l!==null&&l.memoizedState!==null,s.mode&1?(wn=(Z=wn)||ce,Fr(o,s),wn=Z):Fr(o,s),ms(s),h&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&(s.mode&1)!==0)for(Te=s,ce=s.child;ce!==null;){for(de=Te=ce;Te!==null;){switch(ie=Te,_e=ie.child,ie.tag){case 0:case 11:case 14:case 15:wc(4,ie,ie.return);break;case 1:Ka(ie,ie.return);var Ie=ie.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=ie,l=ie.return;try{o=h,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Re){At(h,l,Re)}}break;case 5:Ka(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Xw(de);continue}}_e!==null?(_e.return=ie,Te=_e):Xw(de)}ce=ce.sibling}e:for(ce=null,de=s;;){if(de.tag===5){if(ce===null){ce=de;try{m=de.stateNode,Z?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=de.stateNode,U=de.memoizedProps.style,x=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=Zr("display",x))}catch(Re){At(s,s.return,Re)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=Z?"":de.memoizedProps}catch(Re){At(s,s.return,Re)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Fr(o,s),ms(s),h&4&&Gw(s);break;case 21:break;default:Fr(o,s),ms(s)}}function ms(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(qw(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(On(m,""),h.flags&=-33);var v=Hw(s);Up(s,v,m);break;case 3:case 4:var x=h.stateNode.containerInfo,L=Hw(s);Fp(s,L,x);break;default:throw Error(n(161))}}catch(U){At(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gA(s,o,l){Te=s,Qw(s)}function Qw(s,o,l){for(var h=(s.mode&1)!==0;Te!==null;){var m=Te,v=m.child;if(m.tag===22&&h){var x=m.memoizedState!==null||yd;if(!x){var L=m.alternate,U=L!==null&&L.memoizedState!==null||wn;L=yd;var Z=wn;if(yd=x,(wn=U)&&!Z)for(Te=m;Te!==null;)x=Te,U=x.child,x.tag===22&&x.memoizedState!==null?Jw(m):U!==null?(U.return=x,Te=U):Jw(m);for(;v!==null;)Te=v,Qw(v),v=v.sibling;Te=m,yd=L,wn=Z}Yw(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Te=v):Yw(s)}}function Yw(s){for(;Te!==null;){var o=Te;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||vd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!wn)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Lr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Xv(o,v,h);break;case 3:var x=o.updateQueue;if(x!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Xv(o,x,l)}break;case 5:var L=o.stateNode;if(l===null&&o.flags&4){l=L;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&xi(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||o.flags&512&&jp(o)}catch(ie){At(o,o.return,ie)}}if(o===s){Te=null;break}if(l=o.sibling,l!==null){l.return=o.return,Te=l;break}Te=o.return}}function Xw(s){for(;Te!==null;){var o=Te;if(o===s){Te=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Te=l;break}Te=o.return}}function Jw(s){for(;Te!==null;){var o=Te;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{vd(4,o)}catch(U){At(o,l,U)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(U){At(o,m,U)}}var v=o.return;try{jp(o)}catch(U){At(o,v,U)}break;case 5:var x=o.return;try{jp(o)}catch(U){At(o,x,U)}}}catch(U){At(o,o.return,U)}if(o===s){Te=null;break}var L=o.sibling;if(L!==null){L.return=o.return,Te=L;break}Te=o.return}}var yA=Math.ceil,wd=X.ReactCurrentDispatcher,Bp=X.ReactCurrentOwner,xr=X.ReactCurrentBatchConfig,et=0,Xt=null,Vt=null,on=0,ir=0,Qa=Ci(0),qt=0,_c=null,Bo=0,_d=0,zp=0,Ec=null,Un=null,$p=0,Ya=1/0,Ws=null,Ed=!1,qp=null,Mi=null,Td=!1,Oi=null,xd=0,Tc=0,Hp=null,bd=-1,Id=0;function Pn(){return(et&6)!==0?pt():bd!==-1?bd:bd=pt()}function Vi(s){return(s.mode&1)===0?1:(et&2)!==0&&on!==0?on&-on:eA.transition!==null?(Id===0&&(Id=$l()),Id):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:Ia(s.type)),s)}function Ur(s,o,l,h){if(50<Tc)throw Tc=0,Hp=null,Error(n(185));Ro(s,l,h),((et&2)===0||s!==Xt)&&(s===Xt&&((et&2)===0&&(_d|=l),qt===4&&Li(s,on)),Bn(s,h),l===1&&et===0&&(o.mode&1)===0&&(Ya=pt()+500,Zu&&Pi()))}function Bn(s,o){var l=s.callbackNode;Co(s,o);var h=Ds(s,s===Xt?on:0);if(h===0)l!==null&&va(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&va(l),o===1)s.tag===0?ZS(e_.bind(null,s)):Fv(e_.bind(null,s)),QS(function(){(et&6)===0&&Pi()}),l=null;else{switch(ns(h)){case 1:l=wa;break;case 4:l=Ul;break;case 16:l=bo;break;case 536870912:l=_a;break;default:l=bo}l=l_(l,Zw.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Zw(s,o){if(bd=-1,Id=0,(et&6)!==0)throw Error(n(327));var l=s.callbackNode;if(Xa()&&s.callbackNode!==l)return null;var h=Ds(s,s===Xt?on:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Sd(s,h);else{o=h;var m=et;et|=2;var v=n_();(Xt!==s||on!==o)&&(Ws=null,Ya=pt()+500,$o(s,o));do try{_A();break}catch(L){t_(s,L)}while(!0);cp(),wd.current=v,et=m,Vt!==null?o=0:(Xt=null,on=0,o=qt)}if(o!==0){if(o===2&&(m=zl(s),m!==0&&(h=m,o=Wp(s,m))),o===1)throw l=_c,$o(s,0),Li(s,h),Bn(s,pt()),l;if(o===6)Li(s,h);else{if(m=s.current.alternate,(h&30)===0&&!vA(m)&&(o=Sd(s,h),o===2&&(v=zl(s),v!==0&&(h=v,o=Wp(s,v))),o===1))throw l=_c,$o(s,0),Li(s,h),Bn(s,pt()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:qo(s,Un,Ws);break;case 3:if(Li(s,h),(h&130023424)===h&&(o=$p+500-pt(),10<o)){if(Ds(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Pn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Jf(qo.bind(null,s,Un,Ws),o);break}qo(s,Un,Ws);break;case 4:if(Li(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var x=31-Jn(h);v=1<<x,x=o[x],x>m&&(m=x),h&=~v}if(h=m,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*yA(h/1960))-h,10<h){s.timeoutHandle=Jf(qo.bind(null,s,Un,Ws),h);break}qo(s,Un,Ws);break;case 5:qo(s,Un,Ws);break;default:throw Error(n(329))}}}return Bn(s,pt()),s.callbackNode===l?Zw.bind(null,s):null}function Wp(s,o){var l=Ec;return s.current.memoizedState.isDehydrated&&($o(s,o).flags|=256),s=Sd(s,o),s!==2&&(o=Un,Un=l,o!==null&&Gp(o)),s}function Gp(s){Un===null?Un=s:Un.push.apply(Un,s)}function vA(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Or(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Li(s,o){for(o&=~zp,o&=~_d,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Jn(o),h=1<<l;s[l]=-1,o&=~h}}function e_(s){if((et&6)!==0)throw Error(n(327));Xa();var o=Ds(s,0);if((o&1)===0)return Bn(s,pt()),null;var l=Sd(s,o);if(s.tag!==0&&l===2){var h=zl(s);h!==0&&(o=h,l=Wp(s,h))}if(l===1)throw l=_c,$o(s,0),Li(s,o),Bn(s,pt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,qo(s,Un,Ws),Bn(s,pt()),null}function Kp(s,o){var l=et;et|=1;try{return s(o)}finally{et=l,et===0&&(Ya=pt()+500,Zu&&Pi())}}function zo(s){Oi!==null&&Oi.tag===0&&(et&6)===0&&Xa();var o=et;et|=1;var l=xr.transition,h=Ge;try{if(xr.transition=null,Ge=1,s)return s()}finally{Ge=h,xr.transition=l,et=o,(et&6)===0&&Pi()}}function Qp(){ir=Qa.current,gt(Qa)}function $o(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,KS(l)),Vt!==null)for(l=Vt.return;l!==null;){var h=l;switch(sp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Xu();break;case 3:Wa(),gt(Ln),gt(gn),yp();break;case 5:mp(h);break;case 4:Wa();break;case 13:gt(_t);break;case 19:gt(_t);break;case 10:up(h.type._context);break;case 22:case 23:Qp()}l=l.return}if(Xt=s,Vt=s=ji(s.current,null),on=ir=o,qt=0,_c=null,zp=_d=Bo=0,Un=Ec=null,jo!==null){for(o=0;o<jo.length;o++)if(l=jo[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var x=v.next;v.next=m,h.next=x}l.pending=h}jo=null}return s}function t_(s,o){do{var l=Vt;try{if(cp(),cd.current=fd,ud){for(var h=Et.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ud=!1}if(Uo=0,Yt=$t=Et=null,pc=!1,mc=0,Bp.current=null,l===null||l.return===null){qt=1,_c=o,Vt=null;break}e:{var v=s,x=l.return,L=l,U=o;if(o=on,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,ce=L,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ie=ce.alternate;ie?(ce.updateQueue=ie.updateQueue,ce.memoizedState=ie.memoizedState,ce.lanes=ie.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var _e=Sw(x);if(_e!==null){_e.flags&=-257,Aw(_e,x,L,v,o),_e.mode&1&&Iw(v,Z,o),o=_e,U=Z;var Ie=o.updateQueue;if(Ie===null){var Re=new Set;Re.add(U),o.updateQueue=Re}else Ie.add(U);break e}else{if((o&1)===0){Iw(v,Z,o),Yp();break e}U=Error(n(426))}}else if(vt&&L.mode&1){var kt=Sw(x);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),Aw(kt,x,L,v,o),ap(Ga(U,L));break e}}v=U=Ga(U,L),qt!==4&&(qt=2),Ec===null?Ec=[v]:Ec.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=xw(v,U,o);Yv(v,W);break e;case 1:L=U;var z=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Mi===null||!Mi.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var he=bw(v,L,o);Yv(v,he);break e}}v=v.return}while(v!==null)}s_(l)}catch(Pe){o=Pe,Vt===l&&l!==null&&(Vt=l=l.return);continue}break}while(!0)}function n_(){var s=wd.current;return wd.current=fd,s===null?fd:s}function Yp(){(qt===0||qt===3||qt===2)&&(qt=4),Xt===null||(Bo&268435455)===0&&(_d&268435455)===0||Li(Xt,on)}function Sd(s,o){var l=et;et|=2;var h=n_();(Xt!==s||on!==o)&&(Ws=null,$o(s,o));do try{wA();break}catch(m){t_(s,m)}while(!0);if(cp(),et=l,wd.current=h,Vt!==null)throw Error(n(261));return Xt=null,on=0,qt}function wA(){for(;Vt!==null;)r_(Vt)}function _A(){for(;Vt!==null&&!xo();)r_(Vt)}function r_(s){var o=a_(s.alternate,s,ir);s.memoizedProps=s.pendingProps,o===null?s_(s):Vt=o,Bp.current=null}function s_(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=hA(l,o,ir),l!==null){Vt=l;return}}else{if(l=fA(l,o),l!==null){l.flags&=32767,Vt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{qt=6,Vt=null;return}}if(o=o.sibling,o!==null){Vt=o;return}Vt=o=s}while(o!==null);qt===0&&(qt=5)}function qo(s,o,l){var h=Ge,m=xr.transition;try{xr.transition=null,Ge=1,EA(s,o,l,h)}finally{xr.transition=m,Ge=h}return null}function EA(s,o,l,h){do Xa();while(Oi!==null);if((et&6)!==0)throw Error(n(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(Vf(s,v),s===Xt&&(Vt=Xt=null,on=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Td||(Td=!0,l_(bo,function(){return Xa(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=xr.transition,xr.transition=null;var x=Ge;Ge=1;var L=et;et|=4,Bp.current=null,mA(s,l),Kw(l,s),BS(Yf),Vs=!!Qf,Yf=Qf=null,s.current=l,gA(l),Ns(),et=L,Ge=x,xr.transition=v}else s.current=l;if(Td&&(Td=!1,Oi=s,xd=m),v=s.pendingLanes,v===0&&(Mi=null),Du(l.stateNode),Bn(s,pt()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ed)throw Ed=!1,s=qp,qp=null,s;return(xd&1)!==0&&s.tag!==0&&Xa(),v=s.pendingLanes,(v&1)!==0?s===Hp?Tc++:(Tc=0,Hp=s):Tc=0,Pi(),null}function Xa(){if(Oi!==null){var s=ns(xd),o=xr.transition,l=Ge;try{if(xr.transition=null,Ge=16>s?16:s,Oi===null)var h=!1;else{if(s=Oi,Oi=null,xd=0,(et&6)!==0)throw Error(n(331));var m=et;for(et|=4,Te=s.current;Te!==null;){var v=Te,x=v.child;if((Te.flags&16)!==0){var L=v.deletions;if(L!==null){for(var U=0;U<L.length;U++){var Z=L[U];for(Te=Z;Te!==null;){var ce=Te;switch(ce.tag){case 0:case 11:case 15:wc(8,ce,v)}var de=ce.child;if(de!==null)de.return=ce,Te=de;else for(;Te!==null;){ce=Te;var ie=ce.sibling,_e=ce.return;if($w(ce),ce===Z){Te=null;break}if(ie!==null){ie.return=_e,Te=ie;break}Te=_e}}}var Ie=v.alternate;if(Ie!==null){var Re=Ie.child;if(Re!==null){Ie.child=null;do{var kt=Re.sibling;Re.sibling=null,Re=kt}while(Re!==null)}}Te=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,Te=x;else e:for(;Te!==null;){if(v=Te,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:wc(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,Te=W;break e}Te=v.return}}var z=s.current;for(Te=z;Te!==null;){x=Te;var Q=x.child;if((x.subtreeFlags&2064)!==0&&Q!==null)Q.return=x,Te=Q;else e:for(x=z;Te!==null;){if(L=Te,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:vd(9,L)}}catch(Pe){At(L,L.return,Pe)}if(L===x){Te=null;break e}var he=L.sibling;if(he!==null){he.return=L.return,Te=he;break e}Te=L.return}}if(et=m,Pi(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Io,s)}catch{}h=!0}return h}finally{Ge=l,xr.transition=o}}return!1}function i_(s,o,l){o=Ga(l,o),o=xw(s,o,1),s=Ni(s,o,1),o=Pn(),s!==null&&(Ro(s,1,o),Bn(s,o))}function At(s,o,l){if(s.tag===3)i_(s,s,l);else for(;o!==null;){if(o.tag===3){i_(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Mi===null||!Mi.has(h))){s=Ga(l,s),s=bw(o,s,1),o=Ni(o,s,1),s=Pn(),o!==null&&(Ro(o,1,s),Bn(o,s));break}}o=o.return}}function TA(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=Pn(),s.pingedLanes|=s.suspendedLanes&l,Xt===s&&(on&l)===l&&(qt===4||qt===3&&(on&130023424)===on&&500>pt()-$p?$o(s,0):zp|=l),Bn(s,o)}function o_(s,o){o===0&&((s.mode&1)===0?o=1:(o=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var l=Pn();s=$s(s,o),s!==null&&(Ro(s,o,l),Bn(s,l))}function xA(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),o_(s,l)}function bA(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),o_(s,l)}var a_;a_=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||Ln.current)Fn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Fn=!1,dA(s,o,l);Fn=(s.flags&131072)!==0}else Fn=!1,vt&&(o.flags&1048576)!==0&&Uv(o,td,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;gd(s,o),s=o.pendingProps;var m=Fa(o,gn.current);Ha(o,l),m=_p(null,o,h,s,m,l);var v=Ep();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,jn(h)?(v=!0,Ju(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,fp(o),m.updater=pd,o.stateNode=m,m._reactInternals=o,Ap(o,h,s,l),o=kp(null,o,h,!0,v,l)):(o.tag=0,vt&&v&&rp(o),Rn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(gd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=SA(h),s=Lr(h,s),m){case 0:o=Pp(null,o,h,s,l);break e;case 1:o=Dw(null,o,h,s,l);break e;case 11:o=Cw(null,o,h,s,l);break e;case 14:o=Rw(null,o,h,Lr(h.type,s),l);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Lr(h,m),Pp(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Lr(h,m),Dw(s,o,h,m,l);case 3:e:{if(Mw(o),s===null)throw Error(n(387));h=o.pendingProps,v=o.memoizedState,m=v.element,Qv(s,o),ad(o,h,null,l);var x=o.memoizedState;if(h=x.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Ga(Error(n(423)),o),o=Ow(s,o,h,l,m);break e}else if(h!==m){m=Ga(Error(n(424)),o),o=Ow(s,o,h,l,m);break e}else for(sr=Ai(o.stateNode.containerInfo.firstChild),rr=o,vt=!0,Vr=null,l=Gv(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(za(),h===m){o=Hs(s,o,l);break e}Rn(s,o,h,l)}o=o.child}return o;case 5:return Jv(o),s===null&&op(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,x=m.children,Xf(h,m)?x=null:v!==null&&Xf(h,v)&&(o.flags|=32),Nw(s,o),Rn(s,o,x,l),o.child;case 6:return s===null&&op(o),null;case 13:return Vw(s,o,l);case 4:return pp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=$a(o,null,h,l):Rn(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Lr(h,m),Cw(s,o,h,m,l);case 7:return Rn(s,o,o.pendingProps,l),o.child;case 8:return Rn(s,o,o.pendingProps.children,l),o.child;case 12:return Rn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,x=m.value,ht(sd,h._currentValue),h._currentValue=x,v!==null)if(Or(v.value,x)){if(v.children===m.children&&!Ln.current){o=Hs(s,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){x=v.child;for(var U=L.firstContext;U!==null;){if(U.context===h){if(v.tag===1){U=qs(-1,l&-l),U.tag=2;var Z=v.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?U.next=U:(U.next=ce.next,ce.next=U),Z.pending=U}}v.lanes|=l,U=v.alternate,U!==null&&(U.lanes|=l),dp(v.return,l,o),L.lanes|=l;break}U=U.next}}else if(v.tag===10)x=v.type===o.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(n(341));x.lanes|=l,L=x.alternate,L!==null&&(L.lanes|=l),dp(x,l,o),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===o){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}Rn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ha(o,l),m=Er(m),h=h(m),o.flags|=1,Rn(s,o,h,l),o.child;case 14:return h=o.type,m=Lr(h,o.pendingProps),m=Lr(h.type,m),Rw(s,o,h,m,l);case 15:return Pw(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Lr(h,m),gd(s,o),o.tag=1,jn(h)?(s=!0,Ju(o)):s=!1,Ha(o,l),Ew(o,h,m),Ap(o,h,m,l),kp(null,o,h,!0,s,l);case 19:return jw(s,o,l);case 22:return kw(s,o,l)}throw Error(n(156,o.tag))};function l_(s,o){return Fl(s,o)}function IA(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,o,l,h){return new IA(s,o,l,h)}function Xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function SA(s){if(typeof s=="function")return Xp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===Oe)return 14}return 2}function ji(s,o){var l=s.alternate;return l===null?(l=br(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ad(s,o,l,h,m,v){var x=2;if(h=s,typeof s=="function")Xp(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case A:return Ho(l.children,m,v,o);case b:x=8,m|=8;break;case M:return s=br(12,l,o,m|2),s.elementType=M,s.lanes=v,s;case D:return s=br(13,l,o,m),s.elementType=D,s.lanes=v,s;case be:return s=br(19,l,o,m),s.elementType=be,s.lanes=v,s;case we:return Cd(l,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:x=10;break e;case N:x=9;break e;case j:x=11;break e;case Oe:x=14;break e;case pe:x=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=br(x,l,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function Ho(s,o,l,h){return s=br(7,s,h,o),s.lanes=l,s}function Cd(s,o,l,h){return s=br(22,s,h,o),s.elementType=we,s.lanes=l,s.stateNode={isHidden:!1},s}function Jp(s,o,l){return s=br(6,s,null,o),s.lanes=l,s}function Zp(s,o,l){return o=br(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function AA(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function em(s,o,l,h,m,v,x,L,U){return s=new AA(s,o,l,L,U),o===1?(o=1,v===!0&&(o|=8)):o=0,v=br(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(v),s}function CA(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function c_(s){if(!s)return Ri;s=s._reactInternals;e:{if(Dr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(jn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(jn(l))return Lv(s,l,o)}return o}function u_(s,o,l,h,m,v,x,L,U){return s=em(l,h,!0,s,m,v,x,L,U),s.context=c_(null),l=s.current,h=Pn(),m=Vi(l),v=qs(h,m),v.callback=o??null,Ni(l,v,m),s.current.lanes=m,Ro(s,m,h),Bn(s,h),s}function Rd(s,o,l,h){var m=o.current,v=Pn(),x=Vi(m);return l=c_(l),o.context===null?o.context=l:o.pendingContext=l,o=qs(v,x),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Ni(m,o,x),s!==null&&(Ur(s,m,x,v),od(s,m,x)),x}function Pd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function d_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function tm(s,o){d_(s,o),(s=s.alternate)&&d_(s,o)}function RA(){return null}var h_=typeof reportError=="function"?reportError:function(s){console.error(s)};function nm(s){this._internalRoot=s}kd.prototype.render=nm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Rd(s,o,null,null)},kd.prototype.unmount=nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;zo(function(){Rd(null,s,null,null)}),o[Fs]=null}};function kd(s){this._internalRoot=s}kd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Kl();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Zn.length&&o!==0&&o<Zn[l].priority;l++);Zn.splice(l,0,s),l===0&&xa(s)}};function rm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function f_(){}function PA(s,o,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var Z=Pd(x);v.call(Z)}}var x=u_(o,h,s,0,null,!1,!1,"",f_);return s._reactRootContainer=x,s[Fs]=x.current,oc(s.nodeType===8?s.parentNode:s),zo(),x}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var L=h;h=function(){var Z=Pd(U);L.call(Z)}}var U=em(s,0,!1,null,null,!1,!1,"",f_);return s._reactRootContainer=U,s[Fs]=U.current,oc(s.nodeType===8?s.parentNode:s),zo(function(){Rd(o,U,l,h)}),U}function Dd(s,o,l,h,m){var v=l._reactRootContainer;if(v){var x=v;if(typeof m=="function"){var L=m;m=function(){var U=Pd(x);L.call(U)}}Rd(o,x,s,m)}else x=PA(l,o,s,m,h);return Pd(x)}Wl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=nt(o.pendingLanes);l!==0&&(Hl(o,l|1),Bn(o,pt()),(et&6)===0&&(Ya=pt()+500,Pi()))}break;case 13:zo(function(){var h=$s(s,1);if(h!==null){var m=Pn();Ur(h,s,1,m)}}),tm(s,1)}},Ea=function(s){if(s.tag===13){var o=$s(s,134217728);if(o!==null){var l=Pn();Ur(o,s,134217728,l)}tm(s,134217728)}},Gl=function(s){if(s.tag===13){var o=Vi(s),l=$s(s,o);if(l!==null){var h=Pn();Ur(l,s,o,h)}tm(s,o)}},Kl=function(){return Ge},Ql=function(s,o){var l=Ge;try{return Ge=s,o()}finally{Ge=l}},kr=function(s,o,l){switch(o){case"input":if(Kn(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Yu(h);if(!m)throw Error(n(90));Bt(h),Kn(h,m)}}}break;case"textarea":ya(s,l);break;case"select":o=l.value,o!=null&&Qn(s,!!l.multiple,o,!1)}},Rt=Kp,Kt=zo;var kA={usingClientEntryPoint:!1,Events:[cc,La,Yu,Ve,ct,Kp]},xc={findFiberByHostInstance:Mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NA={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Nu(s),s===null?null:s.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||RA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Io=Md.inject(NA),Xn=Md}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kA,zn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(o))throw Error(n(200));return CA(s,o,null,l)},zn.createRoot=function(s,o){if(!rm(s))throw Error(n(299));var l=!1,h="",m=h_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=em(s,1,!1,null,null,l,!1,h,m),s[Fs]=o.current,oc(s.nodeType===8?s.parentNode:s),new nm(o)},zn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Nu(o),s=s===null?null:s.stateNode,s},zn.flushSync=function(s){return zo(s)},zn.hydrate=function(s,o,l){if(!Nd(o))throw Error(n(200));return Dd(null,s,o,!0,l)},zn.hydrateRoot=function(s,o,l){if(!rm(s))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",x=h_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),o=u_(o,null,s,1,l??null,m,!1,v,x),s[Fs]=o.current,oc(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new kd(o)},zn.render=function(s,o,l){if(!Nd(o))throw Error(n(200));return Dd(null,s,o,!1,l)},zn.unmountComponentAtNode=function(s){if(!Nd(s))throw Error(n(40));return s._reactRootContainer?(zo(function(){Dd(null,null,s,!1,function(){s._reactRootContainer=null,s[Fs]=null})}),!0):!1},zn.unstable_batchedUpdates=Kp,zn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!Nd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Dd(s,o,l,!1,h)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var E_;function rT(){if(E_)return om.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),om.exports=UA(),om.exports}var T_;function BA(){if(T_)return Od;T_=1;var t=rT();return Od.createRoot=t.createRoot,Od.hydrateRoot=t.hydrateRoot,Od}var zA=BA(),C=Sg();const fe=nT(C),sT=MA({__proto__:null,default:fe},[C]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),x_=t=>{const e=qA(t);return e.charAt(0).toUpperCase()+e.slice(1)},iT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...d},f)=>C.createElement("svg",{ref:f,...HA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iT("lucide",i),...d},[...c.map(([p,y])=>C.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(WA,{ref:a,iconNode:e,className:iT(`lucide-${$A(x_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=x_(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ag=Ze("bell",GA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$c=Ze("calendar",KA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oT=Ze("chart-column",QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XA=Ze("check",YA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aT=Ze("chevron-down",JA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eC=Ze("chevron-left",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lT=Ze("chevron-right",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rC=Ze("circle-alert",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],iC=Ze("clock",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Cg=Ze("house",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lC=Ze("image",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],uC=Ze("key",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cT=Ze("layout-dashboard",dC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fC=Ze("lock",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],mC=Ze("log-in",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],uT=Ze("log-out",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],vC=Ze("mail",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dT=Ze("map-pin",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],hT=Ze("moon",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],TC=Ze("newspaper",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],fT=Ze("plane",xC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],IC=Ze("play",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],AC=Ze("search",SC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gh=Ze("settings",CC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pT=Ze("shield",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],kC=Ze("shopping-bag",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],DC=Ze("smartphone",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],OC=Ze("sparkles",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mT=Ze("sun",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],jC=Ze("ticket",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],UC=Ze("trending-up",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Kh=Ze("trophy",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eh=Ze("user",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],gT=Ze("users",$C);function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function b_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Qh(...t){return e=>{let n=!1;const r=t.map(i=>{const a=b_(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():b_(t[i],null)}}}}function Gn(...t){return C.useCallback(Qh(...t),t)}function c9(t,e){const n=C.createContext(e),r=a=>{const{children:c,...d}=a,f=C.useMemo(()=>d,Object.values(d));return _.jsx(n.Provider,{value:f,children:c})};r.displayName=t+"Provider";function i(a){const c=C.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function ou(t,e=[]){let n=[];function r(a,c){const d=C.createContext(c),f=n.length;n=[...n,c];const p=g=>{const{scope:T,children:I,...R}=g,P=T?.[t]?.[f]||d,O=C.useMemo(()=>R,Object.values(R));return _.jsx(P.Provider,{value:O,children:I})};p.displayName=a+"Provider";function y(g,T){const I=T?.[t]?.[f]||d,R=C.useContext(I);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=n.map(c=>C.createContext(c));return function(d){const f=d?.[t]||a;return C.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[r,qC(i,...e)]}function qC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((d,{useScope:f,scopeName:p})=>{const g=f(a)[`__scope${p}`];return{...d,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var ro=globalThis?.document?C.useLayoutEffect:()=>{},HC=sT[" useInsertionEffect ".trim().toString()]||ro;function yT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,c]=WC({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:i;{const y=C.useRef(t!==void 0);C.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const p=C.useCallback(y=>{if(d){const g=GC(y)?y(t):y;g!==t&&c.current?.(g)}else a(y)},[d,t,a,c]);return[f,p]}function WC({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),a=C.useRef(e);return HC(()=>{a.current=e},[e]),C.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function GC(t){return typeof t=="function"}var Rg=rT();const vT=nT(Rg);function qc(t){const e=QC(t),n=C.forwardRef((r,i)=>{const{children:a,...c}=r,d=C.Children.toArray(a),f=d.find(YC);if(f){const p=f.props.children,y=d.map(g=>g===f?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:i,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return _.jsx(e,{...c,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var KC=qc("Slot");function QC(t){const e=C.forwardRef((n,r)=>{const{children:i,...a}=n;if(C.isValidElement(i)){const c=JC(i),d=XC(a,i.props);return i.type!==C.Fragment&&(d.ref=r?Qh(r,c):c),C.cloneElement(i,d)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wT=Symbol("radix.slottable");function u9(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wT,e}function YC(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wT}function XC(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const f=a(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function JC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],In=ZC.reduce((t,e)=>{const n=qc(`Primitive.${e}`),r=C.forwardRef((i,a)=>{const{asChild:c,...d}=i,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _T(t,e){t&&Rg.flushSync(()=>t.dispatchEvent(e))}function ET(t){const e=t+"CollectionProvider",[n,r]=ou(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=P=>{const{scope:O,children:B}=P,J=fe.useRef(null),H=fe.useRef(new Map).current;return _.jsx(i,{scope:O,itemMap:H,collectionRef:J,children:B})};c.displayName=e;const d=t+"CollectionSlot",f=qc(d),p=fe.forwardRef((P,O)=>{const{scope:B,children:J}=P,H=a(d,B),X=Gn(O,H.collectionRef);return _.jsx(f,{ref:X,children:J})});p.displayName=d;const y=t+"CollectionItemSlot",g="data-radix-collection-item",T=qc(y),I=fe.forwardRef((P,O)=>{const{scope:B,children:J,...H}=P,X=fe.useRef(null),re=Gn(O,X),Y=a(y,B);return fe.useEffect(()=>(Y.itemMap.set(X,{ref:X,...H}),()=>void Y.itemMap.delete(X))),_.jsx(T,{[g]:"",ref:re,children:J})});I.displayName=y;function R(P){const O=a(t+"CollectionConsumer",P);return fe.useCallback(()=>{const J=O.collectionRef.current;if(!J)return[];const H=Array.from(J.querySelectorAll(`[${g}]`));return Array.from(O.itemMap.values()).sort((Y,A)=>H.indexOf(Y.ref.current)-H.indexOf(A.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:c,Slot:p,ItemSlot:I},R,r]}var eR=C.createContext(void 0);function TT(t){const e=C.useContext(eR);return t||e||"ltr"}function ni(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function tR(t,e=globalThis?.document){const n=ni(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nR="DismissableLayer",Bm="dismissableLayer.update",rR="dismissableLayer.pointerDownOutside",sR="dismissableLayer.focusOutside",I_,xT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bT=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...f}=t,p=C.useContext(xT),[y,g]=C.useState(null),T=y?.ownerDocument??globalThis?.document,[,I]=C.useState({}),R=Gn(e,A=>g(A)),P=Array.from(p.layers),[O]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),B=P.indexOf(O),J=y?P.indexOf(y):-1,H=p.layersWithOutsidePointerEventsDisabled.size>0,X=J>=B,re=aR(A=>{const b=A.target,M=[...p.branches].some(k=>k.contains(b));!X||M||(i?.(A),c?.(A),A.defaultPrevented||d?.())},T),Y=lR(A=>{const b=A.target;[...p.branches].some(k=>k.contains(b))||(a?.(A),c?.(A),A.defaultPrevented||d?.())},T);return tR(A=>{J===p.layers.size-1&&(r?.(A),!A.defaultPrevented&&d&&(A.preventDefault(),d()))},T),C.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(I_=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),S_(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=I_)}},[y,T,n,p]),C.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),S_())},[y,p]),C.useEffect(()=>{const A=()=>I({});return document.addEventListener(Bm,A),()=>document.removeEventListener(Bm,A)},[]),_.jsx(In.div,{...f,ref:R,style:{pointerEvents:H?X?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,re.onPointerDownCapture)})});bT.displayName=nR;var iR="DismissableLayerBranch",oR=C.forwardRef((t,e)=>{const n=C.useContext(xT),r=C.useRef(null),i=Gn(e,r);return C.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),_.jsx(In.div,{...t,ref:i})});oR.displayName=iR;function aR(t,e=globalThis?.document){const n=ni(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let f=function(){IT(rR,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lR(t,e=globalThis?.document){const n=ni(t),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&IT(sR,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S_(){const t=new CustomEvent(Bm);document.dispatchEvent(t)}function IT(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_T(i,a):i.dispatchEvent(a)}var cm=0;function cR(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??A_()),document.body.insertAdjacentElement("beforeend",t[1]??A_()),cm++,()=>{cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cm--}},[])}function A_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var um="focusScope.autoFocusOnMount",dm="focusScope.autoFocusOnUnmount",C_={bubbles:!1,cancelable:!0},uR="FocusScope",ST=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=t,[d,f]=C.useState(null),p=ni(i),y=ni(a),g=C.useRef(null),T=Gn(e,P=>f(P)),I=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let P=function(H){if(I.paused||!d)return;const X=H.target;d.contains(X)?g.current=X:qi(g.current,{select:!0})},O=function(H){if(I.paused||!d)return;const X=H.relatedTarget;X!==null&&(d.contains(X)||qi(g.current,{select:!0}))},B=function(H){if(document.activeElement===document.body)for(const re of H)re.removedNodes.length>0&&qi(d)};document.addEventListener("focusin",P),document.addEventListener("focusout",O);const J=new MutationObserver(B);return d&&J.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",O),J.disconnect()}}},[r,d,I.paused]),C.useEffect(()=>{if(d){P_.add(I);const P=document.activeElement;if(!d.contains(P)){const B=new CustomEvent(um,C_);d.addEventListener(um,p),d.dispatchEvent(B),B.defaultPrevented||(dR(gR(AT(d)),{select:!0}),document.activeElement===P&&qi(d))}return()=>{d.removeEventListener(um,p),setTimeout(()=>{const B=new CustomEvent(dm,C_);d.addEventListener(dm,y),d.dispatchEvent(B),B.defaultPrevented||qi(P??document.body,{select:!0}),d.removeEventListener(dm,y),P_.remove(I)},0)}}},[d,p,y,I]);const R=C.useCallback(P=>{if(!n&&!r||I.paused)return;const O=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,B=document.activeElement;if(O&&B){const J=P.currentTarget,[H,X]=hR(J);H&&X?!P.shiftKey&&B===X?(P.preventDefault(),n&&qi(H,{select:!0})):P.shiftKey&&B===H&&(P.preventDefault(),n&&qi(X,{select:!0})):B===J&&P.preventDefault()}},[n,r,I.paused]);return _.jsx(In.div,{tabIndex:-1,...c,ref:T,onKeyDown:R})});ST.displayName=uR;function dR(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qi(r,{select:e}),document.activeElement!==n)return}function hR(t){const e=AT(t),n=R_(e,t),r=R_(e.reverse(),t);return[n,r]}function AT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function R_(t,e){for(const n of t)if(!fR(n,{upTo:e}))return n}function fR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pR(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pR(t)&&e&&t.select()}}var P_=mR();function mR(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=k_(t,e),t.unshift(e)},remove(e){t=k_(t,e),t[0]?.resume()}}}function k_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gR(t){return t.filter(e=>e.tagName!=="A")}var yR=sT[" useId ".trim().toString()]||(()=>{}),vR=0;function zm(t){const[e,n]=C.useState(yR());return ro(()=>{n(r=>r??String(vR++))},[t]),t||(e?`radix-${e}`:"")}const wR=["top","right","bottom","left"],so=Math.min,or=Math.max,ph=Math.round,Vd=Math.floor,Es=t=>({x:t,y:t}),_R={left:"right",right:"left",bottom:"top",top:"bottom"},ER={start:"end",end:"start"};function $m(t,e,n){return or(t,so(e,n))}function ri(t,e){return typeof t=="function"?t(e):t}function si(t){return t.split("-")[0]}function bl(t){return t.split("-")[1]}function Pg(t){return t==="x"?"y":"x"}function kg(t){return t==="y"?"height":"width"}const TR=new Set(["top","bottom"]);function ws(t){return TR.has(si(t))?"y":"x"}function Ng(t){return Pg(ws(t))}function xR(t,e,n){n===void 0&&(n=!1);const r=bl(t),i=Ng(t),a=kg(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=mh(c)),[c,mh(c)]}function bR(t){const e=mh(t);return[qm(t),e,qm(e)]}function qm(t){return t.replace(/start|end/g,e=>ER[e])}const N_=["left","right"],D_=["right","left"],IR=["top","bottom"],SR=["bottom","top"];function AR(t,e,n){switch(t){case"top":case"bottom":return n?e?D_:N_:e?N_:D_;case"left":case"right":return e?IR:SR;default:return[]}}function CR(t,e,n,r){const i=bl(t);let a=AR(si(t),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),e&&(a=a.concat(a.map(qm)))),a}function mh(t){return t.replace(/left|right|bottom|top/g,e=>_R[e])}function RR(t){return{top:0,right:0,bottom:0,left:0,...t}}function CT(t){return typeof t!="number"?RR(t):{top:t,right:t,bottom:t,left:t}}function gh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function M_(t,e,n){let{reference:r,floating:i}=t;const a=ws(e),c=Ng(e),d=kg(c),f=si(e),p=a==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,T=r[d]/2-i[d]/2;let I;switch(f){case"top":I={x:y,y:r.y-i.height};break;case"bottom":I={x:y,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:g};break;case"left":I={x:r.x-i.width,y:g};break;default:I={x:r.x,y:r.y}}switch(bl(e)){case"start":I[c]-=T*(n&&p?-1:1);break;case"end":I[c]+=T*(n&&p?-1:1);break}return I}const PR=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:g}=M_(p,r,f),T=r,I={},R=0;for(let P=0;P<d.length;P++){const{name:O,fn:B}=d[P],{x:J,y:H,data:X,reset:re}=await B({x:y,y:g,initialPlacement:r,placement:T,strategy:i,middlewareData:I,rects:p,platform:c,elements:{reference:t,floating:e}});y=J??y,g=H??g,I={...I,[O]:{...I[O],...X}},re&&R<=50&&(R++,typeof re=="object"&&(re.placement&&(T=re.placement),re.rects&&(p=re.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):re.rects),{x:y,y:g}=M_(p,T,f)),P=-1)}return{x:y,y:g,placement:T,strategy:i,middlewareData:I}};async function Hc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:c,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:T=!1,padding:I=0}=ri(e,t),R=CT(I),O=d[T?g==="floating"?"reference":"floating":g],B=gh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(O)))==null||n?O:O.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:f})),J=g==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),X=await(a.isElement==null?void 0:a.isElement(H))?await(a.getScale==null?void 0:a.getScale(H))||{x:1,y:1}:{x:1,y:1},re=gh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:J,offsetParent:H,strategy:f}):J);return{top:(B.top-re.top+R.top)/X.y,bottom:(re.bottom-B.bottom+R.bottom)/X.y,left:(B.left-re.left+R.left)/X.x,right:(re.right-B.right+R.right)/X.x}}const kR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:c,elements:d,middlewareData:f}=e,{element:p,padding:y=0}=ri(t,e)||{};if(p==null)return{};const g=CT(y),T={x:n,y:r},I=Ng(i),R=kg(I),P=await c.getDimensions(p),O=I==="y",B=O?"top":"left",J=O?"bottom":"right",H=O?"clientHeight":"clientWidth",X=a.reference[R]+a.reference[I]-T[I]-a.floating[R],re=T[I]-a.reference[I],Y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let A=Y?Y[H]:0;(!A||!await(c.isElement==null?void 0:c.isElement(Y)))&&(A=d.floating[H]||a.floating[R]);const b=X/2-re/2,M=A/2-P[R]/2-1,k=so(g[B],M),N=so(g[J],M),j=k,D=A-P[R]-N,be=A/2-P[R]/2+b,Oe=$m(j,be,D),pe=!f.arrow&&bl(i)!=null&&be!==Oe&&a.reference[R]/2-(be<j?k:N)-P[R]/2<0,we=pe?be<j?be-j:be-D:0;return{[I]:T[I]+we,data:{[I]:Oe,centerOffset:be-Oe-we,...pe&&{alignmentOffset:we}},reset:pe}}}),NR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:T,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:P=!0,...O}=ri(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const B=si(i),J=ws(d),H=si(d)===d,X=await(f.isRTL==null?void 0:f.isRTL(p.floating)),re=T||(H||!P?[mh(d)]:bR(d)),Y=R!=="none";!T&&Y&&re.push(...CR(d,P,R,X));const A=[d,...re],b=await Hc(e,O),M=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&M.push(b[B]),g){const be=xR(i,c,X);M.push(b[be[0]],b[be[1]])}if(k=[...k,{placement:i,overflows:M}],!M.every(be=>be<=0)){var N,j;const be=(((N=a.flip)==null?void 0:N.index)||0)+1,Oe=A[be];if(Oe&&(!(g==="alignment"?J!==ws(Oe):!1)||k.every($=>ws($.placement)===J?$.overflows[0]>0:!0)))return{data:{index:be,overflows:k},reset:{placement:Oe}};let pe=(j=k.filter(we=>we.overflows[0]<=0).sort((we,$)=>we.overflows[1]-$.overflows[1])[0])==null?void 0:j.placement;if(!pe)switch(I){case"bestFit":{var D;const we=(D=k.filter($=>{if(Y){const te=ws($.placement);return te===J||te==="y"}return!0}).map($=>[$.placement,$.overflows.filter(te=>te>0).reduce((te,oe)=>te+oe,0)]).sort(($,te)=>$[1]-te[1])[0])==null?void 0:D[0];we&&(pe=we);break}case"initialPlacement":pe=d;break}if(i!==pe)return{reset:{placement:pe}}}return{}}}};function O_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function V_(t){return wR.some(e=>t[e]>=0)}const DR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ri(t,e);switch(r){case"referenceHidden":{const a=await Hc(e,{...i,elementContext:"reference"}),c=O_(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:V_(c)}}}case"escaped":{const a=await Hc(e,{...i,altBoundary:!0}),c=O_(a,n.floating);return{data:{escapedOffsets:c,escaped:V_(c)}}}default:return{}}}}},RT=new Set(["left","top"]);async function MR(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=si(n),d=bl(n),f=ws(n)==="y",p=RT.has(c)?-1:1,y=a&&f?-1:1,g=ri(e,t);let{mainAxis:T,crossAxis:I,alignmentAxis:R}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof R=="number"&&(I=d==="end"?R*-1:R),f?{x:I*y,y:T*p}:{x:T*p,y:I*y}}const OR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:c,middlewareData:d}=e,f=await MR(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:c}}}}},VR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:O=>{let{x:B,y:J}=O;return{x:B,y:J}}},...f}=ri(t,e),p={x:n,y:r},y=await Hc(e,f),g=ws(si(i)),T=Pg(g);let I=p[T],R=p[g];if(a){const O=T==="y"?"top":"left",B=T==="y"?"bottom":"right",J=I+y[O],H=I-y[B];I=$m(J,I,H)}if(c){const O=g==="y"?"top":"left",B=g==="y"?"bottom":"right",J=R+y[O],H=R-y[B];R=$m(J,R,H)}const P=d.fn({...e,[T]:I,[g]:R});return{...P,data:{x:P.x-n,y:P.y-r,enabled:{[T]:a,[g]:c}}}}}},LR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=ri(t,e),y={x:n,y:r},g=ws(i),T=Pg(g);let I=y[T],R=y[g];const P=ri(d,e),O=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(f){const H=T==="y"?"height":"width",X=a.reference[T]-a.floating[H]+O.mainAxis,re=a.reference[T]+a.reference[H]-O.mainAxis;I<X?I=X:I>re&&(I=re)}if(p){var B,J;const H=T==="y"?"width":"height",X=RT.has(si(i)),re=a.reference[g]-a.floating[H]+(X&&((B=c.offset)==null?void 0:B[g])||0)+(X?0:O.crossAxis),Y=a.reference[g]+a.reference[H]+(X?0:((J=c.offset)==null?void 0:J[g])||0)-(X?O.crossAxis:0);R<re?R=re:R>Y&&(R=Y)}return{[T]:I,[g]:R}}}},jR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:c,elements:d}=e,{apply:f=()=>{},...p}=ri(t,e),y=await Hc(e,p),g=si(i),T=bl(i),I=ws(i)==="y",{width:R,height:P}=a.floating;let O,B;g==="top"||g==="bottom"?(O=g,B=T===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(B=g,O=T==="end"?"top":"bottom");const J=P-y.top-y.bottom,H=R-y.left-y.right,X=so(P-y[O],J),re=so(R-y[B],H),Y=!e.middlewareData.shift;let A=X,b=re;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=H),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=J),Y&&!T){const k=or(y.left,0),N=or(y.right,0),j=or(y.top,0),D=or(y.bottom,0);I?b=R-2*(k!==0||N!==0?k+N:or(y.left,y.right)):A=P-2*(j!==0||D!==0?j+D:or(y.top,y.bottom))}await f({...e,availableWidth:b,availableHeight:A});const M=await c.getDimensions(d.floating);return R!==M.width||P!==M.height?{reset:{rects:!0}}:{}}}};function Yh(){return typeof window<"u"}function Il(t){return PT(t)?(t.nodeName||"").toLowerCase():"#document"}function dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(PT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PT(t){return Yh()?t instanceof Node||t instanceof dr(t).Node:!1}function $r(t){return Yh()?t instanceof Element||t instanceof dr(t).Element:!1}function Cs(t){return Yh()?t instanceof HTMLElement||t instanceof dr(t).HTMLElement:!1}function L_(t){return!Yh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dr(t).ShadowRoot}const FR=new Set(["inline","contents"]);function au(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!FR.has(i)}const UR=new Set(["table","td","th"]);function BR(t){return UR.has(Il(t))}const zR=[":popover-open",":modal"];function Xh(t){return zR.some(e=>{try{return t.matches(e)}catch{return!1}})}const $R=["transform","translate","scale","rotate","perspective"],qR=["transform","translate","scale","rotate","perspective","filter"],HR=["paint","layout","strict","content"];function Dg(t){const e=Mg(),n=$r(t)?qr(t):t;return $R.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||qR.some(r=>(n.willChange||"").includes(r))||HR.some(r=>(n.contain||"").includes(r))}function WR(t){let e=io(t);for(;Cs(e)&&!yl(e);){if(Dg(e))return e;if(Xh(e))return null;e=io(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GR=new Set(["html","body","#document"]);function yl(t){return GR.has(Il(t))}function qr(t){return dr(t).getComputedStyle(t)}function Jh(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(Il(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L_(t)&&t.host||Ps(t);return L_(e)?e.host:e}function kT(t){const e=io(t);return yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cs(e)&&au(e)?e:kT(e)}function Wc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kT(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),c=dr(i);if(a){const d=Hm(c);return e.concat(c,c.visualViewport||[],au(i)?i:[],d&&n?Wc(d):[])}return e.concat(i,Wc(i,[],n))}function Hm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NT(t){const e=qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Cs(t),a=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=ph(n)!==a||ph(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function Og(t){return $r(t)?t:t.contextElement}function cl(t){const e=Og(t);if(!Cs(e))return Es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=NT(e);let c=(a?ph(n.width):n.width)/r,d=(a?ph(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const KR=Es(0);function DT(t){const e=dr(t);return!Mg()||!e.visualViewport?KR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dr(t)?!1:e}function Zo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Og(t);let c=Es(1);e&&(r?$r(r)&&(c=cl(r)):c=cl(t));const d=QR(a,n,r)?DT(a):Es(0);let f=(i.left+d.x)/c.x,p=(i.top+d.y)/c.y,y=i.width/c.x,g=i.height/c.y;if(a){const T=dr(a),I=r&&$r(r)?dr(r):r;let R=T,P=Hm(R);for(;P&&r&&I!==R;){const O=cl(P),B=P.getBoundingClientRect(),J=qr(P),H=B.left+(P.clientLeft+parseFloat(J.paddingLeft))*O.x,X=B.top+(P.clientTop+parseFloat(J.paddingTop))*O.y;f*=O.x,p*=O.y,y*=O.x,g*=O.y,f+=H,p+=X,R=dr(P),P=Hm(R)}}return gh({width:y,height:g,x:f,y:p})}function Zh(t,e){const n=Jh(t).scrollLeft;return e?e.left+n:Zo(Ps(t)).left+n}function MT(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Zh(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function YR(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",c=Ps(r),d=e?Xh(e.floating):!1;if(r===c||d&&a)return n;let f={scrollLeft:0,scrollTop:0},p=Es(1);const y=Es(0),g=Cs(r);if((g||!g&&!a)&&((Il(r)!=="body"||au(c))&&(f=Jh(r)),Cs(r))){const I=Zo(r);p=cl(r),y.x=I.x+r.clientLeft,y.y=I.y+r.clientTop}const T=c&&!g&&!a?MT(c,f):Es(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+y.x+T.x,y:n.y*p.y-f.scrollTop*p.y+y.y+T.y}}function XR(t){return Array.from(t.getClientRects())}function JR(t){const e=Ps(t),n=Jh(t),r=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Zh(t);const d=-n.scrollTop;return qr(r).direction==="rtl"&&(c+=or(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:d}}const j_=25;function ZR(t,e){const n=dr(t),r=Ps(t),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,f=0;if(i){a=i.width,c=i.height;const y=Mg();(!y||y&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const p=Zh(r);if(p<=0){const y=r.ownerDocument,g=y.body,T=getComputedStyle(g),I=y.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,R=Math.abs(r.clientWidth-g.clientWidth-I);R<=j_&&(a-=R)}else p<=j_&&(a+=p);return{width:a,height:c,x:d,y:f}}const eP=new Set(["absolute","fixed"]);function tP(t,e){const n=Zo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Cs(t)?cl(t):Es(1),c=t.clientWidth*a.x,d=t.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:c,height:d,x:f,y:p}}function F_(t,e,n){let r;if(e==="viewport")r=ZR(t,n);else if(e==="document")r=JR(Ps(t));else if($r(e))r=tP(e,n);else{const i=DT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gh(r)}function OT(t,e){const n=io(t);return n===e||!$r(n)||yl(n)?!1:qr(n).position==="fixed"||OT(n,e)}function nP(t,e){const n=e.get(t);if(n)return n;let r=Wc(t,[],!1).filter(d=>$r(d)&&Il(d)!=="body"),i=null;const a=qr(t).position==="fixed";let c=a?io(t):t;for(;$r(c)&&!yl(c);){const d=qr(c),f=Dg(c);!f&&d.position==="fixed"&&(i=null),(a?!f&&!i:!f&&d.position==="static"&&!!i&&eP.has(i.position)||au(c)&&!f&&OT(t,c))?r=r.filter(y=>y!==c):i=d,c=io(c)}return e.set(t,r),r}function rP(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?Xh(e)?[]:nP(e,this._c):[].concat(n),r],d=c[0],f=c.reduce((p,y)=>{const g=F_(e,y,i);return p.top=or(g.top,p.top),p.right=so(g.right,p.right),p.bottom=so(g.bottom,p.bottom),p.left=or(g.left,p.left),p},F_(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sP(t){const{width:e,height:n}=NT(t);return{width:e,height:n}}function iP(t,e,n){const r=Cs(e),i=Ps(e),a=n==="fixed",c=Zo(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=Es(0);function p(){f.x=Zh(i)}if(r||!r&&!a)if((Il(e)!=="body"||au(i))&&(d=Jh(e)),r){const I=Zo(e,!0,a,e);f.x=I.x+e.clientLeft,f.y=I.y+e.clientTop}else i&&p();a&&!r&&i&&p();const y=i&&!r&&!a?MT(i,d):Es(0),g=c.left+d.scrollLeft-f.x-y.x,T=c.top+d.scrollTop-f.y-y.y;return{x:g,y:T,width:c.width,height:c.height}}function hm(t){return qr(t).position==="static"}function U_(t,e){if(!Cs(t)||qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ps(t)===n&&(n=n.ownerDocument.body),n}function VT(t,e){const n=dr(t);if(Xh(t))return n;if(!Cs(t)){let i=io(t);for(;i&&!yl(i);){if($r(i)&&!hm(i))return i;i=io(i)}return n}let r=U_(t,e);for(;r&&BR(r)&&hm(r);)r=U_(r,e);return r&&yl(r)&&hm(r)&&!Dg(r)?n:r||WR(t)||n}const oP=async function(t){const e=this.getOffsetParent||VT,n=this.getDimensions,r=await n(t.floating);return{reference:iP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aP(t){return qr(t).direction==="rtl"}const lP={convertOffsetParentRelativeRectToViewportRelativeRect:YR,getDocumentElement:Ps,getClippingRect:rP,getOffsetParent:VT,getElementRects:oP,getClientRects:XR,getDimensions:sP,getScale:cl,isElement:$r,isRTL:aP};function LT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cP(t,e){let n=null,r;const i=Ps(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const p=t.getBoundingClientRect(),{left:y,top:g,width:T,height:I}=p;if(d||e(),!T||!I)return;const R=Vd(g),P=Vd(i.clientWidth-(y+T)),O=Vd(i.clientHeight-(g+I)),B=Vd(y),H={rootMargin:-R+"px "+-P+"px "+-O+"px "+-B+"px",threshold:or(0,so(1,f))||1};let X=!0;function re(Y){const A=Y[0].intersectionRatio;if(A!==f){if(!X)return c();A?c(!1,A):r=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!LT(p,t.getBoundingClientRect())&&c(),X=!1}try{n=new IntersectionObserver(re,{...H,root:i.ownerDocument})}catch{n=new IntersectionObserver(re,H)}n.observe(t)}return c(!0),a}function uP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Og(t),y=i||a?[...p?Wc(p):[],...Wc(e)]:[];y.forEach(B=>{i&&B.addEventListener("scroll",n,{passive:!0}),a&&B.addEventListener("resize",n)});const g=p&&d?cP(p,n):null;let T=-1,I=null;c&&(I=new ResizeObserver(B=>{let[J]=B;J&&J.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var H;(H=I)==null||H.observe(e)})),n()}),p&&!f&&I.observe(p),I.observe(e));let R,P=f?Zo(t):null;f&&O();function O(){const B=Zo(t);P&&!LT(P,B)&&n(),P=B,R=requestAnimationFrame(O)}return n(),()=>{var B;y.forEach(J=>{i&&J.removeEventListener("scroll",n),a&&J.removeEventListener("resize",n)}),g?.(),(B=I)==null||B.disconnect(),I=null,f&&cancelAnimationFrame(R)}}const dP=OR,hP=VR,fP=NR,pP=jR,mP=DR,B_=kR,gP=LR,yP=(t,e,n)=>{const r=new Map,i={platform:lP,...n},a={...i.platform,_c:r};return PR(t,e,{...i,platform:a})};var vP=typeof document<"u",wP=function(){},th=vP?C.useLayoutEffect:wP;function yh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!yh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function jT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z_(t,e){const n=jT(t);return Math.round(e*n)/n}function fm(t){const e=C.useRef(t);return th(()=>{e.current=t}),e}function _P(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[y,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[T,I]=C.useState(r);yh(T,r)||I(r);const[R,P]=C.useState(null),[O,B]=C.useState(null),J=C.useCallback($=>{$!==Y.current&&(Y.current=$,P($))},[]),H=C.useCallback($=>{$!==A.current&&(A.current=$,B($))},[]),X=a||R,re=c||O,Y=C.useRef(null),A=C.useRef(null),b=C.useRef(y),M=f!=null,k=fm(f),N=fm(i),j=fm(p),D=C.useCallback(()=>{if(!Y.current||!A.current)return;const $={placement:e,strategy:n,middleware:T};N.current&&($.platform=N.current),yP(Y.current,A.current,$).then(te=>{const oe={...te,isPositioned:j.current!==!1};be.current&&!yh(b.current,oe)&&(b.current=oe,Rg.flushSync(()=>{g(oe)}))})},[T,e,n,N,j]);th(()=>{p===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[p]);const be=C.useRef(!1);th(()=>(be.current=!0,()=>{be.current=!1}),[]),th(()=>{if(X&&(Y.current=X),re&&(A.current=re),X&&re){if(k.current)return k.current(X,re,D);D()}},[X,re,D,k,M]);const Oe=C.useMemo(()=>({reference:Y,floating:A,setReference:J,setFloating:H}),[J,H]),pe=C.useMemo(()=>({reference:X,floating:re}),[X,re]),we=C.useMemo(()=>{const $={position:n,left:0,top:0};if(!pe.floating)return $;const te=z_(pe.floating,y.x),oe=z_(pe.floating,y.y);return d?{...$,transform:"translate("+te+"px, "+oe+"px)",...jT(pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:oe}},[n,d,pe.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:D,refs:Oe,elements:pe,floatingStyles:we}),[y,D,Oe,pe,we])}const EP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?B_({element:r.current,padding:i}).fn(n):{}:r?B_({element:r,padding:i}).fn(n):{}}}},TP=(t,e)=>({...dP(t),options:[t,e]}),xP=(t,e)=>({...hP(t),options:[t,e]}),bP=(t,e)=>({...gP(t),options:[t,e]}),IP=(t,e)=>({...fP(t),options:[t,e]}),SP=(t,e)=>({...pP(t),options:[t,e]}),AP=(t,e)=>({...mP(t),options:[t,e]}),CP=(t,e)=>({...EP(t),options:[t,e]});var RP="Arrow",FT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return _.jsx(In.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});FT.displayName=RP;var PP=FT;function kP(t){const[e,n]=C.useState(void 0);return ro(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vg="Popper",[UT,BT]=ou(Vg),[NP,zT]=UT(Vg),$T=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return _.jsx(NP,{scope:e,anchor:r,onAnchorChange:i,children:n})};$T.displayName=Vg;var qT="PopperAnchor",HT=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=zT(qT,n),c=C.useRef(null),d=Gn(e,c),f=C.useRef(null);return C.useEffect(()=>{const p=f.current;f.current=r?.current||c.current,p!==f.current&&a.onAnchorChange(f.current)}),r?null:_.jsx(In.div,{...i,ref:d})});HT.displayName=qT;var Lg="PopperContent",[DP,MP]=UT(Lg),WT=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:T=!1,updatePositionStrategy:I="optimized",onPlaced:R,...P}=t,O=zT(Lg,n),[B,J]=C.useState(null),H=Gn(e,le=>J(le)),[X,re]=C.useState(null),Y=kP(X),A=Y?.width??0,b=Y?.height??0,M=r+(a!=="center"?"-"+a:""),k=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},N=Array.isArray(p)?p:[p],j=N.length>0,D={padding:k,boundary:N.filter(VP),altBoundary:j},{refs:be,floatingStyles:Oe,placement:pe,isPositioned:we,middlewareData:$}=_P({strategy:"fixed",placement:M,whileElementsMounted:(...le)=>uP(...le,{animationFrame:I==="always"}),elements:{reference:O.anchor},middleware:[TP({mainAxis:i+b,alignmentAxis:c}),f&&xP({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?bP():void 0,...D}),f&&IP({...D}),SP({...D,apply:({elements:le,rects:me,availableWidth:xe,availableHeight:it})=>{const{width:tn,height:Bt}=me.reference,Sn=le.floating.style;Sn.setProperty("--radix-popper-available-width",`${xe}px`),Sn.setProperty("--radix-popper-available-height",`${it}px`),Sn.setProperty("--radix-popper-anchor-width",`${tn}px`),Sn.setProperty("--radix-popper-anchor-height",`${Bt}px`)}}),X&&CP({element:X,padding:d}),LP({arrowWidth:A,arrowHeight:b}),T&&AP({strategy:"referenceHidden",...D})]}),[te,oe]=QT(pe),V=ni(R);ro(()=>{we&&V?.()},[we,V]);const F=$.arrow?.x,q=$.arrow?.y,K=$.arrow?.centerOffset!==0,[ae,ue]=C.useState();return ro(()=>{B&&ue(window.getComputedStyle(B).zIndex)},[B]),_.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:we?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(DP,{scope:n,placedSide:te,onArrowChange:re,arrowX:F,arrowY:q,shouldHideArrow:K,children:_.jsx(In.div,{"data-side":te,"data-align":oe,...P,ref:H,style:{...P.style,animation:we?void 0:"none"}})})})});WT.displayName=Lg;var GT="PopperArrow",OP={top:"bottom",right:"left",bottom:"top",left:"right"},KT=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=MP(GT,r),c=OP[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(PP,{...i,ref:n,style:{...i.style,display:"block"}})})});KT.displayName=GT;function VP(t){return t!==null}var LP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[p,y]=QT(n),g={start:"0%",center:"50%",end:"100%"}[y],T=(i.arrow?.x??0)+d/2,I=(i.arrow?.y??0)+f/2;let R="",P="";return p==="bottom"?(R=c?g:`${T}px`,P=`${-f}px`):p==="top"?(R=c?g:`${T}px`,P=`${r.floating.height+f}px`):p==="right"?(R=`${-f}px`,P=c?g:`${I}px`):p==="left"&&(R=`${r.floating.width+f}px`,P=c?g:`${I}px`),{data:{x:R,y:P}}}});function QT(t){const[e,n="center"]=t.split("-");return[e,n]}var jP=$T,FP=HT,UP=WT,BP=KT,zP="Portal",YT=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=C.useState(!1);ro(()=>a(!0),[]);const c=n||i&&globalThis?.document?.body;return c?vT.createPortal(_.jsx(In.div,{...r,ref:e}),c):null});YT.displayName=zP;function $P(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var lu=t=>{const{present:e,children:n}=t,r=qP(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),a=Gn(r.ref,HP(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};lu.displayName="Presence";function qP(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),a=C.useRef("none"),c=t?"mounted":"unmounted",[d,f]=$P(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Ld(r.current);a.current=d==="mounted"?p:"none"},[d]),ro(()=>{const p=r.current,y=i.current;if(y!==t){const T=a.current,I=Ld(p);t?f("MOUNT"):I==="none"||p?.display==="none"?f("UNMOUNT"):f(y&&T!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),ro(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=I=>{const P=Ld(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&P&&(f("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},T=I=>{I.target===e&&(a.current=Ld(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Ld(t){return t?.animationName||"none"}function HP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pm="rovingFocusGroup.onEntryFocus",WP={bubbles:!1,cancelable:!0},cu="RovingFocusGroup",[Wm,XT,GP]=ET(cu),[KP,JT]=ou(cu,[GP]),[QP,YP]=KP(cu),ZT=C.forwardRef((t,e)=>_.jsx(Wm.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Wm.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(XP,{...t,ref:e})})}));ZT.displayName=cu;var XP=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=t,T=C.useRef(null),I=Gn(e,T),R=TT(a),[P,O]=yT({prop:c,defaultProp:d??null,onChange:f,caller:cu}),[B,J]=C.useState(!1),H=ni(p),X=XT(n),re=C.useRef(!1),[Y,A]=C.useState(0);return C.useEffect(()=>{const b=T.current;if(b)return b.addEventListener(pm,H),()=>b.removeEventListener(pm,H)},[H]),_.jsx(QP,{scope:n,orientation:r,dir:R,loop:i,currentTabStopId:P,onItemFocus:C.useCallback(b=>O(b),[O]),onItemShiftTab:C.useCallback(()=>J(!0),[]),onFocusableItemAdd:C.useCallback(()=>A(b=>b+1),[]),onFocusableItemRemove:C.useCallback(()=>A(b=>b-1),[]),children:_.jsx(In.div,{tabIndex:B||Y===0?-1:0,"data-orientation":r,...g,ref:I,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{re.current=!0}),onFocus:Ye(t.onFocus,b=>{const M=!re.current;if(b.target===b.currentTarget&&M&&!B){const k=new CustomEvent(pm,WP);if(b.currentTarget.dispatchEvent(k),!k.defaultPrevented){const N=X().filter(pe=>pe.focusable),j=N.find(pe=>pe.active),D=N.find(pe=>pe.id===P),Oe=[j,D,...N].filter(Boolean).map(pe=>pe.ref.current);n1(Oe,y)}}re.current=!1}),onBlur:Ye(t.onBlur,()=>J(!1))})})}),e1="RovingFocusGroupItem",t1=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:c,...d}=t,f=zm(),p=a||f,y=YP(e1,n),g=y.currentTabStopId===p,T=XT(n),{onFocusableItemAdd:I,onFocusableItemRemove:R,currentTabStopId:P}=y;return C.useEffect(()=>{if(r)return I(),()=>R()},[r,I,R]),_.jsx(Wm.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:_.jsx(In.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:Ye(t.onMouseDown,O=>{r?y.onItemFocus(p):O.preventDefault()}),onFocus:Ye(t.onFocus,()=>y.onItemFocus(p)),onKeyDown:Ye(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){y.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const B=ek(O,y.orientation,y.dir);if(B!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let H=T().filter(X=>X.focusable).map(X=>X.ref.current);if(B==="last")H.reverse();else if(B==="prev"||B==="next"){B==="prev"&&H.reverse();const X=H.indexOf(O.currentTarget);H=y.loop?tk(H,X+1):H.slice(X+1)}setTimeout(()=>n1(H))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:P!=null}):c})})});t1.displayName=e1;var JP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ek(t,e,n){const r=ZP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JP[r]}function n1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tk(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nk=ZT,rk=t1,sk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ja=new WeakMap,jd=new WeakMap,Fd={},mm=0,r1=function(t){return t&&(t.host||r1(t.parentNode))},ik=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=r1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ok=function(t,e,n,r){var i=ik(e,Array.isArray(t)?t:[t]);Fd[n]||(Fd[n]=new WeakMap);var a=Fd[n],c=[],d=new Set,f=new Set(i),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};i.forEach(p);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(T){if(d.has(T))y(T);else try{var I=T.getAttribute(r),R=I!==null&&I!=="false",P=(Ja.get(T)||0)+1,O=(a.get(T)||0)+1;Ja.set(T,P),a.set(T,O),c.push(T),P===1&&R&&jd.set(T,!0),O===1&&T.setAttribute(n,"true"),R||T.setAttribute(r,"true")}catch(B){console.error("aria-hidden: cannot operate on ",T,B)}})};return y(e),d.clear(),mm++,function(){c.forEach(function(g){var T=Ja.get(g)-1,I=a.get(g)-1;Ja.set(g,T),a.set(g,I),T||(jd.has(g)||g.removeAttribute(r),jd.delete(g)),I||g.removeAttribute(n)}),mm--,mm||(Ja=new WeakMap,Ja=new WeakMap,jd=new WeakMap,Fd={})}},ak=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=sk(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ok(r,i,n,"aria-hidden")):function(){return null}},vs=function(){return vs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vs.apply(this,arguments)};function s1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lk(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var nh="right-scroll-bar-position",rh="width-before-scroll-bar",ck="with-scroll-bars-hidden",uk="--removed-body-scroll-bar-size";function gm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dk(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var hk=typeof window<"u"?C.useLayoutEffect:C.useEffect,$_=new WeakMap;function fk(t,e){var n=dk(null,function(r){return t.forEach(function(i){return gm(i,r)})});return hk(function(){var r=$_.get(n);if(r){var i=new Set(r),a=new Set(t),c=n.current;i.forEach(function(d){a.has(d)||gm(d,null)}),a.forEach(function(d){i.has(d)||gm(d,c)})}$_.set(n,t)},[t]),n}function pk(t){return t}function mk(t,e){e===void 0&&(e=pk);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var f=function(){var y=c;c=[],y.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),n}}}};return i}function gk(t){t===void 0&&(t={});var e=mk(null);return e.options=vs({async:!0,ssr:!1},t),e}var i1=function(t){var e=t.sideCar,n=s1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,vs({},n))};i1.isSideCarExport=!0;function yk(t,e){return t.useMedium(e),i1}var o1=gk(),ym=function(){},ef=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),i=r[0],a=r[1],c=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,y=t.enabled,g=t.shards,T=t.sideCar,I=t.noRelative,R=t.noIsolation,P=t.inert,O=t.allowPinchZoom,B=t.as,J=B===void 0?"div":B,H=t.gapMode,X=s1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),re=T,Y=fk([n,e]),A=vs(vs({},X),i);return C.createElement(C.Fragment,null,y&&C.createElement(re,{sideCar:o1,removeScrollBar:p,shards:g,noRelative:I,noIsolation:R,inert:P,setCallbacks:a,allowPinchZoom:!!O,lockRef:n,gapMode:H}),c?C.cloneElement(C.Children.only(d),vs(vs({},A),{ref:Y})):C.createElement(J,vs({},A,{className:f,ref:Y}),d))});ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ef.classNames={fullWidth:rh,zeroRight:nh};var vk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vk();return e&&t.setAttribute("nonce",e),t}function _k(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ek(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tk=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wk())&&(_k(e,n),Ek(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xk=function(){var t=Tk();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},a1=function(){var t=xk(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},bk={left:0,top:0,right:0,gap:0},vm=function(t){return parseInt(t||"",10)||0},Ik=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vm(n),vm(r),vm(i)]},Sk=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bk;var e=Ik(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ak=a1(),ul="data-scroll-locked",Ck=function(t,e,n,r){var i=t.left,a=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ck,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(rh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(uk,": ").concat(d,`px;
  }
`)},q_=function(){var t=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(t)?t:0},Rk=function(){C.useEffect(function(){return document.body.setAttribute(ul,(q_()+1).toString()),function(){var t=q_()-1;t<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,t.toString())}},[])},Pk=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Rk();var a=C.useMemo(function(){return Sk(i)},[i]);return C.createElement(Ak,{styles:Ck(a,!e,i,n?"":"!important")})},Gm=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Gm=!1}var Za=Gm?{passive:!1}:!1,kk=function(t){return t.tagName==="TEXTAREA"},l1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kk(t)&&n[e]==="visible")},Nk=function(t){return l1(t,"overflowY")},Dk=function(t){return l1(t,"overflowX")},H_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=c1(t,r);if(i){var a=u1(t,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Mk=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ok=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},c1=function(t,e){return t==="v"?Nk(e):Dk(e)},u1=function(t,e){return t==="v"?Mk(e):Ok(e)},Vk=function(t,e){return t==="h"&&e==="rtl"?-1:1},Lk=function(t,e,n,r,i){var a=Vk(t,window.getComputedStyle(e).direction),c=a*r,d=n.target,f=e.contains(d),p=!1,y=c>0,g=0,T=0;do{if(!d)break;var I=u1(t,d),R=I[0],P=I[1],O=I[2],B=P-O-a*R;(R||B)&&c1(t,d)&&(g+=B,T+=R);var J=d.parentNode;d=J&&J.nodeType===Node.DOCUMENT_FRAGMENT_NODE?J.host:J}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(y&&Math.abs(g)<1||!y&&Math.abs(T)<1)&&(p=!0),p},Bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W_=function(t){return[t.deltaX,t.deltaY]},G_=function(t){return t&&"current"in t?t.current:t},jk=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uk=0,el=[];function Bk(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(Uk++)[0],a=C.useState(a1)[0],c=C.useRef(t);C.useEffect(function(){c.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var P=lk([t.lockRef.current],(t.shards||[]).map(G_),!0).filter(Boolean);return P.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),P.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=C.useCallback(function(P,O){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!c.current.allowPinchZoom;var B=Bd(P),J=n.current,H="deltaX"in P?P.deltaX:J[0]-B[0],X="deltaY"in P?P.deltaY:J[1]-B[1],re,Y=P.target,A=Math.abs(H)>Math.abs(X)?"h":"v";if("touches"in P&&A==="h"&&Y.type==="range")return!1;var b=H_(A,Y);if(!b)return!0;if(b?re=A:(re=A==="v"?"h":"v",b=H_(A,Y)),!b)return!1;if(!r.current&&"changedTouches"in P&&(H||X)&&(r.current=re),!re)return!0;var M=r.current||re;return Lk(M,O,P,M==="h"?H:X)},[]),f=C.useCallback(function(P){var O=P;if(!(!el.length||el[el.length-1]!==a)){var B="deltaY"in O?W_(O):Bd(O),J=e.current.filter(function(re){return re.name===O.type&&(re.target===O.target||O.target===re.shadowParent)&&jk(re.delta,B)})[0];if(J&&J.should){O.cancelable&&O.preventDefault();return}if(!J){var H=(c.current.shards||[]).map(G_).filter(Boolean).filter(function(re){return re.contains(O.target)}),X=H.length>0?d(O,H[0]):!c.current.noIsolation;X&&O.cancelable&&O.preventDefault()}}},[]),p=C.useCallback(function(P,O,B,J){var H={name:P,delta:O,target:B,should:J,shadowParent:zk(B)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(X){return X!==H})},1)},[]),y=C.useCallback(function(P){n.current=Bd(P),r.current=void 0},[]),g=C.useCallback(function(P){p(P.type,W_(P),P.target,d(P,t.lockRef.current))},[]),T=C.useCallback(function(P){p(P.type,Bd(P),P.target,d(P,t.lockRef.current))},[]);C.useEffect(function(){return el.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:T}),document.addEventListener("wheel",f,Za),document.addEventListener("touchmove",f,Za),document.addEventListener("touchstart",y,Za),function(){el=el.filter(function(P){return P!==a}),document.removeEventListener("wheel",f,Za),document.removeEventListener("touchmove",f,Za),document.removeEventListener("touchstart",y,Za)}},[]);var I=t.removeScrollBar,R=t.inert;return C.createElement(C.Fragment,null,R?C.createElement(a,{styles:Fk(i)}):null,I?C.createElement(Pk,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $k=yk(o1,Bk);var d1=C.forwardRef(function(t,e){return C.createElement(ef,vs({},t,{ref:e,sideCar:$k}))});d1.classNames=ef.classNames;var Km=["Enter"," "],qk=["ArrowDown","PageUp","Home"],h1=["ArrowUp","PageDown","End"],Hk=[...qk,...h1],Wk={ltr:[...Km,"ArrowRight"],rtl:[...Km,"ArrowLeft"]},Gk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uu="Menu",[Gc,Kk,Qk]=ET(uu),[la,f1]=ou(uu,[Qk,BT,JT]),tf=BT(),p1=JT(),[Yk,ca]=la(uu),[Xk,du]=la(uu),m1=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:c=!0}=t,d=tf(e),[f,p]=C.useState(null),y=C.useRef(!1),g=ni(a),T=TT(i);return C.useEffect(()=>{const I=()=>{y.current=!0,document.addEventListener("pointerdown",R,{capture:!0,once:!0}),document.addEventListener("pointermove",R,{capture:!0,once:!0})},R=()=>y.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",R,{capture:!0}),document.removeEventListener("pointermove",R,{capture:!0})}},[]),_.jsx(jP,{...d,children:_.jsx(Yk,{scope:e,open:n,onOpenChange:g,content:f,onContentChange:p,children:_.jsx(Xk,{scope:e,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:T,modal:c,children:r})})})};m1.displayName=uu;var Jk="MenuAnchor",jg=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=tf(n);return _.jsx(FP,{...i,...r,ref:e})});jg.displayName=Jk;var Fg="MenuPortal",[Zk,g1]=la(Fg,{forceMount:void 0}),y1=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=ca(Fg,e);return _.jsx(Zk,{scope:e,forceMount:n,children:_.jsx(lu,{present:n||a.open,children:_.jsx(YT,{asChild:!0,container:i,children:r})})})};y1.displayName=Fg;var Ir="MenuContent",[e2,Ug]=la(Ir),v1=C.forwardRef((t,e)=>{const n=g1(Ir,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ca(Ir,t.__scopeMenu),c=du(Ir,t.__scopeMenu);return _.jsx(Gc.Provider,{scope:t.__scopeMenu,children:_.jsx(lu,{present:r||a.open,children:_.jsx(Gc.Slot,{scope:t.__scopeMenu,children:c.modal?_.jsx(t2,{...i,ref:e}):_.jsx(n2,{...i,ref:e})})})})}),t2=C.forwardRef((t,e)=>{const n=ca(Ir,t.__scopeMenu),r=C.useRef(null),i=Gn(e,r);return C.useEffect(()=>{const a=r.current;if(a)return ak(a)},[]),_.jsx(Bg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),n2=C.forwardRef((t,e)=>{const n=ca(Ir,t.__scopeMenu);return _.jsx(Bg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),r2=qc("MenuContent.ScrollLock"),Bg=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:T,onDismiss:I,disableOutsideScroll:R,...P}=t,O=ca(Ir,n),B=du(Ir,n),J=tf(n),H=p1(n),X=Kk(n),[re,Y]=C.useState(null),A=C.useRef(null),b=Gn(e,A,O.onContentChange),M=C.useRef(0),k=C.useRef(""),N=C.useRef(0),j=C.useRef(null),D=C.useRef("right"),be=C.useRef(0),Oe=R?d1:C.Fragment,pe=R?{as:r2,allowPinchZoom:!0}:void 0,we=te=>{const oe=k.current+te,V=X().filter(le=>!le.disabled),F=document.activeElement,q=V.find(le=>le.ref.current===F)?.textValue,K=V.map(le=>le.textValue),ae=m2(K,oe,q),ue=V.find(le=>le.textValue===ae)?.ref.current;(function le(me){k.current=me,window.clearTimeout(M.current),me!==""&&(M.current=window.setTimeout(()=>le(""),1e3))})(oe),ue&&setTimeout(()=>ue.focus())};C.useEffect(()=>()=>window.clearTimeout(M.current),[]),cR();const $=C.useCallback(te=>D.current===j.current?.side&&y2(te,j.current?.area),[]);return _.jsx(e2,{scope:n,searchRef:k,onItemEnter:C.useCallback(te=>{$(te)&&te.preventDefault()},[$]),onItemLeave:C.useCallback(te=>{$(te)||(A.current?.focus(),Y(null))},[$]),onTriggerLeave:C.useCallback(te=>{$(te)&&te.preventDefault()},[$]),pointerGraceTimerRef:N,onPointerGraceIntentChange:C.useCallback(te=>{j.current=te},[]),children:_.jsx(Oe,{...pe,children:_.jsx(ST,{asChild:!0,trapped:i,onMountAutoFocus:Ye(a,te=>{te.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:_.jsx(bT,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:T,onDismiss:I,children:_.jsx(nk,{asChild:!0,...H,dir:B.dir,orientation:"vertical",loop:r,currentTabStopId:re,onCurrentTabStopIdChange:Y,onEntryFocus:Ye(f,te=>{B.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(UP,{role:"menu","aria-orientation":"vertical","data-state":M1(O.open),"data-radix-menu-content":"",dir:B.dir,...J,...P,ref:b,style:{outline:"none",...P.style},onKeyDown:Ye(P.onKeyDown,te=>{const V=te.target.closest("[data-radix-menu-content]")===te.currentTarget,F=te.ctrlKey||te.altKey||te.metaKey,q=te.key.length===1;V&&(te.key==="Tab"&&te.preventDefault(),!F&&q&&we(te.key));const K=A.current;if(te.target!==K||!Hk.includes(te.key))return;te.preventDefault();const ue=X().filter(le=>!le.disabled).map(le=>le.ref.current);h1.includes(te.key)&&ue.reverse(),f2(ue)}),onBlur:Ye(t.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(M.current),k.current="")}),onPointerMove:Ye(t.onPointerMove,Kc(te=>{const oe=te.target,V=be.current!==te.clientX;if(te.currentTarget.contains(oe)&&V){const F=te.clientX>be.current?"right":"left";D.current=F,be.current=te.clientX}}))})})})})})})});v1.displayName=Ir;var s2="MenuGroup",zg=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(In.div,{role:"group",...r,ref:e})});zg.displayName=s2;var i2="MenuLabel",w1=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(In.div,{...r,ref:e})});w1.displayName=i2;var vh="MenuItem",K_="menu.itemSelect",nf=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=C.useRef(null),c=du(vh,t.__scopeMenu),d=Ug(vh,t.__scopeMenu),f=Gn(e,a),p=C.useRef(!1),y=()=>{const g=a.current;if(!n&&g){const T=new CustomEvent(K_,{bubbles:!0,cancelable:!0});g.addEventListener(K_,I=>r?.(I),{once:!0}),_T(g,T),T.defaultPrevented?p.current=!1:c.onClose()}};return _.jsx(_1,{...i,ref:f,disabled:n,onClick:Ye(t.onClick,y),onPointerDown:g=>{t.onPointerDown?.(g),p.current=!0},onPointerUp:Ye(t.onPointerUp,g=>{p.current||g.currentTarget?.click()}),onKeyDown:Ye(t.onKeyDown,g=>{const T=d.searchRef.current!=="";n||T&&g.key===" "||Km.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});nf.displayName=vh;var _1=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,c=Ug(vh,n),d=p1(n),f=C.useRef(null),p=Gn(e,f),[y,g]=C.useState(!1),[T,I]=C.useState("");return C.useEffect(()=>{const R=f.current;R&&I((R.textContent??"").trim())},[a.children]),_.jsx(Gc.ItemSlot,{scope:n,disabled:r,textValue:i??T,children:_.jsx(rk,{asChild:!0,...d,focusable:!r,children:_.jsx(In.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:Ye(t.onPointerMove,Kc(R=>{r?c.onItemLeave(R):(c.onItemEnter(R),R.defaultPrevented||R.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(t.onPointerLeave,Kc(R=>c.onItemLeave(R))),onFocus:Ye(t.onFocus,()=>g(!0)),onBlur:Ye(t.onBlur,()=>g(!1))})})})}),o2="MenuCheckboxItem",E1=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return _.jsx(S1,{scope:t.__scopeMenu,checked:n,children:_.jsx(nf,{role:"menuitemcheckbox","aria-checked":wh(n)?"mixed":n,...i,ref:e,"data-state":qg(n),onSelect:Ye(i.onSelect,()=>r?.(wh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});E1.displayName=o2;var T1="MenuRadioGroup",[a2,l2]=la(T1,{value:void 0,onValueChange:()=>{}}),x1=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=ni(r);return _.jsx(a2,{scope:t.__scopeMenu,value:n,onValueChange:a,children:_.jsx(zg,{...i,ref:e})})});x1.displayName=T1;var b1="MenuRadioItem",I1=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=l2(b1,t.__scopeMenu),a=n===i.value;return _.jsx(S1,{scope:t.__scopeMenu,checked:a,children:_.jsx(nf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":qg(a),onSelect:Ye(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});I1.displayName=b1;var $g="MenuItemIndicator",[S1,c2]=la($g,{checked:!1}),A1=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=c2($g,n);return _.jsx(lu,{present:r||wh(a.checked)||a.checked===!0,children:_.jsx(In.span,{...i,ref:e,"data-state":qg(a.checked)})})});A1.displayName=$g;var u2="MenuSeparator",C1=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(In.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});C1.displayName=u2;var d2="MenuArrow",R1=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=tf(n);return _.jsx(BP,{...i,...r,ref:e})});R1.displayName=d2;var h2="MenuSub",[d9,P1]=la(h2),Rc="MenuSubTrigger",k1=C.forwardRef((t,e)=>{const n=ca(Rc,t.__scopeMenu),r=du(Rc,t.__scopeMenu),i=P1(Rc,t.__scopeMenu),a=Ug(Rc,t.__scopeMenu),c=C.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=a,p={__scopeMenu:t.__scopeMenu},y=C.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return C.useEffect(()=>y,[y]),C.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),f(null)}},[d,f]),_.jsx(jg,{asChild:!0,...p,children:_.jsx(_1,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":M1(n.open),...t,ref:Qh(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ye(t.onPointerMove,Kc(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ye(t.onPointerLeave,Kc(g=>{y();const T=n.content?.getBoundingClientRect();if(T){const I=n.content?.dataset.side,R=I==="right",P=R?-5:5,O=T[R?"left":"right"],B=T[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+P,y:g.clientY},{x:O,y:T.top},{x:B,y:T.top},{x:B,y:T.bottom},{x:O,y:T.bottom}],side:I}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(t.onKeyDown,g=>{const T=a.searchRef.current!=="";t.disabled||T&&g.key===" "||Wk[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});k1.displayName=Rc;var N1="MenuSubContent",D1=C.forwardRef((t,e)=>{const n=g1(Ir,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ca(Ir,t.__scopeMenu),c=du(Ir,t.__scopeMenu),d=P1(N1,t.__scopeMenu),f=C.useRef(null),p=Gn(e,f);return _.jsx(Gc.Provider,{scope:t.__scopeMenu,children:_.jsx(lu,{present:r||a.open,children:_.jsx(Gc.Slot,{scope:t.__scopeMenu,children:_.jsx(Bg,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{c.isUsingKeyboardRef.current&&f.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ye(t.onFocusOutside,y=>{y.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ye(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:Ye(t.onKeyDown,y=>{const g=y.currentTarget.contains(y.target),T=Gk[c.dir].includes(y.key);g&&T&&(a.onOpenChange(!1),d.trigger?.focus(),y.preventDefault())})})})})})});D1.displayName=N1;function M1(t){return t?"open":"closed"}function wh(t){return t==="indeterminate"}function qg(t){return wh(t)?"indeterminate":t?"checked":"unchecked"}function f2(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function p2(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function m2(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=p2(t,Math.max(a,0));i.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function g2(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const d=e[a],f=e[c],p=d.x,y=d.y,g=f.x,T=f.y;y>r!=T>r&&n<(g-p)*(r-y)/(T-y)+p&&(i=!i)}return i}function y2(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return g2(n,e)}function Kc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var v2=m1,w2=jg,_2=y1,E2=v1,T2=zg,x2=w1,b2=nf,I2=E1,S2=x1,A2=I1,C2=A1,R2=C1,P2=R1,k2=k1,N2=D1,rf="DropdownMenu",[D2]=ou(rf,[f1]),Mn=f1(),[M2,O1]=D2(rf),V1=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:c,modal:d=!0}=t,f=Mn(e),p=C.useRef(null),[y,g]=yT({prop:i,defaultProp:a??!1,onChange:c,caller:rf});return _.jsx(M2,{scope:e,triggerId:zm(),triggerRef:p,contentId:zm(),open:y,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(T=>!T),[g]),modal:d,children:_.jsx(v2,{...f,open:y,onOpenChange:g,dir:r,modal:d,children:n})})};V1.displayName=rf;var L1="DropdownMenuTrigger",j1=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=O1(L1,n),c=Mn(n);return _.jsx(w2,{asChild:!0,...c,children:_.jsx(In.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Qh(e,a.triggerRef),onPointerDown:Ye(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:Ye(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});j1.displayName=L1;var O2="DropdownMenuPortal",F1=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Mn(e);return _.jsx(_2,{...r,...n})};F1.displayName=O2;var U1="DropdownMenuContent",B1=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=O1(U1,n),a=Mn(n),c=C.useRef(!1);return _.jsx(E2,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ye(t.onCloseAutoFocus,d=>{c.current||i.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ye(t.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,y=f.button===2||p;(!i.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B1.displayName=U1;var V2="DropdownMenuGroup",L2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(T2,{...i,...r,ref:e})});L2.displayName=V2;var j2="DropdownMenuLabel",z1=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(x2,{...i,...r,ref:e})});z1.displayName=j2;var F2="DropdownMenuItem",$1=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(b2,{...i,...r,ref:e})});$1.displayName=F2;var U2="DropdownMenuCheckboxItem",B2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(I2,{...i,...r,ref:e})});B2.displayName=U2;var z2="DropdownMenuRadioGroup",$2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(S2,{...i,...r,ref:e})});$2.displayName=z2;var q2="DropdownMenuRadioItem",H2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(A2,{...i,...r,ref:e})});H2.displayName=q2;var W2="DropdownMenuItemIndicator",G2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(C2,{...i,...r,ref:e})});G2.displayName=W2;var K2="DropdownMenuSeparator",q1=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(R2,{...i,...r,ref:e})});q1.displayName=K2;var Q2="DropdownMenuArrow",Y2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(P2,{...i,...r,ref:e})});Y2.displayName=Q2;var X2="DropdownMenuSubTrigger",J2=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(k2,{...i,...r,ref:e})});J2.displayName=X2;var Z2="DropdownMenuSubContent",eN=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return _.jsx(N2,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=Z2;var tN=V1,nN=j1,rN=F1,sN=B1,iN=z1,oN=$1,aN=q1;function H1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=H1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function W1(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=H1(t))&&(r&&(r+=" "),r+=e);return r}const Hg="-",lN=t=>{const e=uN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(Hg);return d[0]===""&&d.length!==1&&d.shift(),G1(d,e)||cN(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&r[c]?[...f,...r[c]]:f}}},G1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?G1(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Hg);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Q_=/^\[(.+)\]$/,cN=t=>{if(Q_.test(t)){const e=Q_.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uN=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Qm(n[i],r,i,e);return r},Qm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Y_(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(dN(i)){Qm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,c])=>{Qm(c,Y_(e,a),n,r)})})},Y_=(t,e)=>{let n=t;return e.split(Hg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dN=t=>t.isThemeGetter,hN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return i(a,c),c},set(a,c){n.has(a)?n.set(a,c):i(a,c)}}},Ym="!",Xm=":",fN=Xm.length,pN=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let c=0,d=0,f=0,p;for(let R=0;R<i.length;R++){let P=i[R];if(c===0&&d===0){if(P===Xm){a.push(i.slice(f,R)),f=R+fN;continue}if(P==="/"){p=R;continue}}P==="["?c++:P==="]"?c--:P==="("?d++:P===")"&&d--}const y=a.length===0?i:i.substring(f),g=mN(y),T=g!==y,I=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:g,maybePostfixModifierPosition:I}};if(e){const i=e+Xm,a=r;r=c=>c.startsWith(i)?a(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},mN=t=>t.endsWith(Ym)?t.substring(0,t.length-1):t.startsWith(Ym)?t.substring(1):t,gN=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(c=>{c[0]==="["||e[c]?(i.push(...a.sort(),c),a=[]):a.push(c)}),i.push(...a.sort()),i}},yN=t=>({cache:hN(t.cacheSize),parseClassName:pN(t),sortModifiers:gN(t),...lN(t)}),vN=/\s+/,wN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,c=[],d=t.trim().split(vN);let f="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:g,modifiers:T,hasImportantModifier:I,baseClassName:R,maybePostfixModifierPosition:P}=n(y);if(g){f=y+(f.length>0?" "+f:f);continue}let O=!!P,B=r(O?R.substring(0,P):R);if(!B){if(!O){f=y+(f.length>0?" "+f:f);continue}if(B=r(R),!B){f=y+(f.length>0?" "+f:f);continue}O=!1}const J=a(T).join(":"),H=I?J+Ym:J,X=H+B;if(c.includes(X))continue;c.push(X);const re=i(B,O);for(let Y=0;Y<re.length;++Y){const A=re[Y];c.push(H+A)}f=y+(f.length>0?" "+f:f)}return f};function _N(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=K1(e))&&(r&&(r+=" "),r+=n);return r}const K1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=K1(t[r]))&&(n&&(n+=" "),n+=e);return n};function EN(t,...e){let n,r,i,a=c;function c(f){const p=e.reduce((y,g)=>g(y),t());return n=yN(p),r=n.cache.get,i=n.cache.set,a=d,d(f)}function d(f){const p=r(f);if(p)return p;const y=wN(f,n);return i(f,y),y}return function(){return a(_N.apply(null,arguments))}}const Ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TN=/^\d+\/\d+$/,xN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,SN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=t=>TN.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Ui=t=>!!t&&Number.isInteger(Number(t)),wm=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Gs=t=>xN.test(t),CN=()=>!0,RN=t=>bN.test(t)&&!IN.test(t),X1=()=>!1,PN=t=>SN.test(t),kN=t=>AN.test(t),NN=t=>!Se(t)&&!Ae(t),DN=t=>Sl(t,ex,X1),Se=t=>Q1.test(t),Wo=t=>Sl(t,tx,RN),_m=t=>Sl(t,jN,ze),X_=t=>Sl(t,J1,X1),MN=t=>Sl(t,Z1,kN),zd=t=>Sl(t,nx,PN),Ae=t=>Y1.test(t),Ic=t=>Al(t,tx),ON=t=>Al(t,FN),J_=t=>Al(t,J1),VN=t=>Al(t,ex),LN=t=>Al(t,Z1),$d=t=>Al(t,nx,!0),Sl=(t,e,n)=>{const r=Q1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Al=(t,e,n=!1)=>{const r=Y1.exec(t);return r?r[1]?e(r[1]):n:!1},J1=t=>t==="position"||t==="percentage",Z1=t=>t==="image"||t==="url",ex=t=>t==="length"||t==="size"||t==="bg-size",tx=t=>t==="length",jN=t=>t==="number",FN=t=>t==="family-name",nx=t=>t==="shadow",UN=()=>{const t=Ht("color"),e=Ht("font"),n=Ht("text"),r=Ht("font-weight"),i=Ht("tracking"),a=Ht("leading"),c=Ht("breakpoint"),d=Ht("container"),f=Ht("spacing"),p=Ht("radius"),y=Ht("shadow"),g=Ht("inset-shadow"),T=Ht("text-shadow"),I=Ht("drop-shadow"),R=Ht("blur"),P=Ht("perspective"),O=Ht("aspect"),B=Ht("ease"),J=Ht("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...X(),Ae,Se],Y=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],b=()=>[Ae,Se,f],M=()=>[tl,"full","auto",...b()],k=()=>[Ui,"none","subgrid",Ae,Se],N=()=>["auto",{span:["full",Ui,Ae,Se]},Ui,Ae,Se],j=()=>[Ui,"auto",Ae,Se],D=()=>["auto","min","max","fr",Ae,Se],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...b()],we=()=>[tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],$=()=>[t,Ae,Se],te=()=>[...X(),J_,X_,{position:[Ae,Se]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",VN,DN,{size:[Ae,Se]}],F=()=>[wm,Ic,Wo],q=()=>["","none","full",p,Ae,Se],K=()=>["",ze,Ic,Wo],ae=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[ze,wm,J_,X_],me=()=>["","none",R,Ae,Se],xe=()=>["none",ze,Ae,Se],it=()=>["none",ze,Ae,Se],tn=()=>[ze,Ae,Se],Bt=()=>[tl,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[CN],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[NN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",ze],text:[Gs],"text-shadow":[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tl,Se,Ae,O]}],container:["container"],columns:[{columns:[ze,Se,Ae,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ui,"auto",Ae,Se]}],basis:[{basis:[tl,"full","auto",d,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,tl,"auto","initial","none",Se]}],grow:[{grow:["",ze,Ae,Se]}],shrink:[{shrink:["",ze,Ae,Se]}],order:[{order:[Ui,"first","last","none",Ae,Se]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:we()}],w:[{w:[d,"screen",...we()]}],"min-w":[{"min-w":[d,"screen","none",...we()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...we()]}],h:[{h:["screen","lh",...we()]}],"min-h":[{"min-h":["screen","lh","none",...we()]}],"max-h":[{"max-h":["screen","lh",...we()]}],"font-size":[{text:["base",n,Ic,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,_m]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wm,Se]}],"font-family":[{font:[ON,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,Se]}],"line-clamp":[{"line-clamp":[ze,"none",Ae,_m]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Ae,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",Ae,Wo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ze,"auto",Ae,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ui,Ae,Se],radial:["",Ae,Se],conic:[Ui,Ae,Se]},LN,MN]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,Ae,Se]}],"outline-w":[{outline:["",ze,Ic,Wo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,$d,zd]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,$d,zd]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ze,Wo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",T,$d,zd]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ze,Ae,Se]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ae,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":X()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Se]}],filter:[{filter:["","none",Ae,Se]}],blur:[{blur:me()}],brightness:[{brightness:[ze,Ae,Se]}],contrast:[{contrast:[ze,Ae,Se]}],"drop-shadow":[{"drop-shadow":["","none",I,$d,zd]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ze,Ae,Se]}],"hue-rotate":[{"hue-rotate":[ze,Ae,Se]}],invert:[{invert:["",ze,Ae,Se]}],saturate:[{saturate:[ze,Ae,Se]}],sepia:[{sepia:["",ze,Ae,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Se]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[ze,Ae,Se]}],"backdrop-contrast":[{"backdrop-contrast":[ze,Ae,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,Ae,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,Ae,Se]}],"backdrop-invert":[{"backdrop-invert":["",ze,Ae,Se]}],"backdrop-opacity":[{"backdrop-opacity":[ze,Ae,Se]}],"backdrop-saturate":[{"backdrop-saturate":[ze,Ae,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,Ae,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",Ae,Se]}],ease:[{ease:["linear","initial",B,Ae,Se]}],delay:[{delay:[ze,Ae,Se]}],animate:[{animate:["none",J,Ae,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Ae,Se]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:tn()}],"skew-x":[{"skew-x":tn()}],"skew-y":[{"skew-y":tn()}],transform:[{transform:[Ae,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bt()}],"translate-x":[{"translate-x":Bt()}],"translate-y":[{"translate-y":Bt()}],"translate-z":[{"translate-z":Bt()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Se]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ze,Ic,Wo,_m]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},BN=EN(UN);function ci(...t){return BN(W1(t))}function rx({...t}){return _.jsx(tN,{"data-slot":"dropdown-menu",...t})}function sx({...t}){return _.jsx(nN,{"data-slot":"dropdown-menu-trigger",...t})}function ix({className:t,sideOffset:e=4,...n}){return _.jsx(rN,{children:_.jsx(sN,{"data-slot":"dropdown-menu-content",sideOffset:e,className:ci("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function dl({className:t,inset:e,variant:n="default",...r}){return _.jsx(oN,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:ci("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function ox({className:t,inset:e,...n}){return _.jsx(iN,{"data-slot":"dropdown-menu-label","data-inset":e,className:ci("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function _h({className:t,...e}){return _.jsx(aN,{"data-slot":"dropdown-menu-separator",className:ci("bg-border -mx-1 my-1 h-px",t),...e})}function zN(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const $N=t=>{switch(t){case"success":return WN;case"info":return KN;case"warning":return GN;case"error":return QN;default:return null}},qN=Array(12).fill(0),HN=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},qN.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),WN=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GN=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KN=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QN=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YN=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XN=()=>{const[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Jm=1,JN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Jm++,c=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const d=i.then(async p=>{if(c=["resolve",p],fe.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(eD(p)&&!p.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,T=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,R=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...R})}else if(p instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(p):n.error,T=typeof n.description=="function"?await n.description(p):n.description,R=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...R})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(p):n.success,T=typeof n.description=="function"?await n.description(p):n.description,R=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:T,...R})}}).catch(async p=>{if(c=["reject",p],n.error!==void 0){a=!1;const y=typeof n.error=="function"?await n.error(p):n.error,g=typeof n.description=="function"?await n.description(p):n.description,I=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...I})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((p,y)=>d.then(()=>c[0]==="reject"?y(c[1]):p(c[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=n?.id||Jm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const $n=new JN,ZN=(t,e)=>{const n=e?.id||Jm++;return $n.addToast({title:t,...e,id:n}),n},eD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tD=ZN,nD=()=>$n.toasts,rD=()=>$n.getActiveToasts(),ye=Object.assign(tD,{success:$n.success,info:$n.info,warning:$n.warning,error:$n.error,custom:$n.custom,message:$n.message,promise:$n.promise,dismiss:$n.dismiss,loading:$n.loading},{getHistory:nD,getToasts:rD});zN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qd(t){return t.label!==void 0}const sD=3,iD="24px",oD="16px",Z_=4e3,aD=356,lD=14,cD=45,uD=200;function gs(...t){return t.filter(Boolean).join(" ")}function dD(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const hD=t=>{var e,n,r,i,a,c,d,f,p;const{invert:y,toast:g,unstyled:T,interacting:I,setHeights:R,visibleToasts:P,heights:O,index:B,toasts:J,expanded:H,removeToast:X,defaultRichColors:re,closeButton:Y,style:A,cancelButtonStyle:b,actionButtonStyle:M,className:k="",descriptionClassName:N="",duration:j,position:D,gap:be,expandByDefault:Oe,classNames:pe,icons:we,closeButtonAriaLabel:$="Close toast"}=t,[te,oe]=fe.useState(null),[V,F]=fe.useState(null),[q,K]=fe.useState(!1),[ae,ue]=fe.useState(!1),[le,me]=fe.useState(!1),[xe,it]=fe.useState(!1),[tn,Bt]=fe.useState(!1),[Sn,Yr]=fe.useState(0),[ga,ks]=fe.useState(0),Kn=fe.useRef(g.duration||j||Z_),fi=fe.useRef(null),st=fe.useRef(null),wt=B===0,Qn=B+1<=P,zt=g.type,pr=g.dismissible!==!1,ya=g.className||"",Xr=g.descriptionClassName||"",Jr=fe.useMemo(()=>O.findIndex(Ve=>Ve.toastId===g.id)||0,[O,g.id]),pi=fe.useMemo(()=>{var Ve;return(Ve=g.closeButton)!=null?Ve:Y},[g.closeButton,Y]),Cr=fe.useMemo(()=>g.duration||j||Z_,[g.duration,j]),mi=fe.useRef(0),On=fe.useRef(0),Rr=fe.useRef(0),Pr=fe.useRef(null),[Zr,gi]=D.split("-"),yi=fe.useMemo(()=>O.reduce((Ve,ct,Rt)=>Rt>=Jr?Ve:Ve+ct.height,0),[O,Jr]),Vn=XN(),vi=g.invert||y,mr=zt==="loading";On.current=fe.useMemo(()=>Jr*be+yi,[Jr,yi]),fe.useEffect(()=>{Kn.current=Cr},[Cr]),fe.useEffect(()=>{K(!0)},[]),fe.useEffect(()=>{const Ve=st.current;if(Ve){const ct=Ve.getBoundingClientRect().height;return ks(ct),R(Rt=>[{toastId:g.id,height:ct,position:g.position},...Rt]),()=>R(Rt=>Rt.filter(Kt=>Kt.toastId!==g.id))}},[R,g.id]),fe.useLayoutEffect(()=>{if(!q)return;const Ve=st.current,ct=Ve.style.height;Ve.style.height="auto";const Rt=Ve.getBoundingClientRect().height;Ve.style.height=ct,ks(Rt),R(Kt=>Kt.find(St=>St.toastId===g.id)?Kt.map(St=>St.toastId===g.id?{...St,height:Rt}:St):[{toastId:g.id,height:Rt,position:g.position},...Kt])},[q,g.title,g.description,R,g.id,g.jsx,g.action,g.cancel]);const An=fe.useCallback(()=>{ue(!0),Yr(On.current),R(Ve=>Ve.filter(ct=>ct.toastId!==g.id)),setTimeout(()=>{X(g)},uD)},[g,X,R,On]);fe.useEffect(()=>{if(g.promise&&zt==="loading"||g.duration===1/0||g.type==="loading")return;let Ve;return H||I||Vn?(()=>{if(Rr.current<mi.current){const Kt=new Date().getTime()-mi.current;Kn.current=Kn.current-Kt}Rr.current=new Date().getTime()})():(()=>{Kn.current!==1/0&&(mi.current=new Date().getTime(),Ve=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),An()},Kn.current))})(),()=>clearTimeout(Ve)},[H,I,g,zt,Vn,An]),fe.useEffect(()=>{g.delete&&(An(),g.onDismiss==null||g.onDismiss.call(g,g))},[An,g.delete]);function kr(){var Ve;if(we?.loading){var ct;return fe.createElement("div",{className:gs(pe?.loader,g==null||(ct=g.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":zt==="loading"},we.loading)}return fe.createElement(HN,{className:gs(pe?.loader,g==null||(Ve=g.classNames)==null?void 0:Ve.loader),visible:zt==="loading"})}const Nr=g.icon||we?.[zt]||$N(zt);var ft,wi;return fe.createElement("li",{tabIndex:0,ref:st,className:gs(k,ya,pe?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,pe?.default,pe?.[zt],g==null||(n=g.classNames)==null?void 0:n[zt]),"data-sonner-toast":"","data-rich-colors":(ft=g.richColors)!=null?ft:re,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":q,"data-promise":!!g.promise,"data-swiped":tn,"data-removed":ae,"data-visible":Qn,"data-y-position":Zr,"data-x-position":gi,"data-index":B,"data-front":wt,"data-swiping":le,"data-dismissible":pr,"data-type":zt,"data-invert":vi,"data-swipe-out":xe,"data-swipe-direction":V,"data-expanded":!!(H||Oe&&q),"data-testid":g.testId,style:{"--index":B,"--toasts-before":B,"--z-index":J.length-B,"--offset":`${ae?Sn:On.current}px`,"--initial-height":Oe?"auto":`${ga}px`,...A,...g.style},onDragEnd:()=>{me(!1),oe(null),Pr.current=null},onPointerDown:Ve=>{Ve.button!==2&&(mr||!pr||(fi.current=new Date,Yr(On.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(me(!0),Pr.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,ct,Rt;if(xe||!pr)return;Pr.current=null;const Kt=Number(((Ve=st.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cn=Number(((ct=st.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((Rt=fi.current)==null?void 0:Rt.getTime()),Dt=te==="x"?Kt:Cn,Yn=Math.abs(Dt)/St;if(Math.abs(Dt)>=cD||Yn>.11){Yr(On.current),g.onDismiss==null||g.onDismiss.call(g,g),F(te==="x"?Kt>0?"right":"left":Cn>0?"down":"up"),An(),it(!0);return}else{var Mt,pn;(Mt=st.current)==null||Mt.style.setProperty("--swipe-amount-x","0px"),(pn=st.current)==null||pn.style.setProperty("--swipe-amount-y","0px")}Bt(!1),me(!1),oe(null)},onPointerMove:Ve=>{var ct,Rt,Kt;if(!Pr.current||!pr||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const St=Ve.clientY-Pr.current.y,Dt=Ve.clientX-Pr.current.x;var Yn;const Mt=(Yn=t.swipeDirections)!=null?Yn:dD(D);!te&&(Math.abs(Dt)>1||Math.abs(St)>1)&&oe(Math.abs(Dt)>Math.abs(St)?"x":"y");let pn={x:0,y:0};const gr=Qt=>1/(1.5+Math.abs(Qt)/20);if(te==="y"){if(Mt.includes("top")||Mt.includes("bottom"))if(Mt.includes("top")&&St<0||Mt.includes("bottom")&&St>0)pn.y=St;else{const Qt=St*gr(St);pn.y=Math.abs(Qt)<Math.abs(St)?Qt:St}}else if(te==="x"&&(Mt.includes("left")||Mt.includes("right")))if(Mt.includes("left")&&Dt<0||Mt.includes("right")&&Dt>0)pn.x=Dt;else{const Qt=Dt*gr(Dt);pn.x=Math.abs(Qt)<Math.abs(Dt)?Qt:Dt}(Math.abs(pn.x)>0||Math.abs(pn.y)>0)&&Bt(!0),(Rt=st.current)==null||Rt.style.setProperty("--swipe-amount-x",`${pn.x}px`),(Kt=st.current)==null||Kt.style.setProperty("--swipe-amount-y",`${pn.y}px`)}},pi&&!g.jsx&&zt!=="loading"?fe.createElement("button",{"aria-label":$,"data-disabled":mr,"data-close-button":!0,onClick:mr||!pr?()=>{}:()=>{An(),g.onDismiss==null||g.onDismiss.call(g,g)},className:gs(pe?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(wi=we?.close)!=null?wi:YN):null,(zt||g.icon||g.promise)&&g.icon!==null&&(we?.[zt]!==null||g.icon)?fe.createElement("div",{"data-icon":"",className:gs(pe?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||kr():null,g.type!=="loading"?Nr:null):null,fe.createElement("div",{"data-content":"",className:gs(pe?.content,g==null||(a=g.classNames)==null?void 0:a.content)},fe.createElement("div",{"data-title":"",className:gs(pe?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?fe.createElement("div",{"data-description":"",className:gs(N,Xr,pe?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),fe.isValidElement(g.cancel)?g.cancel:g.cancel&&qd(g.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||b,onClick:Ve=>{qd(g.cancel)&&pr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ve),An())},className:gs(pe?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,fe.isValidElement(g.action)?g.action:g.action&&qd(g.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||M,onClick:Ve=>{qd(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ve),!Ve.defaultPrevented&&An())},className:gs(pe?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function e0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function fD(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",d=a?oD:iD;function f(p){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${c}-${p}`]=d:n[`${c}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(d)}),n}const pD=fe.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:y,mobileOffset:g,theme:T="light",richColors:I,duration:R,style:P,visibleToasts:O=sD,toastOptions:B,dir:J=e0(),gap:H=lD,icons:X,containerAriaLabel:re="Notifications"}=e,[Y,A]=fe.useState([]),b=fe.useMemo(()=>r?Y.filter(q=>q.toasterId===r):Y.filter(q=>!q.toasterId),[Y,r]),M=fe.useMemo(()=>Array.from(new Set([a].concat(b.filter(q=>q.position).map(q=>q.position)))),[b,a]),[k,N]=fe.useState([]),[j,D]=fe.useState(!1),[be,Oe]=fe.useState(!1),[pe,we]=fe.useState(T!=="system"?T:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=fe.useRef(null),te=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=fe.useRef(null),V=fe.useRef(!1),F=fe.useCallback(q=>{A(K=>{var ae;return(ae=K.find(ue=>ue.id===q.id))!=null&&ae.delete||$n.dismiss(q.id),K.filter(({id:ue})=>ue!==q.id)})},[]);return fe.useEffect(()=>$n.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{A(K=>K.map(ae=>ae.id===q.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{vT.flushSync(()=>{A(K=>{const ae=K.findIndex(ue=>ue.id===q.id);return ae!==-1?[...K.slice(0,ae),{...K[ae],...q},...K.slice(ae+1)]:[q,...K]})})})}),[Y]),fe.useEffect(()=>{if(T!=="system"){we(T);return}if(T==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?we("dark"):we("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:K})=>{we(K?"dark":"light")})}catch{q.addListener(({matches:ae})=>{try{we(ae?"dark":"light")}catch(ue){console.error(ue)}})}},[T]),fe.useEffect(()=>{Y.length<=1&&D(!1)},[Y]),fe.useEffect(()=>{const q=K=>{var ae;if(c.every(me=>K[me]||K.code===me)){var le;D(!0),(le=$.current)==null||le.focus()}K.code==="Escape"&&(document.activeElement===$.current||(ae=$.current)!=null&&ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[c]),fe.useEffect(()=>{if($.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,V.current=!1)}},[$.current]),fe.createElement("section",{ref:n,"aria-label":`${re} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((q,K)=>{var ae;const[ue,le]=q.split("-");return b.length?fe.createElement("ol",{key:q,dir:J==="auto"?e0():J,tabIndex:-1,ref:$,className:p,"data-sonner-toaster":!0,"data-sonner-theme":pe,"data-y-position":ue,"data-x-position":le,style:{"--front-toast-height":`${((ae=k[0])==null?void 0:ae.height)||0}px`,"--width":`${aD}px`,"--gap":`${H}px`,...P,...fD(y,g)},onBlur:me=>{V.current&&!me.currentTarget.contains(me.relatedTarget)&&(V.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||V.current||(V.current=!0,oe.current=me.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{be||D(!1)},onDragEnd:()=>D(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},b.filter(me=>!me.position&&K===0||me.position===q).map((me,xe)=>{var it,tn;return fe.createElement(hD,{key:me.id,icons:X,index:xe,toast:me,defaultRichColors:I,duration:(it=B?.duration)!=null?it:R,className:B?.className,descriptionClassName:B?.descriptionClassName,invert:i,visibleToasts:O,closeButton:(tn=B?.closeButton)!=null?tn:f,interacting:be,position:q,style:B?.style,unstyled:B?.unstyled,classNames:B?.classNames,cancelButtonStyle:B?.cancelButtonStyle,actionButtonStyle:B?.actionButtonStyle,closeButtonAriaLabel:B?.closeButtonAriaLabel,removeToast:F,toasts:b.filter(Bt=>Bt.position==me.position),heights:k.filter(Bt=>Bt.position==me.position),setHeights:N,expandByDefault:d,gap:H,expanded:j,swipeDirections:e.swipeDirections})})):null}))});function mD({darkMode:t,toggleDarkMode:e}){const[n]=C.useState(3),[r]=C.useState("Fanático Cangrejero"),i=()=>{ye.info("Próximamente: Editar Perfil")},a=()=>{ye.info("Próximamente: Configuración")},c=()=>{ye.success("Sesión cerrada exitosamente")};return _.jsxs("header",{className:"relative overflow-hidden rounded-b-3xl shadow-lg animate-slide-in-top",style:{background:"linear-gradient(135deg, #0C2340 0%, #1e3a5f 50%, #0C2340 100%)",boxShadow:"0 8px 32px rgba(12, 35, 64, 0.3)"},children:[_.jsxs("div",{className:"px-5 py-6 relative z-10",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"glass-button w-12 h-12 rounded-full bg-white/10 flex items-center justify-center border border-white/20 hover:bg-white/20",children:_.jsx(pT,{size:24,className:"text-[#C8A963]"})}),_.jsx("button",{onClick:e,className:"glass-button w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/20 hover:bg-white/20 group","aria-label":"Toggle theme",children:t?_.jsx(mT,{className:"w-5 h-5 text-[#C8A963] transition-transform duration-300 group-hover:rotate-180"}):_.jsx(hT,{className:"w-5 h-5 text-white transition-transform duration-300 group-hover:-rotate-12"})})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("button",{className:"glass-button relative w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/20 hover:bg-white/20 group",children:[_.jsx(Ag,{className:"w-5 h-5 text-white transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),n>0&&_.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#E01E37] rounded-full flex items-center justify-center text-[10px] text-white animate-pulse-glow border-2 border-[#0C2340] shadow-lg",children:n})]}),_.jsxs(rx,{children:[_.jsx(sx,{asChild:!0,children:_.jsxs("button",{className:"glass-button flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/10 border border-white/20 hover:bg-white/20 group transition-all duration-300",children:[_.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-[#C8A963] to-[#E01E37] flex items-center justify-center border-2 border-white/30 shadow-md",children:_.jsx(eh,{className:"w-4 h-4 text-white"})}),_.jsx(aT,{className:"w-4 h-4 text-white/80 transition-transform duration-300 group-hover:translate-y-0.5"})]})}),_.jsxs(ix,{align:"end",className:"w-56 mt-2 animate-scale-in",style:{background:t?"rgba(30, 41, 59, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:t?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:t?"0 12px 48px rgba(0, 0, 0, 0.6)":"0 12px 48px rgba(0, 0, 0, 0.15)"},children:[_.jsx(ox,{className:"flex flex-col gap-1 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#C8A963] to-[#E01E37] flex items-center justify-center",children:_.jsx(eh,{className:"w-4 h-4 text-white"})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-sm",children:r}),_.jsx("span",{className:"text-xs opacity-60",children:"Fanático Oficial"})]})]})}),_.jsx(_h,{}),_.jsxs(dl,{onClick:i,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#C8A963]/10",children:[_.jsx(eh,{className:"w-4 h-4 mr-2 text-[#C8A963]"}),_.jsx("span",{children:"Editar Perfil"})]}),_.jsxs(dl,{onClick:a,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#0C2340]/10",children:[_.jsx(Gh,{className:"w-4 h-4 mr-2 text-[#0C2340] dark:text-[#C8A963]"}),_.jsx("span",{children:"Configuración"})]}),_.jsx(_h,{}),_.jsxs(dl,{onClick:c,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#E01E37]/10 text-[#E01E37]",children:[_.jsx(uT,{className:"w-4 h-4 mr-2"}),_.jsx("span",{children:"Cerrar Sesión"})]})]})]})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("h1",{className:"text-white",children:"Cangrejeras de Santurce"}),_.jsx("p",{className:"text-[#C8A963] text-sm font-medium",children:"Liga de Voleibol Superior Femenino"})]})]}),_.jsx("div",{className:"animate-float absolute top-0 right-0 w-32 h-32 bg-[#C8A963]/10 rounded-full blur-3xl",style:{animationDelay:"0.5s"}}),_.jsx("div",{className:"animate-float absolute bottom-0 left-0 w-24 h-24 bg-[#E01E37]/10 rounded-full blur-2xl",style:{animationDelay:"1.5s"}})]})}const gD=()=>{};var t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,y=a>>2,g=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,I=p&63;f||(I=64,c||(T=64)),r.push(n[y],n[g],n[T],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ax(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||p==null||g==null)throw new vD;const T=a<<2|d>>4;if(r.push(T),p!==64){const I=d<<4&240|p>>2;if(r.push(I),g!==64){const R=p<<6&192|g;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wD=function(t){const e=ax(t);return lx.encodeByteArray(e,!0)},Eh=function(t){return wD(t).replace(/\./g,"")},cx=function(t){try{return lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=()=>_D().__FIREBASE_DEFAULTS__,TD=()=>{if(typeof process>"u"||typeof t0>"u")return;const t=t0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cx(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return gD()||ED()||TD()||xD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ux=t=>sf()?.emulatorHosts?.[t],dx=t=>{const e=ux(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hx=()=>sf()?.config,fx=t=>sf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(c)),""].join(".")}const Oc={};function ID(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function SD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let n0=!1;function Gg(t,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Oc[t]===e||Oc[t]||n0)return;Oc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=ID().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{n0=!0,c()},T}function y(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function g(){const T=SD(r),I=n("text"),R=document.getElementById(I)||document.createElement("span"),P=n("learnmore"),O=document.getElementById(P)||document.createElement("a"),B=n("preprendIcon"),J=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),y(O,P);const X=p();f(J,B),H.append(J,R,O,X),document.body.appendChild(H)}a?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function CD(){const t=sf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kD(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ND(){return!CD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gx(){try{return typeof indexedDB=="object"}catch{return!1}}function yx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function DD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MD,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?OD(a,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Ar(i,d,r)}}function OD(t,e){return t.replace(VD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VD=/\{\$([^}]+)}/g;function LD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(r0(a)&&r0(c)){if(!oo(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jD(t,e){const n=new FD(t,e);return n.subscribe.bind(n)}class FD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Em),i.error===void 0&&(i.error=Em),i.complete===void 0&&(i.complete=Em);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1e3,zD=2,$D=14400*1e3,qD=.5;function s0(t,e=BD,n=zD){const r=e*Math.pow(n,t),i=Math.round(qD*r*(Math.random()-.5)*2);return Math.min($D,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GD(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WD(t){return t===Go?void 0:t}function GD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const QD={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},YD=qe.INFO,XD={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},JD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=YD,this._logHandler=JD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const ZD=(t,e)=>e.some(n=>t instanceof n);let i0,o0;function eM(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tM(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vx=new WeakMap,Zm=new WeakMap,wx=new WeakMap,Tm=new WeakMap,Kg=new WeakMap;function nM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Ji(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vx.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function rM(t){if(Zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Zm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sM(t){eg=t(eg)}function iM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xm(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),Ji(r)}:tM().includes(t)?function(...e){return t.apply(xm(this),e),Ji(vx.get(this))}:function(...e){return Ji(t.apply(xm(this),e))}}function oM(t){return typeof t=="function"?iM(t):(t instanceof IDBTransaction&&rM(t),ZD(t,eM())?new Proxy(t,eg):t)}function Ji(t){if(t instanceof IDBRequest)return nM(t);if(Tm.has(t))return Tm.get(t);const e=oM(t);return e!==t&&(Tm.set(t,e),Kg.set(e,t)),e}const xm=t=>Kg.get(t);function _x(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),d=Ji(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ji(c.result),f.oldVersion,f.newVersion,Ji(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const aM=["get","getKey","getAll","getAllKeys","count"],lM=["put","add","delete","clear"],bm=new Map;function a0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aM.includes(n)))return;const a=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return bm.set(e,a),a}sM(t=>({...t,get:(e,n,r)=>a0(e,n)||t.get(e,n,r),has:(e,n)=>!!a0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uM(t){return t.getComponent()?.type==="VERSION"}const tg="@firebase/app",l0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new of("@firebase/app"),dM="@firebase/app-compat",hM="@firebase/analytics-compat",fM="@firebase/analytics",pM="@firebase/app-check-compat",mM="@firebase/app-check",gM="@firebase/auth",yM="@firebase/auth-compat",vM="@firebase/database",wM="@firebase/data-connect",_M="@firebase/database-compat",EM="@firebase/functions",TM="@firebase/functions-compat",xM="@firebase/installations",bM="@firebase/installations-compat",IM="@firebase/messaging",SM="@firebase/messaging-compat",AM="@firebase/performance",CM="@firebase/performance-compat",RM="@firebase/remote-config",PM="@firebase/remote-config-compat",kM="@firebase/storage",NM="@firebase/storage-compat",DM="@firebase/firestore",MM="@firebase/ai",OM="@firebase/firestore-compat",VM="firebase",LM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",jM={[tg]:"fire-core",[dM]:"fire-core-compat",[fM]:"fire-analytics",[hM]:"fire-analytics-compat",[mM]:"fire-app-check",[pM]:"fire-app-check-compat",[gM]:"fire-auth",[yM]:"fire-auth-compat",[vM]:"fire-rtdb",[wM]:"fire-data-connect",[_M]:"fire-rtdb-compat",[EM]:"fire-fn",[TM]:"fire-fn-compat",[xM]:"fire-iid",[bM]:"fire-iid-compat",[IM]:"fire-fcm",[SM]:"fire-fcm-compat",[AM]:"fire-perf",[CM]:"fire-perf-compat",[RM]:"fire-rc",[PM]:"fire-rc-compat",[kM]:"fire-gcs",[NM]:"fire-gcs-compat",[DM]:"fire-fst",[OM]:"fire-fst-compat",[MM]:"fire-vertex","fire-js":"fire-js",[VM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,FM=new Map,rg=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(rg.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of Th.values())c0(n,t);for(const n of FM.values())c0(n,t);return!0}function yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ua("app","Firebase",UM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=LM;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ng,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=hx()),!n)throw Zi.create("no-options");const a=Th.get(i);if(a){if(oo(n,a.options)&&oo(r,a.config))return a;throw Zi.create("duplicate-app",{appName:i})}const c=new KD(i);for(const f of rg.values())c.addComponent(f);const d=new BM(n,r,c);return Th.set(i,d),d}function af(t=ng){const e=Th.get(t);if(!e&&t===ng&&hx())return Ex();if(!e)throw Zi.create("no-app",{appName:t});return e}function Wn(t,e,n){let r=jM[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(c.join(" "));return}Hr(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="firebase-heartbeat-database",$M=1,Qc="firebase-heartbeat-store";let Im=null;function Tx(){return Im||(Im=_x(zM,$M,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Im}async function qM(t){try{const n=(await Tx()).transaction(Qc),r=await n.objectStore(Qc).get(xx(t));return await n.done,r}catch(e){if(e instanceof Ar)ii.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}}async function u0(t,e){try{const r=(await Tx()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,xx(t)),await r.done}catch(n){if(n instanceof Ar)ii.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1024,WM=30;class GM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>WM){const i=YM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d0(),{heartbeatsToSend:n,unsentEntries:r}=KM(this._heartbeatsCache.heartbeats),i=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ii.warn(e),""}}}function d0(){return new Date().toISOString().substring(0,10)}function KM(t,e=HM){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),h0(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gx()?yx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h0(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}function YM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){Hr(new Sr("platform-logger",e=>new cM(e),"PRIVATE")),Hr(new Sr("heartbeat",e=>new GM(e),"PRIVATE")),Wn(tg,l0,t),Wn(tg,l0,"esm2020"),Wn("fire-js","")}XM("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,bx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,b){function M(){}M.prototype=b.prototype,A.F=b.prototype,A.prototype=new M,A.prototype.constructor=A,A.D=function(k,N,j){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return b.prototype[N].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,b,M){M||(M=0);const k=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)k[N]=b.charCodeAt(M++)|b.charCodeAt(M++)<<8|b.charCodeAt(M++)<<16|b.charCodeAt(M++)<<24;else for(N=0;N<16;++N)k[N]=b[M++]|b[M++]<<8|b[M++]<<16|b[M++]<<24;b=A.g[0],M=A.g[1],N=A.g[2];let j=A.g[3],D;D=b+(j^M&(N^j))+k[0]+3614090360&4294967295,b=M+(D<<7&4294967295|D>>>25),D=j+(N^b&(M^N))+k[1]+3905402710&4294967295,j=b+(D<<12&4294967295|D>>>20),D=N+(M^j&(b^M))+k[2]+606105819&4294967295,N=j+(D<<17&4294967295|D>>>15),D=M+(b^N&(j^b))+k[3]+3250441966&4294967295,M=N+(D<<22&4294967295|D>>>10),D=b+(j^M&(N^j))+k[4]+4118548399&4294967295,b=M+(D<<7&4294967295|D>>>25),D=j+(N^b&(M^N))+k[5]+1200080426&4294967295,j=b+(D<<12&4294967295|D>>>20),D=N+(M^j&(b^M))+k[6]+2821735955&4294967295,N=j+(D<<17&4294967295|D>>>15),D=M+(b^N&(j^b))+k[7]+4249261313&4294967295,M=N+(D<<22&4294967295|D>>>10),D=b+(j^M&(N^j))+k[8]+1770035416&4294967295,b=M+(D<<7&4294967295|D>>>25),D=j+(N^b&(M^N))+k[9]+2336552879&4294967295,j=b+(D<<12&4294967295|D>>>20),D=N+(M^j&(b^M))+k[10]+4294925233&4294967295,N=j+(D<<17&4294967295|D>>>15),D=M+(b^N&(j^b))+k[11]+2304563134&4294967295,M=N+(D<<22&4294967295|D>>>10),D=b+(j^M&(N^j))+k[12]+1804603682&4294967295,b=M+(D<<7&4294967295|D>>>25),D=j+(N^b&(M^N))+k[13]+4254626195&4294967295,j=b+(D<<12&4294967295|D>>>20),D=N+(M^j&(b^M))+k[14]+2792965006&4294967295,N=j+(D<<17&4294967295|D>>>15),D=M+(b^N&(j^b))+k[15]+1236535329&4294967295,M=N+(D<<22&4294967295|D>>>10),D=b+(N^j&(M^N))+k[1]+4129170786&4294967295,b=M+(D<<5&4294967295|D>>>27),D=j+(M^N&(b^M))+k[6]+3225465664&4294967295,j=b+(D<<9&4294967295|D>>>23),D=N+(b^M&(j^b))+k[11]+643717713&4294967295,N=j+(D<<14&4294967295|D>>>18),D=M+(j^b&(N^j))+k[0]+3921069994&4294967295,M=N+(D<<20&4294967295|D>>>12),D=b+(N^j&(M^N))+k[5]+3593408605&4294967295,b=M+(D<<5&4294967295|D>>>27),D=j+(M^N&(b^M))+k[10]+38016083&4294967295,j=b+(D<<9&4294967295|D>>>23),D=N+(b^M&(j^b))+k[15]+3634488961&4294967295,N=j+(D<<14&4294967295|D>>>18),D=M+(j^b&(N^j))+k[4]+3889429448&4294967295,M=N+(D<<20&4294967295|D>>>12),D=b+(N^j&(M^N))+k[9]+568446438&4294967295,b=M+(D<<5&4294967295|D>>>27),D=j+(M^N&(b^M))+k[14]+3275163606&4294967295,j=b+(D<<9&4294967295|D>>>23),D=N+(b^M&(j^b))+k[3]+4107603335&4294967295,N=j+(D<<14&4294967295|D>>>18),D=M+(j^b&(N^j))+k[8]+1163531501&4294967295,M=N+(D<<20&4294967295|D>>>12),D=b+(N^j&(M^N))+k[13]+2850285829&4294967295,b=M+(D<<5&4294967295|D>>>27),D=j+(M^N&(b^M))+k[2]+4243563512&4294967295,j=b+(D<<9&4294967295|D>>>23),D=N+(b^M&(j^b))+k[7]+1735328473&4294967295,N=j+(D<<14&4294967295|D>>>18),D=M+(j^b&(N^j))+k[12]+2368359562&4294967295,M=N+(D<<20&4294967295|D>>>12),D=b+(M^N^j)+k[5]+4294588738&4294967295,b=M+(D<<4&4294967295|D>>>28),D=j+(b^M^N)+k[8]+2272392833&4294967295,j=b+(D<<11&4294967295|D>>>21),D=N+(j^b^M)+k[11]+1839030562&4294967295,N=j+(D<<16&4294967295|D>>>16),D=M+(N^j^b)+k[14]+4259657740&4294967295,M=N+(D<<23&4294967295|D>>>9),D=b+(M^N^j)+k[1]+2763975236&4294967295,b=M+(D<<4&4294967295|D>>>28),D=j+(b^M^N)+k[4]+1272893353&4294967295,j=b+(D<<11&4294967295|D>>>21),D=N+(j^b^M)+k[7]+4139469664&4294967295,N=j+(D<<16&4294967295|D>>>16),D=M+(N^j^b)+k[10]+3200236656&4294967295,M=N+(D<<23&4294967295|D>>>9),D=b+(M^N^j)+k[13]+681279174&4294967295,b=M+(D<<4&4294967295|D>>>28),D=j+(b^M^N)+k[0]+3936430074&4294967295,j=b+(D<<11&4294967295|D>>>21),D=N+(j^b^M)+k[3]+3572445317&4294967295,N=j+(D<<16&4294967295|D>>>16),D=M+(N^j^b)+k[6]+76029189&4294967295,M=N+(D<<23&4294967295|D>>>9),D=b+(M^N^j)+k[9]+3654602809&4294967295,b=M+(D<<4&4294967295|D>>>28),D=j+(b^M^N)+k[12]+3873151461&4294967295,j=b+(D<<11&4294967295|D>>>21),D=N+(j^b^M)+k[15]+530742520&4294967295,N=j+(D<<16&4294967295|D>>>16),D=M+(N^j^b)+k[2]+3299628645&4294967295,M=N+(D<<23&4294967295|D>>>9),D=b+(N^(M|~j))+k[0]+4096336452&4294967295,b=M+(D<<6&4294967295|D>>>26),D=j+(M^(b|~N))+k[7]+1126891415&4294967295,j=b+(D<<10&4294967295|D>>>22),D=N+(b^(j|~M))+k[14]+2878612391&4294967295,N=j+(D<<15&4294967295|D>>>17),D=M+(j^(N|~b))+k[5]+4237533241&4294967295,M=N+(D<<21&4294967295|D>>>11),D=b+(N^(M|~j))+k[12]+1700485571&4294967295,b=M+(D<<6&4294967295|D>>>26),D=j+(M^(b|~N))+k[3]+2399980690&4294967295,j=b+(D<<10&4294967295|D>>>22),D=N+(b^(j|~M))+k[10]+4293915773&4294967295,N=j+(D<<15&4294967295|D>>>17),D=M+(j^(N|~b))+k[1]+2240044497&4294967295,M=N+(D<<21&4294967295|D>>>11),D=b+(N^(M|~j))+k[8]+1873313359&4294967295,b=M+(D<<6&4294967295|D>>>26),D=j+(M^(b|~N))+k[15]+4264355552&4294967295,j=b+(D<<10&4294967295|D>>>22),D=N+(b^(j|~M))+k[6]+2734768916&4294967295,N=j+(D<<15&4294967295|D>>>17),D=M+(j^(N|~b))+k[13]+1309151649&4294967295,M=N+(D<<21&4294967295|D>>>11),D=b+(N^(M|~j))+k[4]+4149444226&4294967295,b=M+(D<<6&4294967295|D>>>26),D=j+(M^(b|~N))+k[11]+3174756917&4294967295,j=b+(D<<10&4294967295|D>>>22),D=N+(b^(j|~M))+k[2]+718787259&4294967295,N=j+(D<<15&4294967295|D>>>17),D=M+(j^(N|~b))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+j&4294967295}r.prototype.v=function(A,b){b===void 0&&(b=A.length);const M=b-this.blockSize,k=this.C;let N=this.h,j=0;for(;j<b;){if(N==0)for(;j<=M;)i(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<b;)if(k[N++]=A.charCodeAt(j++),N==this.blockSize){i(this,k),N=0;break}}else for(;j<b;)if(k[N++]=A[j++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;b=this.o*8;for(var M=A.length-8;M<A.length;++M)A[M]=b&255,b/=256;for(this.v(A),A=Array(16),b=0,M=0;M<4;++M)for(let k=0;k<32;k+=8)A[b++]=this.g[M]>>>k&255;return A};function a(A,b){var M=d;return Object.prototype.hasOwnProperty.call(M,A)?M[A]:M[A]=b(A)}function c(A,b){this.h=b;const M=[];let k=!0;for(let N=A.length-1;N>=0;N--){const j=A[N]|0;k&&j==b||(M[N]=j,k=!1)}this.g=M}var d={};function f(A){return-128<=A&&A<128?a(A,function(b){return new c([b|0],b<0?-1:0)}):new c([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return g;if(A<0)return O(p(-A));const b=[];let M=1;for(let k=0;A>=M;k++)b[k]=A/M|0,M*=4294967296;return new c(b,0)}function y(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return O(y(A.substring(1),b));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(b,8));let k=g;for(let j=0;j<A.length;j+=8){var N=Math.min(8,A.length-j);const D=parseInt(A.substring(j,j+N),b);N<8?(N=p(Math.pow(b,N)),k=k.j(N).add(p(D))):(k=k.j(M),k=k.add(p(D)))}return k}var g=f(0),T=f(1),I=f(16777216);t=c.prototype,t.m=function(){if(P(this))return-O(this).m();let A=0,b=1;for(let M=0;M<this.g.length;M++){const k=this.i(M);A+=(k>=0?k:4294967296+k)*b,b*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(P(this))return"-"+O(this).toString(A);const b=p(Math.pow(A,6));var M=this;let k="";for(;;){const N=X(M,b).g;M=B(M,N.j(b));let j=((M.g.length>0?M.g[0]:M.h)>>>0).toString(A);if(M=N,R(M))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(let b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function P(A){return A.h==-1}t.l=function(A){return A=B(this,A),P(A)?-1:R(A)?0:1};function O(A){const b=A.g.length,M=[];for(let k=0;k<b;k++)M[k]=~A.g[k];return new c(M,~A.h).add(T)}t.abs=function(){return P(this)?O(this):this},t.add=function(A){const b=Math.max(this.g.length,A.g.length),M=[];let k=0;for(let N=0;N<=b;N++){let j=k+(this.i(N)&65535)+(A.i(N)&65535),D=(j>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);k=D>>>16,j&=65535,D&=65535,M[N]=D<<16|j}return new c(M,M[M.length-1]&-2147483648?-1:0)};function B(A,b){return A.add(O(b))}t.j=function(A){if(R(this)||R(A))return g;if(P(this))return P(A)?O(this).j(O(A)):O(O(this).j(A));if(P(A))return O(this.j(O(A)));if(this.l(I)<0&&A.l(I)<0)return p(this.m()*A.m());const b=this.g.length+A.g.length,M=[];for(var k=0;k<2*b;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<A.g.length;N++){const j=this.i(k)>>>16,D=this.i(k)&65535,be=A.i(N)>>>16,Oe=A.i(N)&65535;M[2*k+2*N]+=D*Oe,J(M,2*k+2*N),M[2*k+2*N+1]+=j*Oe,J(M,2*k+2*N+1),M[2*k+2*N+1]+=D*be,J(M,2*k+2*N+1),M[2*k+2*N+2]+=j*be,J(M,2*k+2*N+2)}for(A=0;A<b;A++)M[A]=M[2*A+1]<<16|M[2*A];for(A=b;A<2*b;A++)M[A]=0;return new c(M,0)};function J(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function H(A,b){this.g=A,this.h=b}function X(A,b){if(R(b))throw Error("division by zero");if(R(A))return new H(g,g);if(P(A))return b=X(O(A),b),new H(O(b.g),O(b.h));if(P(b))return b=X(A,O(b)),new H(O(b.g),b.h);if(A.g.length>30){if(P(A)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var M=T,k=b;k.l(A)<=0;)M=re(M),k=re(k);var N=Y(M,1),j=Y(k,1);for(k=Y(k,2),M=Y(M,2);!R(k);){var D=j.add(k);D.l(A)<=0&&(N=N.add(M),j=D),k=Y(k,1),M=Y(M,1)}return b=B(A,N.j(b)),new H(N,b)}for(N=g;A.l(b)>=0;){for(M=Math.max(1,Math.floor(A.m()/b.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=p(M),D=j.j(b);P(D)||D.l(A)>0;)M-=k,j=p(M),D=j.j(b);R(j)&&(j=T),N=N.add(j),A=B(A,D)}return new H(N,A)}t.B=function(A){return X(this,A).h},t.and=function(A){const b=Math.max(this.g.length,A.g.length),M=[];for(let k=0;k<b;k++)M[k]=this.i(k)&A.i(k);return new c(M,this.h&A.h)},t.or=function(A){const b=Math.max(this.g.length,A.g.length),M=[];for(let k=0;k<b;k++)M[k]=this.i(k)|A.i(k);return new c(M,this.h|A.h)},t.xor=function(A){const b=Math.max(this.g.length,A.g.length),M=[];for(let k=0;k<b;k++)M[k]=this.i(k)^A.i(k);return new c(M,this.h^A.h)};function re(A){const b=A.g.length+1,M=[];for(let k=0;k<b;k++)M[k]=A.i(k)<<1|A.i(k-1)>>>31;return new c(M,A.h)}function Y(A,b){const M=b>>5;b%=32;const k=A.g.length-M,N=[];for(let j=0;j<k;j++)N[j]=b>0?A.i(j+M)>>>b|A.i(j+M+1)<<32-b:A.i(j+M);return new c(N,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,eo=c}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,Nc,Sx,sh,sg,Ax,Cx,Rx;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var w=0;w<u.length;++w){var E=u[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(u,w){if(w)e:{var E=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var G=u[S];if(!(G in E))break e;E=E[G]}u=u[u.length-1],S=E[u],w=w(S),w!=S&&w!=null&&e(E,u,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(w){var E=[],S;for(S in w)Object.prototype.hasOwnProperty.call(w,S)&&E.push([S,w[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function d(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function f(u,w,E){return u.call.apply(u.bind,arguments)}function p(u,w,E){return p=f,p.apply(null,arguments)}function y(u,w){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function g(u,w){function E(){}E.prototype=w.prototype,u.Z=w.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(S,G,ee){for(var ge=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ge[Be-2]=arguments[Be];return w.prototype[G].apply(S,ge)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function I(u){const w=u.length;if(w>0){const E=Array(w);for(let S=0;S<w;S++)E[S]=u[S];return E}return[]}function R(u,w){for(let S=1;S<arguments.length;S++){const G=arguments[S];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=u.length||0;const ee=G.length||0;u.length=E+ee;for(let ge=0;ge<ee;ge++)u[E+ge]=G[ge]}else u.push(G)}}class P{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function O(u){c.setTimeout(()=>{throw u},0)}function B(){var u=A;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class J{constructor(){this.h=this.g=null}add(w,E){const S=H.get();S.set(w,E),this.h?this.h.next=S:this.g=S,this.h=S}}var H=new P(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Y=!1,A=new J,b=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(M)}};function M(){for(var u;u=B();){try{u.h.call(u.g)}catch(E){O(E)}var w=H;w.j(u),w.h<100&&(w.h++,u.next=w.g,w.g=u)}Y=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function be(u,w){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,w)}g(be,N),be.prototype.init=function(u,w){const E=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget,w||(E=="mouseover"?w=u.fromElement:E=="mouseout"&&(w=u.toElement)),this.relatedTarget=w,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),pe=0;function we(u,w,E,S,G){this.listener=u,this.proxy=null,this.src=w,this.type=E,this.capture=!!S,this.ha=G,this.key=++pe,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function te(u,w,E){for(const S in u)w.call(E,u[S],S,u)}function oe(u,w){for(const E in u)w.call(void 0,u[E],E,u)}function V(u){const w={};for(const E in u)w[E]=u[E];return w}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(u,w){let E,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(E in S)u[E]=S[E];for(let ee=0;ee<F.length;ee++)E=F[ee],Object.prototype.hasOwnProperty.call(S,E)&&(u[E]=S[E])}}function K(u){this.src=u,this.g={},this.h=0}K.prototype.add=function(u,w,E,S,G){const ee=u.toString();u=this.g[ee],u||(u=this.g[ee]=[],this.h++);const ge=ue(u,w,S,G);return ge>-1?(w=u[ge],E||(w.fa=!1)):(w=new we(w,this.src,ee,!!S,G),w.fa=E,u.push(w)),w};function ae(u,w){const E=w.type;if(E in u.g){var S=u.g[E],G=Array.prototype.indexOf.call(S,w,void 0),ee;(ee=G>=0)&&Array.prototype.splice.call(S,G,1),ee&&($(w),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ue(u,w,E,S){for(let G=0;G<u.length;++G){const ee=u[G];if(!ee.da&&ee.listener==w&&ee.capture==!!E&&ee.ha==S)return G}return-1}var le="closure_lm_"+(Math.random()*1e6|0),me={};function xe(u,w,E,S,G){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)xe(u,w[ee],E,S,G);return null}return E=fi(E),u&&u[Oe]?u.J(w,E,d(S)?!!S.capture:!1,G):it(u,w,E,!1,S,G)}function it(u,w,E,S,G,ee){if(!w)throw Error("Invalid event type");const ge=d(G)?!!G.capture:!!G;let Be=ks(u);if(Be||(u[le]=Be=new K(u)),E=Be.add(w,E,S,ge,ee),E.proxy)return E;if(S=tn(),E.proxy=S,S.src=u,S.listener=E,u.addEventListener)j||(G=ge),G===void 0&&(G=!1),u.addEventListener(w.toString(),S,G);else if(u.attachEvent)u.attachEvent(Yr(w.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function tn(){function u(E){return w.call(u.src,u.listener,E)}const w=ga;return u}function Bt(u,w,E,S,G){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)Bt(u,w[ee],E,S,G);else S=d(S)?!!S.capture:!!S,E=fi(E),u&&u[Oe]?(u=u.i,ee=String(w).toString(),ee in u.g&&(w=u.g[ee],E=ue(w,E,S,G),E>-1&&($(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete u.g[ee],u.h--)))):u&&(u=ks(u))&&(w=u.g[w.toString()],u=-1,w&&(u=ue(w,E,S,G)),(E=u>-1?w[u]:null)&&Sn(E))}function Sn(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[Oe])ae(w.i,u);else{var E=u.type,S=u.proxy;w.removeEventListener?w.removeEventListener(E,S,u.capture):w.detachEvent?w.detachEvent(Yr(E),S):w.addListener&&w.removeListener&&w.removeListener(S),(E=ks(w))?(ae(E,u),E.h==0&&(E.src=null,w[le]=null)):$(u)}}}function Yr(u){return u in me?me[u]:me[u]="on"+u}function ga(u,w){if(u.da)u=!0;else{w=new be(w,this);const E=u.listener,S=u.ha||u.src;u.fa&&Sn(u),u=E.call(S,w)}return u}function ks(u){return u=u[le],u instanceof K?u:null}var Kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function fi(u){return typeof u=="function"?u:(u[Kn]||(u[Kn]=function(w){return u.handleEvent(w)}),u[Kn])}function st(){k.call(this),this.i=new K(this),this.M=this,this.G=null}g(st,k),st.prototype[Oe]=!0,st.prototype.removeEventListener=function(u,w,E,S){Bt(this,u,w,E,S)};function wt(u,w){var E,S=u.G;if(S)for(E=[];S;S=S.G)E.push(S);if(u=u.M,S=w.type||w,typeof w=="string")w=new N(w,u);else if(w instanceof N)w.target=w.target||u;else{var G=w;w=new N(S,u),q(w,G)}G=!0;let ee,ge;if(E)for(ge=E.length-1;ge>=0;ge--)ee=w.g=E[ge],G=Qn(ee,S,!0,w)&&G;if(ee=w.g=u,G=Qn(ee,S,!0,w)&&G,G=Qn(ee,S,!1,w)&&G,E)for(ge=0;ge<E.length;ge++)ee=w.g=E[ge],G=Qn(ee,S,!1,w)&&G}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var u=this.i;for(const w in u.g){const E=u.g[w];for(let S=0;S<E.length;S++)$(E[S]);delete u.g[w],u.h--}}this.G=null},st.prototype.J=function(u,w,E,S){return this.i.add(String(u),w,!1,E,S)},st.prototype.K=function(u,w,E,S){return this.i.add(String(u),w,!0,E,S)};function Qn(u,w,E,S){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let ee=0;ee<w.length;++ee){const ge=w[ee];if(ge&&!ge.da&&ge.capture==E){const Be=ge.listener,Pt=ge.ha||ge.src;ge.fa&&ae(u.i,ge),G=Be.call(Pt,S)!==!1&&G}}return G&&!S.defaultPrevented}function zt(u,w){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(u,w||0)}function pr(u){u.g=zt(()=>{u.g=null,u.i&&(u.i=!1,pr(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class ya extends k{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){k.call(this),this.h=u,this.g={}}g(Xr,k);var Jr=[];function pi(u){te(u.g,function(w,E){this.g.hasOwnProperty(E)&&Sn(w)},u),u.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),pi(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=c.JSON.stringify,mi=c.JSON.parse,On=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Rr(){}function Pr(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gi(){N.call(this,"d")}g(gi,N);function yi(){N.call(this,"c")}g(yi,N);var Vn={},vi=null;function mr(){return vi=vi||new st}Vn.Ia="serverreachability";function An(u){N.call(this,Vn.Ia,u)}g(An,N);function kr(u){const w=mr();wt(w,new An(w))}Vn.STAT_EVENT="statevent";function Nr(u,w){N.call(this,Vn.STAT_EVENT,u),this.stat=w}g(Nr,N);function ft(u){const w=mr();wt(w,new Nr(w,u))}Vn.Ja="timingevent";function wi(u,w){N.call(this,Vn.Ja,u),this.size=w}g(wi,N);function Ve(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},w)}function ct(){this.g=!0}ct.prototype.ua=function(){this.g=!1};function Rt(u,w,E,S,G,ee){u.info(function(){if(u.g)if(ee){var ge="",Be=ee.split("&");for(let ot=0;ot<Be.length;ot++){var Pt=Be[ot].split("=");if(Pt.length>1){const Ot=Pt[0];Pt=Pt[1];const nr=Ot.split("_");ge=nr.length>=2&&nr[1]=="type"?ge+(Ot+"="+Pt+"&"):ge+(Ot+"=redacted&")}}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+w+`
`+E+`
`+ge})}function Kt(u,w,E,S,G,ee,ge){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+w+`
`+E+`
`+ee+" "+ge})}function Cn(u,w,E,S){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+Dt(u,E)+(S?" "+S:"")})}function St(u,w){u.info(function(){return"TIMEOUT: "+w})}ct.prototype.info=function(){};function Dt(u,w){if(!u.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(u=0;u<ee.length;u++)if(Array.isArray(ee[u])){var E=ee[u];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var G=S[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ge=1;ge<S.length;ge++)S[ge]=""}}}}return Cr(ee)}catch{return w}}var Yn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pn;function gr(){}g(gr,Rr),gr.prototype.g=function(){return new XMLHttpRequest},pn=new gr;function Qt(u){return encodeURIComponent(String(u))}function Eo(u){var w=1;u=u.split(":");const E=[];for(;w>0&&u.length;)E.push(u.shift()),w--;return u.length&&E.push(u.join(":")),E}function yr(u,w,E,S){this.j=u,this.i=w,this.l=E,this.S=S||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ru={},Ll={};function Dr(u,w,E){u.M=1,u.A=Ds(vr(w)),u.u=E,u.R=!0,jl(u,null)}function jl(u,w){u.F=Date.now(),To(u),u.B=vr(u.A);var E=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Kl(E.i,"t",S),u.C=0,E=u.j.L,u.h=new Cu,u.g=Fu(u.j,E?w:null,!u.u),u.P>0&&(u.O=new ya(p(u.Y,u,u.g),u.P)),w=u.V,E=u.g,S=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(Jr[0]=G.toString()),G=Jr);for(let ee=0;ee<G.length;ee++){const ge=xe(E,G[ee],S||w.handleEvent,!1,w.h||w);if(!ge)break;w.g[ge.key]=ge}w=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,w)):(u.v="GET",u.g.ea(u.B,u.v,null,w)),kr(),Rt(u.i,u.v,u.B,u.l,u.S,u.u)}yr.prototype.ba=function(u){u=u.target;const w=this.O;w&&os(u)==3?w.j():this.Y(u)},yr.prototype.Y=function(u){try{if(u==this.g)e:{const Be=os(this.g),Pt=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Lu(this.g)))){this.K||Be!=4||Pt==7||(Pt==8||ot<=0?kr(3):kr(2)),va(this);var w=this.g.ca();this.X=w;var E=Pu(this);if(this.o=w==200,Kt(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var S,G=this.g;if((S=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var ee=S;break t}}ee=null}if(u=ee)Cn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,u);else{this.o=!1,this.m=3,ft(12),Ns(this),xo(this);break e}}if(this.R){u=!0;let Ot;for(;!this.K&&this.C<E.length;)if(Ot=Nu(this,E),Ot==Ll){Be==4&&(this.m=4,ft(14),u=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Ru){this.m=4,ft(15),Cn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Cn(this.i,this.l,Ot,null),pt(this,Ot);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||E.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)Cn(this.i,this.l,E,"[Invalid Chunked Response]"),Ns(this),xo(this);else if(E.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),No(ge),ge.P=!0,ft(11))}}else Cn(this.i,this.l,E,null),pt(this,E);Be==4&&Ns(this),this.o&&!this.K&&(Be==4?Ca(this.j,this):(this.o=!1,To(this)))}else Yl(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Ns(this),xo(this)}}}catch{}finally{}};function Pu(u){if(!ku(u))return u.g.la();const w=Lu(u.g);if(w==="")return"";let E="";const S=w.length,G=os(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ns(u),xo(u),"";u.h.i=new c.TextDecoder}for(let ee=0;ee<S;ee++)u.h.h=!0,E+=u.h.i.decode(w[ee],{stream:!(G&&ee==S-1)});return w.length=0,u.h.g+=E,u.C=0,u.h.g}function ku(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Nu(u,w){var E=u.C,S=w.indexOf(`
`,E);return S==-1?Ll:(E=Number(w.substring(E,S)),isNaN(E)?Ru:(S+=1,S+E>w.length?Ll:(w=w.slice(S,S+E),u.C=S+E,w)))}yr.prototype.cancel=function(){this.K=!0,Ns(this)};function To(u){u.T=Date.now()+u.H,Fl(u,u.H)}function Fl(u,w){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ve(p(u.aa,u),w)}function va(u){u.D&&(c.clearTimeout(u.D),u.D=null)}yr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(kr(),ft(17)),Ns(this),this.m=2,xo(this)):Fl(this,this.T-u)};function xo(u){u.j.I==0||u.K||Ca(u.j,u)}function Ns(u){va(u);var w=u.O;w&&typeof w.dispose=="function"&&w.dispose(),u.O=null,pi(u.V),u.g&&(w=u.g,u.g=null,w.abort(),w.dispose())}function pt(u,w){try{var E=u.j;if(E.I!=0&&(E.g==u||Bl(E.h,u))){if(!u.L&&Bl(E.h,u)&&E.I==3){try{var S=E.Ba.g.parse(w)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Aa(E),er(E);else break e;cs(E),ft(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ve(p(E.Va,E),6e3));bo(E.h)<=1&&E.ta&&(E.ta=void 0)}else tr(E,11)}else if((u.L||E.g==u)&&Aa(E),!D(w))for(G=E.Ba.g.parse(w),w=0;w<G.length;w++){let ot=G[w];const Ot=ot[0];if(!(Ot<=E.K))if(E.K=Ot,ot=ot[1],E.I==2)if(ot[0]=="c"){E.M=ot[1],E.ba=ot[2];const nr=ot[3];nr!=null&&(E.ka=nr,E.j.info("VER="+E.ka));const js=ot[4];js!=null&&(E.za=js,E.j.info("SVER="+E.za));const us=ot[5];us!=null&&typeof us=="number"&&us>0&&(S=1.5*us,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ds=u.g;if(ds){const ka=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var ee=S.h;ee.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(_a(ee,ee.h),ee.h=null))}if(S.G){const Zl=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(S.wa=Zl,nt(S.J,S.G,Zl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ge=u;if(S.na=Jl(S,S.L?S.ba:null,S.W),ge.L){Io(S.h,ge);var Be=ge,Pt=S.O;Pt&&(Be.H=Pt),Be.D&&(va(Be),To(Be)),S.g=ge}else mn(S);E.i.length>0&&Ls(E)}else ot[0]!="stop"&&ot[0]!="close"||tr(E,7);else E.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?tr(E,7):Ia(E):ot[0]!="noop"&&E.l&&E.l.qa(ot),E.A=0)}}kr(4)}catch{}}var Of=class{constructor(u,w){this.g=u,this.map=w}};function wa(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bo(u){return u.h?1:u.g?u.g.size:0}function Bl(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function _a(u,w){u.g?u.g.add(w):u.h=w}function Io(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}wa.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const E of u.g.values())w=w.concat(E.G);return w}return I(u.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jn(u,w){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const S=u[E].indexOf("=");let G,ee=null;S>=0?(G=u[E].substring(0,S),ee=u[E].substring(S+1)):G=u[E],w(G,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function es(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;u instanceof es?(this.l=u.l,So(this,u.j),this.o=u.o,this.g=u.g,ts(this,u.u),this.h=u.h,_i(this,Ql(u.i)),this.m=u.m):u&&(w=String(u).match(Du))?(this.l=!1,So(this,w[1]||"",!0),this.o=Ao(w[2]||""),this.g=Ao(w[3]||"",!0),ts(this,w[4]),this.h=Ao(w[5]||"",!0),_i(this,w[6]||"",!0),this.m=Ao(w[7]||"")):(this.l=!1,this.i=new Ge(null,this.l))}es.prototype.toString=function(){const u=[];var w=this.j;w&&u.push(Co(w,$l,!0),":");var E=this.g;return(E||w=="file")&&(u.push("//"),(w=this.o)&&u.push(Co(w,$l,!0),"@"),u.push(Qt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Co(E,E.charAt(0)=="/"?Ro:ql,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Co(E,Hl)),u.join("")},es.prototype.resolve=function(u){const w=vr(this);let E=!!u.j;E?So(w,u.j):E=!!u.o,E?w.o=u.o:E=!!u.g,E?w.g=u.g:E=u.u!=null;var S=u.h;if(E)ts(w,u.u);else if(E=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var G=w.h.lastIndexOf("/");G!=-1&&(S=w.h.slice(0,G+1)+S)}if(G=S,G==".."||G==".")S="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){S=G.lastIndexOf("/",0)==0,G=G.split("/");const ee=[];for(let ge=0;ge<G.length;){const Be=G[ge++];Be=="."?S&&ge==G.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),S&&ge==G.length&&ee.push("")):(ee.push(Be),S=!0)}S=ee.join("/")}else S=G}return E?w.h=S:E=u.i.toString()!=="",E?_i(w,Ql(u.i)):E=!!u.m,E&&(w.m=u.m),w};function vr(u){return new es(u)}function So(u,w,E){u.j=E?Ao(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function ts(u,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);u.u=w}else u.u=null}function _i(u,w,E){w instanceof Ge?(u.i=w,Ta(u.i,u.l)):(E||(w=Co(w,Vf)),u.i=new Ge(w,u.l))}function nt(u,w,E){u.i.set(w,E)}function Ds(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ao(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Co(u,w,E){return typeof u=="string"?(u=encodeURI(u).replace(w,zl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $l=/[#\/\?@]/g,ql=/[#\?:]/g,Ro=/[#\?]/g,Vf=/[#\?@]/g,Hl=/#/g;function Ge(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function ns(u){u.g||(u.g=new Map,u.h=0,u.i&&Jn(u.i,function(w,E){u.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=Ge.prototype,t.add=function(u,w){ns(this),this.i=null,u=rs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(w),this.h+=1,this};function Wl(u,w){ns(u),w=rs(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function Ea(u,w){return ns(u),w=rs(u,w),u.g.has(w)}t.forEach=function(u,w){ns(this),this.g.forEach(function(E,S){E.forEach(function(G){u.call(w,G,S,this)},this)},this)};function Gl(u,w){ns(u);let E=[];if(typeof w=="string")Ea(u,w)&&(E=E.concat(u.g.get(rs(u,w))));else for(u=Array.from(u.g.values()),w=0;w<u.length;w++)E=E.concat(u[w]);return E}t.set=function(u,w){return ns(this),this.i=null,u=rs(this,u),Ea(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},t.get=function(u,w){return u?(u=Gl(this,u),u.length>0?String(u[0]):w):w};function Kl(u,w,E){Wl(u,w),E.length>0&&(u.i=null,u.g.set(rs(u,w),I(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(let S=0;S<w.length;S++){var E=w[S];const G=Qt(E);E=Gl(this,E);for(let ee=0;ee<E.length;ee++){let ge=G;E[ee]!==""&&(ge+="="+Qt(E[ee])),u.push(ge)}}return this.i=u.join("&")};function Ql(u){const w=new Ge;return w.i=u.i,u.g&&(w.g=new Map(u.g),w.h=u.h),w}function rs(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function Ta(u,w){w&&!u.j&&(ns(u),u.i=null,u.g.forEach(function(E,S){const G=S.toLowerCase();S!=G&&(Wl(this,S),Kl(this,G,E))},u)),u.j=w}function ss(u,w){const E=new ct;if(c.Image){const S=new Image;S.onload=y(nn,E,"TestLoadImage: loaded",!0,w,S),S.onerror=y(nn,E,"TestLoadImage: error",!1,w,S),S.onabort=y(nn,E,"TestLoadImage: abort",!1,w,S),S.ontimeout=y(nn,E,"TestLoadImage: timeout",!1,w,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else w(!1)}function is(u,w){const E=new ct,S=new AbortController,G=setTimeout(()=>{S.abort(),nn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:S.signal}).then(ee=>{clearTimeout(G),ee.ok?nn(E,"TestPingServer: ok",!0,w):nn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),nn(E,"TestPingServer: error",!1,w)})}function nn(u,w,E,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(E)}catch{}}function Po(){this.g=new On}function Ms(u){this.i=u.Sb||null,this.h=u.ab||!1}g(Ms,Rr),Ms.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(u,w){st.call(this),this.H=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Zn,st),t=Zn.prototype,t.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=w,this.readyState=1,Mr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(w.body=u),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mu(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mu(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?Ei(this):Mr(this),this.readyState==3&&Mu(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ei(this))},t.Na=function(u){this.g&&(this.response=u,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Mr(u)}t.setRequestHeader=function(u,w){this.A.append(u,w)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=w.next();return u.join(`\r
`)};function Mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ou(u){let w="";return te(u,function(E,S){w+=S,w+=":",w+=E,w+=`\r
`}),w}function xa(u,w,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Ou(E),typeof u=="string"?E!=null&&Qt(E):nt(u,w,E))}function ut(u){st.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ut,st);var Vu=/^https?$/i,Lf=["POST","PUT"];t=ut.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,w,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pn.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(ee){Ti(this,ee);return}if(u=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)E.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const ee of S.keys())E.set(ee,S.get(ee));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Lf,w,void 0)>=0)||S||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of E)this.g.setRequestHeader(ee,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(ee){Ti(this,ee)}};function Ti(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.o=5,xi(u),Vs(u)}function xi(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},t.Xa=function(){Os(this)};function Os(u){if(u.h&&typeof a<"u"){if(u.v&&os(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),os(u)==4){u.h=!1;try{const ee=u.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var S;if(S=ee===0){let ge=String(u.D).match(Du)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),S=!Vu.test(ge?ge.toLowerCase():"")}E=S}if(E)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var G=os(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",xi(u)}}finally{Vs(u)}}}}function Vs(u,w){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,w||wt(u,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(u){return u.g?u.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),mi(w)}};function Lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yl(u){const w={};u=(u.g&&os(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(D(u[S]))continue;var E=Eo(u[S]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=w[G]||[];w[G]=ee,ee.push(E)}oe(w,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||w}function ba(u){this.za=0,this.i=[],this.j=new ct,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,u),this.Za=as("retryDelaySeedMs",1e4,u),this.Ta=as("forwardChannelMaxRetries",2,u),this.va=as("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wa(u&&u.concurrentRequestLimit),this.Ba=new Po,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ba.prototype,t.ka=8,t.I=1,t.connect=function(u,w,E,S){ft(0),this.W=u,this.H=w||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Jl(this,null,this.W),Ls(this)};function Ia(u){if(Sa(u),u.I==3){var w=u.V++,E=vr(u.J);if(nt(E,"SID",u.M),nt(E,"RID",w),nt(E,"TYPE","terminate"),ls(u,E),w=new yr(u,u.j,w),w.M=2,w.A=Ds(vr(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=Fu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),To(w)}Do(u)}function er(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function Sa(u){er(u),u.v&&(c.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Ls(u){if(!Ul(u.h)&&!u.m){u.m=!0;var w=u.Ea;re||b(),Y||(re(),Y=!0),A.add(w,u),u.D=0}}function ju(u,w){return bo(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=w.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ve(p(u.Ea,u,w),Ra(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new yr(this,this.j,u);let ee=this.o;if(this.U&&(ee?(ee=V(ee),q(ee,this.U)):ee=this.U),this.u!==null||this.R||(G.J=ee,ee=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(w+=S,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Xl(this,G,w),E=vr(this.J),nt(E,"RID",u),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),ls(this,E),ee&&(this.R?w="headers="+Qt(Ou(ee))+"&"+w:this.u&&xa(E,this.u,ee)),_a(this.h,G),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",w),nt(E,"SID","null"),G.U=!0,Dr(G,E,null)):Dr(G,E,w),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ul(this.h)||ko(this))};function ko(u,w){var E;w?E=w.l:E=u.V++;const S=vr(u.J);nt(S,"SID",u.M),nt(S,"RID",E),nt(S,"AID",u.K),ls(u,S),u.u&&u.o&&xa(S,u.u,u.o),E=new yr(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),w&&(u.i=w.G.concat(u.i)),w=Xl(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_a(u.h,E),Dr(E,S,w)}function ls(u,w){u.H&&te(u.H,function(E,S){nt(w,S,E)}),u.l&&te({},function(E,S){nt(w,S,E)})}function Xl(u,w,E){E=Math.min(u.i.length,E);const S=u.l?p(u.l.Ka,u.l,u):null;e:{var G=u.i;let Be=-1;for(;;){const Pt=["count="+E];Be==-1?E>0?(Be=G[0].g,Pt.push("ofs="+Be)):Be=0:Pt.push("ofs="+Be);let ot=!0;for(let Ot=0;Ot<E;Ot++){var ee=G[Ot].g;const nr=G[Ot].map;if(ee-=Be,ee<0)Be=Math.max(0,G[Ot].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var ge=nr instanceof Map?nr:Object.entries(nr);for(const[js,us]of ge){let ds=us;d(us)&&(ds=Cr(us)),Pt.push(ee+js+"="+encodeURIComponent(ds))}}catch(js){throw Pt.push(ee+"type="+encodeURIComponent("_badmap")),js}}catch{S&&S(nr)}}if(ot){ge=Pt.join("&");break e}}ge=void 0}return u=u.i.splice(0,E),w.G=u,ge}function mn(u){if(!u.g&&!u.v){u.Y=1;var w=u.Da;re||b(),Y||(re(),Y=!0),A.add(w,u),u.A=0}}function cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ve(p(u.Da,u),Ra(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,bi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ve(p(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),er(this),bi(this))};function No(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function bi(u){u.g=new yr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var w=vr(u.na);nt(w,"RID","rpc"),nt(w,"SID",u.M),nt(w,"AID",u.K),nt(w,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(w,"TO",u.ia),nt(w,"TYPE","xmlhttp"),ls(u,w),u.u&&u.o&&xa(w,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Ds(vr(w)),E.u=null,E.R=!0,jl(E,u)}t.Va=function(){this.C!=null&&(this.C=null,er(this),cs(this),ft(19))};function Aa(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Ca(u,w){var E=null;if(u.g==w){Aa(u),No(u),u.g=null;var S=2}else if(Bl(u.h,w))E=w.G,Io(u.h,w),S=1;else return;if(u.I!=0){if(w.o)if(S==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var G=u.D;S=mr(),wt(S,new wi(S,E)),Ls(u)}else mn(u);else if(G=w.m,G==3||G==0&&w.X>0||!(S==1&&ju(u,w)||S==2&&cs(u)))switch(E&&E.length>0&&(w=u.h,w.i=w.i.concat(E)),G){case 1:tr(u,5);break;case 4:tr(u,10);break;case 3:tr(u,6);break;default:tr(u,2)}}}function Ra(u,w){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*w}function tr(u,w){if(u.j.info("Error code "+w),w==2){var E=p(u.bb,u),S=u.Ua;const G=!S;S=new es(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||So(S,"https"),Ds(S),G?ss(S.toString(),E):is(S.toString(),E)}else ft(2);u.I=0,u.l&&u.l.pa(w),Do(u),Sa(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Do(u){if(u.I=0,u.ja=[],u.l){const w=Xn(u.h);(w.length!=0||u.i.length!=0)&&(R(u.ja,w),R(u.ja,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.oa()}}function Jl(u,w,E){var S=E instanceof es?vr(E):new es(E);if(S.g!="")w&&(S.g=w+"."+S.g),ts(S,S.u);else{var G=c.location;S=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const ee=new es(null);S&&So(ee,S),w&&(ee.g=w),G&&ts(ee,G),E&&(ee.h=E),S=ee}return E=u.G,w=u.wa,E&&w&&nt(S,E,w),nt(S,"VER",u.ka),ls(u,S),S}function Fu(u,w,E){if(w&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Aa&&!u.ma?new ut(new Ms({ab:E})):new ut(u.ma),w.Fa(u.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}t=Uu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pa(){}Pa.prototype.g=function(u,w){return new rn(u,w)};function rn(u,w){st.call(this),this.g=new ba(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(u?u["X-WebChannel-Client-Profile"]=w.sa:u={"X-WebChannel-Client-Profile":w.sa}),this.g.U=u,(u=w&&w.Qb)&&!D(u)&&(this.g.u=u),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.G=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new Ii(this)}g(rn,st),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ia(this.g)},rn.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Cr(u),u=E);w.i.push(new Of(w.Ya++,u)),w.I==3&&Ls(w)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,rn.Z.N.call(this)};function Bu(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const E in w){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}g(Bu,gi);function zu(){yi.call(this),this.status=1}g(zu,yi);function Ii(u){this.g=u}g(Ii,Uu),Ii.prototype.ra=function(){wt(this.g,"a")},Ii.prototype.qa=function(u){wt(this.g,new Bu(u))},Ii.prototype.pa=function(u){wt(this.g,new zu)},Ii.prototype.oa=function(){wt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Rx=function(){return new Pa},Cx=function(){return mr()},Ax=Vn,sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yn.NO_ERROR=0,Yn.TIMEOUT=8,Yn.HTTP_ERROR=6,sh=Yn,Mt.COMPLETE="complete",Sx=Mt,Pr.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",st.prototype.listen=st.prototype.J,Nc=Pr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,Ix=ut}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",m0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new of("@firebase/firestore");function rl(){return ea.logLevel}function Ee(t,...e){if(ea.logLevel<=qe.DEBUG){const n=e.map(Qg);ea.debug(`Firestore (${Cl}): ${t}`,...n)}}function oi(t,...e){if(ea.logLevel<=qe.ERROR){const n=e.map(Qg);ea.error(`Firestore (${Cl}): ${t}`,...n)}}function vl(t,...e){if(ea.logLevel<=qe.WARN){const n=e.map(Qg);ea.warn(`Firestore (${Cl}): ${t}`,...n)}}function Qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Px(t,r,n)}function Px(t,e,n){let r=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oi(r),new Error(r)}function Xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Px(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class ZM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eO{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ts,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ts)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new kx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class tO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=sO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Sm(i)===Sm(a)?He(i,a):Sm(i)?1:-1}return He(t.length,e.length)}const iO=55296,oO=57343;function Sm(t){const e=t.charCodeAt(0);return e>=iO&&e<=oO}function wl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ys.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const r=ys.isNumericId(e),i=ys.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ys.extractNumericId(e).compare(ys.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class lt extends ys{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ys{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return aO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new dn([y0])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(a(),i++)}if(a(),c)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(lt.fromString(e))}static fromName(e){return new ke(lt.fromString(e).popFirst(5))}static empty(){return new ke(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e,n){if(!n)throw new ve(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lO(t,e,n,r){if(e===!0&&r===!0)throw new ve(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!ke.isDocumentKey(t))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w0(t){if(ke.isDocumentKey(t))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(t);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cO(t,e){if(e<=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!Dx(t))throw new ve(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ve(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-62135596800,E0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*E0);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ut("string",rt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new rt(0,0))}static max(){return new Le(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=-1;function uO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ao(i,ke.empty(),e)}function dO(t){return new ao(t.readTime,t.key,Yc)}class ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ao(Le.min(),ke.empty(),Yc)}static max(){return new ao(Le.max(),ke.empty(),Yc)}}function hO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==fO)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let i=0,a=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++a,c&&a===i&&n()}),(f=>r(f)))})),c=!0,a===i&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((i=>i?se.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,i)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{c[p]=y,++d,d===a&&r(c)}),(y=>i(y)))}}))}static doWhile(e,n){return new se(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function mO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function pu(t){return t==null}function xh(t){return t===0&&1/t==-1/0}function gO(t){return typeof t=="number"&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="";function yO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=T0(e)),e=vO(t.get(n),e);return T0(e)}function vO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Mx:n+="";break;default:n+=a}}return n}function T0(t){return t+Mx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ln.RED,this.left=i??ln.EMPTY,this.right=a??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ln(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Gt(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vx("Invalid base64 string: "+a):a}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const wO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=wO.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="server_timestamp",jx="__type__",Fx="__previous_value__",Ux="__local_write_time__";function Jg(t){return(t?.mapValue?.fields||{})[jx]?.stringValue===Lx}function uf(t){const e=t.mapValue.fields[Fx];return Jg(e)?uf(e):e}function Xc(t){const e=lo(t.mapValue.fields[Ux].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,r,i,a,c,d,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const bh="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="__type__",EO="__max__",Gd={mapValue:{}},zx="__vector__",Ih="value";function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jg(t)?4:xO(t)?9007199254740991:TO(t)?10:11:Ne(28295,{value:t})}function Rs(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=lo(i.timestampValue),d=lo(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return co(i.bytesValue).isEqual(co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Nt(i.doubleValue),d=Nt(a.doubleValue);return c===d?xh(c)===xh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},d=a.mapValue.fields||{};if(x0(c)!==x0(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Rs(c[f],d[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find((n=>Rs(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=Nt(a.integerValue||a.doubleValue),f=Nt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return I0(t.timestampValue,e.timestampValue);case 4:return I0(Xc(t),Xc(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return(function(a,c){const d=co(a),f=co(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=He(d[p],f[p]);if(y!==0)return y}return He(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=He(Nt(a.latitude),Nt(c.latitude));return d!==0?d:He(Nt(a.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return S0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const d=a.fields||{},f=c.fields||{},p=d[Ih]?.arrayValue,y=f[Ih]?.arrayValue,g=He(p?.values?.length||0,y?.values?.length||0);return g!==0?g:S0(p,y)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Gd.mapValue&&c===Gd.mapValue)return 0;if(a===Gd.mapValue)return 1;if(c===Gd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let g=0;g<f.length&&g<y.length;++g){const T=ig(f[g],y[g]);if(T!==0)return T;const I=_l(d[f[g]],p[y[g]]);if(I!==0)return I}return He(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function I0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=lo(t),r=lo(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function S0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=_l(n[i],r[i]);if(a)return a}return He(n.length,r.length)}function El(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=og(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${og(n.fields[c])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function ih(t){switch(uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+ih(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ih(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vo(r.fields,((a,c)=>{i+=a.length+ih(c)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function A0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function Zg(t){return!!t&&"arrayValue"in t}function C0(t){return!!t&&"nullValue"in t}function R0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function TO(t){return(t?.mapValue?.fields||{})[Bx]?.stringValue===zx}function Vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return{...t}}function xO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Vc(c):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Nn(Vc(this.value))}}function $x(t){const e=[];return vo(t.fields,((n,r)=>{const i=new dn([n]);if(oh(r)){const a=$x(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,a,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Le.min(),Le.min(),Le.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,Le.min(),Le.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Le.min(),Le.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function P0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),n.key):r=_l(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{}class jt extends qx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SO(e,n,r):n==="array-contains"?new RO(e,r):n==="in"?new PO(e,r):n==="not-in"?new kO(e,r):n==="array-contains-any"?new NO(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AO(e,r):new CO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends qx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wr(e,n)}matches(e){return Hx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hx(t){return t.op==="and"}function Wx(t){return IO(t)&&Hx(t)}function IO(t){for(const e of t.filters)if(e instanceof Wr)return!1;return!0}function lg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+El(t.value);if(Wx(t))return t.filters.map((e=>lg(e))).join(",");{const e=t.filters.map((n=>lg(n))).join(",");return`${t.op}(${e})`}}function Gx(t,e){return t instanceof jt?(function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&Rs(r.value,i.value)})(t,e):t instanceof Wr?(function(r,i){return i instanceof Wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,d)=>a&&Gx(c,i.filters[d])),!0):!1})(t,e):void Ne(19439)}function Kx(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(t):t instanceof Wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Kx).join(" ,")+"}"})(t):"Filter"}class SO extends jt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class AO extends jt{constructor(e,n){super(e,"in",n),this.keys=Qx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Qx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Qx(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class RO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zg(n)&&Zc(n.arrayValue,this.value)}}class PO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class kO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class NO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n=null,r=[],i=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=d,this.Te=null}}function N0(t,e=null,n=[],r=[],i=null,a=null,c=null){return new DO(t,e,n,r,i,a,c)}function ey(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>El(r))).join(",")),e.Te=n}return e.Te}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function cg(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],i=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MO(t,e,n,r,i,a,c,d){return new kl(t,e,n,r,i,a,c,d)}function df(t){return new kl(t)}function D0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yx(t){return t.collectionGroup!==null}function Lc(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Gt(dn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new eu(a,r))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new eu(dn.keyField(),r))}return e.Ie}function xs(t){const e=Ue(t);return e.Ee||(e.Ee=OO(e,Lc(t))),e.Ee}function OO(t,e){if(t.limitType==="F")return N0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new eu(i.field,a)}));const n=t.endAt?new Sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sh(t.startAt.position,t.startAt.inclusive):null;return N0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return ty(xs(t),xs(e))&&t.limitType===e.limitType}function Xx(t){return`${ey(xs(t))}|lt:${t.limitType}`}function sl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Kx(i))).join(", ")}]`),pu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>El(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>El(i))).join(",")),`Target(${r})`})(xs(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Lc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const p=P0(c,d,f);return c.inclusive?p<=0:p<0})(r.startAt,Lc(r),i)||r.endAt&&!(function(c,d,f){const p=P0(c,d,f);return c.inclusive?p>=0:p>0})(r.endAt,Lc(r),i))})(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Jx(t){return(e,n)=>{let r=!1;for(const i of Lc(t)){const a=LO(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LO(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,c,d){const f=c.data.field(a),p=d.data.field(a);return f!==null&&p!==null?_l(f,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new bt(ke.comparator);function ai(){return jO}const Zx=new bt(ke.comparator);function Dc(...t){let e=Zx;for(const n of t)e=e.insert(n.key,n);return e}function eb(t){let e=Zx;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return jc()}function tb(){return jc()}function jc(){return new ha((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FO=new bt(ke.comparator),UO=new Gt(ke.comparator);function We(...t){let e=UO;for(const n of t)e=e.add(n);return e}const BO=new Gt(He);function zO(){return BO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function nb(t){return{integerValue:""+t}}function rb(t,e){return gO(e)?nb(e):ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function $O(t,e,n){return t instanceof tu?(function(i,a){const c={fields:{[jx]:{stringValue:Lx},[Ux]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Jg(a)&&(a=uf(a)),a&&(c.fields[Fx]=a),{mapValue:c}})(n,e):t instanceof nu?ib(t,e):t instanceof ru?ob(t,e):(function(i,a){const c=sb(i,a),d=M0(c)+M0(i.Ae);return ag(c)&&ag(i.Ae)?nb(d):ny(i.serializer,d)})(t,e)}function qO(t,e,n){return t instanceof nu?ib(t,e):t instanceof ru?ob(t,e):n}function sb(t,e){return t instanceof su?(function(r){return ag(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class tu extends pf{}class nu extends pf{constructor(e){super(),this.elements=e}}function ib(t,e){const n=ab(e);for(const r of t.elements)n.some((i=>Rs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ru extends pf{constructor(e){super(),this.elements=e}}function ob(t,e){let n=ab(e);for(const r of t.elements)n=n.filter((i=>!Rs(i,r)));return{arrayValue:{values:n}}}class su extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M0(t){return Nt(t.integerValue||t.doubleValue)}function ab(t){return Zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.field=e,this.transform=n}}function HO(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?wl(r.elements,i.elements,Rs):r instanceof su&&i instanceof su?Rs(r.Ae,i.Ae):r instanceof tu&&i instanceof tu})(t.transform,e.transform)}class WO{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mf{}function cb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gu(t.key,Ft.none()):new mu(t.key,t.data,Ft.none());{const n=t.data,r=Nn.empty();let i=new Gt(dn.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new wo(t.key,r,new cr(i.toArray()),Ft.none())}}function GO(t,e,n){t instanceof mu?(function(i,a,c){const d=i.value.clone(),f=V0(i.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof wo?(function(i,a,c){if(!ah(i.precondition,a))return void a.convertToUnknownDocument(c.version);const d=V0(i.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(ub(i)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Fc(t,e,n,r){return t instanceof mu?(function(a,c,d,f){if(!ah(a.precondition,c))return d;const p=a.value.clone(),y=L0(a.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof wo?(function(a,c,d,f){if(!ah(a.precondition,c))return d;const p=L0(a.fieldTransforms,f,c),y=c.data;return y.setAll(ub(a)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,c,d){return ah(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function KO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=sb(r.transform,i||null);a!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,a))}return n||null}function O0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wl(r,i,((a,c)=>HO(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends mf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends mf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ub(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function V0(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,d=e.data.field(a.field);r.set(a.field,qO(c,d,n[i]))}return r}function L0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,$O(a,c,e))}return r}class gu extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class db extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&GO(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tb();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(i.key)?null:d;const f=cb(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,r)=>O0(n,r)))&&wl(this.baseMutations,e.baseMutations,((n,r)=>O0(n,r)))}}class ry{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return FO})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new ry(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Qe;function hb(t){switch(t){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function fb(t){if(t===void 0)return oi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:t})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new eo([4294967295,4294967295],0);function j0(t){const e=JO().encode(t),n=new bx;return n.update(e),new Uint8Array(n.digest())}function F0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new eo([n,r],0),new eo([i,a],0)]}class sy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mc(`Invalid padding: ${n}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=eo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(eo.fromNumber(r)));return i.compare(ZO)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j0(e),[r,i]=F0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new sy(a,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=j0(e),[r,i]=F0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gf(Le.min(),i,new bt(He),ai(),We())}}class yu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pb{constructor(e,n){this.targetId=e,this.Ce=n}}class mb{constructor(e,n,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U0{constructor(){this.ve=0,this.Fe=B0(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:a})}})),new yu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=B0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=Kd(),this.He=Kd(),this.Ye=new bt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(cg(a))if(r===0){const c=new ke(a.path);this.et(n,c,en.newNoDocument(c,Le.min()))}else Xe(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,d;try{c=co(r).toUint8Array()}catch(f){if(f instanceof Vx)return vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sy(c,i,a)}catch(f){return vl(f instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const d=this.ot(c);if(d){if(a.current&&cg(d.target)){const f=new ke(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,en.newNoDocument(f,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=We();this.He.forEach(((a,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const i=new gf(e,n,this.Ye,this.je,r);return this.je=ai(),this.Je=Kd(),this.He=Kd(),this.Ye=new bt(He),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kd(){return new bt(ke.comparator)}function B0(){return new bt(ke.comparator)}const t4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class s4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||pu(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i4(t,e){return Ch(t,e.toTimestamp())}function hr(t){return Xe(!!t,49232),Le.fromTimestamp((function(n){const r=lo(n);return new rt(r.seconds,r.nanos)})(t))}function iy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=(function(i){return new lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yb(t){const e=lt.fromString(t);return Xe(xb(e),10190,{key:e.toString()}),e}function Rh(t,e){return iy(t.databaseId,e.path)}function Uc(t,e){const n=yb(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(wb(n))}function vb(t,e){return iy(t.databaseId,e)}function o4(t){const e=yb(t);return e.length===4?lt.emptyPath():wb(e)}function fg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wb(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function z0(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function a4(t,e){return"found"in e?(function(r,i){Xe(!!i.found,43571),i.found.name,i.found.updateTime;const a=Uc(r,i.found.name),c=hr(i.found.updateTime),d=i.found.createTime?hr(i.found.createTime):Le.min(),f=new Nn({mapValue:{fields:i.found.fields}});return en.newFoundDocument(a,c,d,f)})(t,e):"missing"in e?(function(r,i){Xe(!!i.missing,3894),Xe(!!i.readTime,22933);const a=Uc(r,i.missing),c=hr(i.readTime);return en.newNoDocument(a,c)})(t,e):Ne(7234,{result:e})}function l4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),fn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),fn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ne.UNKNOWN:fb(p.code);return new ve(y,p.message||"")})(c);n=new mb(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uc(t,r.document.name),a=hr(r.document.updateTime),c=r.document.createTime?hr(r.document.createTime):Le.min(),d=new Nn({mapValue:{fields:r.document.fields}}),f=en.newFoundDocument(i,a,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new lh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uc(t,r.document),a=r.readTime?hr(r.readTime):Le.min(),c=en.newNoDocument(i,a),d=r.removedTargetIds||[];n=new lh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uc(t,r.document),a=r.removedTargetIds||[];n=new lh([],a,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new XO(i,a),d=r.targetId;n=new pb(d,c)}}return n}function _b(t,e){let n;if(e instanceof mu)n={update:z0(t,e.key,e.value)};else if(e instanceof gu)n={delete:Rh(t,e.key)};else if(e instanceof wo)n={update:z0(t,e.key,e.data),updateMask:y4(e.fieldMask)};else{if(!(e instanceof db))return Ne(16599,{Vt:e.type});n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const d=c.transform;if(d instanceof tu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof su)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:i4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(t,e.precondition)),n}function c4(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(i,a){let c=i.updateTime?hr(i.updateTime):hr(a);return c.isEqual(Le.min())&&(c=hr(a)),new WO(c,i.transformResults||[])})(n,e)))):[]}function u4(t,e){return{documents:[vb(t,e.path)]}}function d4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vb(t,i);const a=(function(p){if(p.length!==0)return Tb(Wr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:il(T.field),direction:p4(T.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=dg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function h4(t){let e=o4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(g){const T=Eb(g);return T instanceof Wr&&Wx(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((T=>(function(R){return new eu(ol(R.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let T;return T=typeof g=="object"?g.value:g,pu(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(g){const T=!!g.before,I=g.values||[];return new Sh(I,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(g){const T=!g.before,I=g.values||[];return new Sh(I,T)})(n.endAt)),MO(e,i,c,a,d,"F",f,p)}function f4(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Eb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ol(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ol(n.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ol(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(ol(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wr.create(n.compositeFilter.filters.map((r=>Eb(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function p4(t){return t4[t]}function m4(t){return n4[t]}function g4(t){return r4[t]}function il(t){return{fieldPath:t.canonicalString()}}function ol(t){return dn.fromServerFormat(t.fieldPath)}function Tb(t){return t instanceof jt?(function(n){if(n.op==="=="){if(R0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(C0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(C0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:m4(n.op),value:n.value}}})(t):t instanceof Wr?(function(n){const r=n.getFilters().map((i=>Tb(i)));return r.length===1?r[0]:{compositeFilter:{op:g4(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function y4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,a=Le.min(),c=Le.min(),d=fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.yt=e}}function w4(t){const e=h4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Cn=new E4}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ao.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class E4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(lt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(bb,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LruGarbageCollector",T4=1048576;function H0([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class x4{constructor(e){this.Ir=e,this.buffer=new Gt(H0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();H0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?Ee(q0,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class I4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(cf.ce);const r=new x4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve($0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,c,d,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(p=Date.now(),rl()<=qe.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function S4(t,e){return new I4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Fc(r.mutation,i,cr.empty(),rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const i=Qo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=Dc();return a.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let a=ai();const c=jc(),d=(function(){return jc()})();return n.forEach(((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof wo)?a=a.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Fc(y.mutation,p,y.mutation.getFieldMask(),rt.now())):c.set(p.key,cr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new C4(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new bt(((c,d)=>c-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||cr.empty();y=d.applyToLocalView(p,y),r.set(f,y);const g=(i.get(d.batchId)||We()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,g=tb();y.forEach((T=>{if(!a.has(T)){const I=cb(n.get(T),r.get(T));I!==null&&g.set(T,I),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,g))}return se.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):se.resolve(Qo());let d=Yc,f=a;return c.next((p=>se.forEach(p,((y,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,We()))).next((y=>({batchId:d,changes:eb(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=Dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=Dc();return this.indexManager.getCollectionParents(e,a).next((d=>se.forEach(d,(f=>{const p=(function(g,T){return new kl(T,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((g,T)=>{c=c.insert(g,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,en.newInvalidDocument(y)))}));let d=Dc();return c.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&Fc(y.mutation,p,cr.empty(),rt.now()),ff(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:w4(i.bundledQuery),readTime:hr(i.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.overlays=new bt(ke.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return se.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),a=n.length+1,c=new ke(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new bt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Qo(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=i)););return se.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new YO(n,r));let a=this.qr.get(n);a===void 0&&(a=We(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new lt([])),r=new Zt(n,e),i=new Zt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new lt([])),r=new Zt(n,e),i=new Zt(n,e+1);let a=We();return this.Ur.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new Zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new QO(a,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Zr=this.Zr.add(new Zt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Xg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),i=new Zt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(c=>{const d=this.Xr(c.Yr);a.push(d)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(He);return n.forEach((i=>{const a=new Zt(i,0),c=new Zt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(d=>{r=r.add(d.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const c=new Zt(new ke(a),0);let d=new Gt(He);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(i=>{const a=new Zt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Zt(n,0),i=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.ri=e,this.docs=(function(){return new bt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():en.newInvalidDocument(i))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ai();const c=n.path,d=new ke(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||hO(dO(y),r)<=0||(i.has(y.key)||ff(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O4(this)}getSize(e){return se.resolve(this.size)}}class O4 extends A4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.persistence=e,this.si=new ha((n=>ey(n)),ty),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),se.waitFor(a).next((()=>i))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new N4,this.referenceDelegate=e(this),this.Pi=new V4(this),this.indexManager=new _4,this.remoteDocumentCache=(function(i){return new M4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new v4(n),this.Ii=new P4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new D4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new L4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class L4 extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Ri=new oy,this.Vi=null}static mi(e){return new ay(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const i=ke.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ha((r=>yO(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=S4(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?se.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,a.removeEntry(c,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=We(),i=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ly(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ND()?8:mO(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new j4;return this.Ss(e,n,c).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(rl()<=qe.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(rl()<=qe.DEBUG&&Ee("QueryEngine","Query:",sl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rl()<=qe.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):se.resolve())}ys(e,n){if(D0(n))return se.resolve(null);let r=xs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ah(n,null,"F"),r=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=We(...a);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,c,f.readTime)?this.ys(e,Ah(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return D0(n)||i.isEqual(Le.min())?se.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,i)?se.resolve(null):(rl()<=qe.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sl(n)),this.vs(e,c,n,uO(i,Yc)).next((d=>d)))}))}Ds(e,n){let r=new Gt(Jx(e));return n.forEach(((i,a)=>{ff(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return rl()<=qe.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",sl(n)),this.ps.getDocumentsMatchingQuery(e,n,ao.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",U4=3e8;class B4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bt(He),this.xs=new ha((a=>ey(a)),ty),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function z4(t,e,n,r){return new B4(t,e,n,r)}async function Sb(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],d=[];let f=We();for(const p of i){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function $4(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,y){const g=p.batch,T=g.keys();let I=se.resolve();return T.forEach((R=>{I=I.next((()=>y.getEntry(f,R))).next((P=>{const O=p.docVersions.get(R);Xe(O!==null,48541),P.version.compareTo(O)<0&&(g.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=We();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Ab(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function q4(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const d=[];e.targetChanges.forEach(((y,g)=>{const T=i.get(g);if(!T)return;d.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,g))));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(fn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),i=i.insert(g,I),(function(P,O,B){return P.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=U4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,I,y)&&d.push(n.Pi.updateTargetData(a,I))}));let f=ai(),p=We();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(H4(a,c,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!r.isEqual(Le.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return se.waitFor(d).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function H4(t,e,n){let r=We(),i=We();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=ai();return n.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Ee(cy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:c,qs:i}}))}function W4(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G4(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,se.resolve(i)):n.Pi.allocateTargetId(r).next((c=>(i=new Yi(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pg(t,e,n){const r=Ue(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Pl(c))throw c;Ee(cy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function W0(t,e,n){const r=Ue(t);let i=Le.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,y){const g=Ue(f),T=g.xs.get(y);return T!==void 0?se.resolve(g.Ms.get(T)):g.Pi.getTargetData(p,y)})(r,c,xs(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:Le.min(),n?a:We()))).next((d=>(K4(r,VO(e),d),{documents:d,Qs:a})))))}function K4(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class G0{constructor(){this.activeTargetIds=zO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q4{constructor(){this.Mo=new G0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(K0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(K0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd=null;function mg(){return Qd===null?Qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qd++,"0x"+Qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",X4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const c=mg(),d=this.zo(e,n.toUriEncodedString());Ee(Am,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(d),y=go(p);return this.Jo(e,d,f,r,y).then((g=>(Ee(Am,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw vl(Am,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,i,a,c){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=X4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class eV extends J4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const c=mg();return new Promise(((d,f)=>{const p=new Ix;p.setWithCredentials(!0),p.listenOnce(Sx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case sh.NO_ERROR:const g=p.getResponseJson();Ee(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case sh.TIMEOUT:Ee(_n,`RPC '${e}' ${c} timed out`),f(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const T=p.getStatus();if(Ee(_n,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I?.error;if(R&&R.status&&R.message){const P=(function(B){const J=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(J)>=0?J:ne.UNKNOWN})(R.status);f(new ve(P,R.message))}else f(new ve(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ee(_n,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(i);Ee(_n,`RPC '${e}' ${c} sending request:`,i),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=mg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Rx(),d=Cx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");Ee(_n,`Creating RPC '${e}' stream ${i}: ${y}`,f);const g=c.createWebChannel(y,f);this.I_(g);let T=!1,I=!1;const R=new Z4({Yo:O=>{I?Ee(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(T||(Ee(_n,`Opening RPC '${e}' stream ${i} transport.`),g.open(),T=!0),Ee(_n,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Zo:()=>g.close()}),P=(O,B,J)=>{O.listen(B,(H=>{try{J(H)}catch(X){setTimeout((()=>{throw X}),0)}}))};return P(g,Nc.EventType.OPEN,(()=>{I||(Ee(_n,`RPC '${e}' stream ${i} transport opened.`),R.o_())})),P(g,Nc.EventType.CLOSE,(()=>{I||(I=!0,Ee(_n,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(g))})),P(g,Nc.EventType.ERROR,(O=>{I||(I=!0,vl(_n,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),R.a_(new ve(ne.UNAVAILABLE,"The operation could not be completed")))})),P(g,Nc.EventType.MESSAGE,(O=>{if(!I){const B=O.data[0];Xe(!!B,16349);const J=B,H=J?.error||J[0]?.error;if(H){Ee(_n,`RPC '${e}' stream ${i} received error:`,H);const X=H.status;let re=(function(b){const M=Lt[b];if(M!==void 0)return fb(M)})(X),Y=H.message;re===void 0&&(re=ne.INTERNAL,Y="Unknown error status: "+X+" with message "+H.message),I=!0,R.a_(new ve(re,Y)),g.close()}else Ee(_n,`RPC '${e}' stream ${i} received:`,B),R.u_(B)}})),P(d,Ax.STAT_EVENT,(O=>{O.stat===sg.PROXY?Ee(_n,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===sg.NOPROXY&&Ee(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new s4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class Cb{constructor(e,n,r,i,a,c,d,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tV extends Cb{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?hr(c.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fg(this.serializer),n.addTarget=(function(a,c){let d;const f=c.target;if(d=cg(f)?{documents:u4(a,f)}:{query:d4(a,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=gb(a,c.resumeToken);const p=dg(a,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Le.min())>0){d.readTime=Ch(a,c.snapshotVersion.toTimestamp());const p=dg(a,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=f4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.q_(n)}}class nV extends Cb{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c4(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_b(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{}class sV extends rV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,hg(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,hg(n,r),i,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class oV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{fa(this)&&(Ee(ta,"Restarting streams for network reachability change."),await(async function(f){const p=Ue(f);p.Ea.add(4),await vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await vf(p)})(this))}))})),this.Ra=new iV(r,i)}}async function vf(t){if(fa(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function Rb(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),py(n)?fy(n):Nl(n).O_()&&hy(n,e))}function dy(t,e){const n=Ue(t),r=Nl(n);n.Ia.delete(e),r.O_()&&Pb(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function hy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Y_(e)}function Pb(t,e){t.Va.Ue(e),Nl(t).Z_(e)}function fy(t){t.Va=new e4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Ra.ua()}function py(t){return fa(t)&&!Nl(t).x_()&&t.Ia.size>0}function fa(t){return Ue(t).Ea.size===0}function kb(t){t.Va=void 0}async function aV(t){t.Ra.set("Online")}async function lV(t){t.Ia.forEach(((e,n)=>{hy(t,e)}))}async function cV(t,e){kb(t),py(t)?(t.Ra.ha(e),fy(t)):t.Ra.set("Unknown")}async function uV(t,e,n){if(t.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ia.delete(d),i.Va.removeTarget(d))})(t,e)}catch(r){Ee(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof lh?t.Va.Ze(e):e instanceof pb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await Ab(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const d=a.Va.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),Pb(a,f);const g=new Yi(y.target,f,p,y.sequenceNumber);hy(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee(ta,"Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!Pl(e))throw e;t.Ea.add(1),await vu(t),t.Ra.set("Offline"),n||(n=()=>Ab(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(ta,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vf(t)}))}function Nb(t,e){return e().catch((n=>kh(t,n,e)))}async function wf(t){const e=Ue(t),n=ho(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xg;for(;dV(e);)try{const i=await W4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,hV(e,i)}catch(i){await kh(e,i)}Db(e)&&Mb(e)}function dV(t){return fa(t)&&t.Ta.length<10}function hV(t,e){t.Ta.push(e);const n=ho(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Db(t){return fa(t)&&!ho(t).x_()&&t.Ta.length>0}function Mb(t){ho(t).start()}async function fV(t){ho(t).ra()}async function pV(t){const e=ho(t);for(const n of t.Ta)e.ea(n.mutations)}async function mV(t,e,n){const r=t.Ta.shift(),i=ry.from(r,e,n);await Nb(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wf(t)}async function gV(t,e){e&&ho(t).X_&&await(async function(r,i){if((function(c){return hb(c)&&c!==ne.ABORTED})(i.code)){const a=r.Ta.shift();ho(r).B_(),await Nb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await wf(r)}})(t,e),Db(t)&&Mb(t)}async function X0(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee(ta,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function yV(t,e){const n=Ue(t);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Nl(t){return t.ma||(t.ma=(function(n,r,i){const a=Ue(n);return a.sa(),new tV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:aV.bind(null,t),t_:lV.bind(null,t),r_:cV.bind(null,t),H_:uV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),py(t)?fy(t):t.Ra.set("Unknown")):(await t.ma.stop(),kb(t))}))),t.ma}function ho(t){return t.fa||(t.fa=(function(n,r,i){const a=Ue(n);return a.sa(),new nV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fV.bind(null,t),r_:gV.bind(null,t),ta:pV.bind(null,t),na:mV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(ta,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,d=new my(e,n,c,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Pl(t))return new ve(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.ga=new bt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xl{constructor(e,n,r,i,a,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new xl(e,n,hl.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wV{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=Z0(),a.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function Z0(){return new ha((t=>Xx(t)),hf)}async function yy(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new vV,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=gy(c,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&wy(n)}async function vy(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _V(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const d of c.Sa)d.Fa(i)&&(r=!0);c.wa=i}}r&&wy(n)}function EV(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function wy(t){t.Ca.forEach((e=>{e.next()}))}var gg,eE;(eE=gg||(gg={})).Ma="default",eE.Cache="cache";class _y{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class TV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=Jx(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new J0,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,g)=>{const T=i.get(y),I=ff(this.query,g)?g:null,R=!!T&&this.mutatedKeys.has(T.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let O=!1;T&&I?T.data.isEqual(I.data)?R!==P&&(r.track({type:3,doc:I}),O=!0):this.su(T,I)||(r.track({type:2,doc:I}),O=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(d=!0)):!T&&I?(r.track({type:0,doc:I}),O=!0):T&&!I&&(r.track({type:1,doc:T}),O=!0,(f||p)&&(d=!0)),O&&(I?(c=c.add(I),a=P?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,g)=>(function(I,R){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:O})}};return P(I)-P(R)})(y.type,g.type)||this.eu(y.doc,g.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,c.length!==0||p?{snapshot:new xl(this.query,e.tu,a,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Vb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Ob(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ey="SyncEngine";class xV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bV{constructor(e){this.key=e,this.hu=!1}}class IV{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ha((d=>Xx(d)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ke.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SV(t,e,n=!0){const r=zb(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Lb(r,e,n,!0),i}async function AV(t,e){const n=zb(t);await Lb(n,e,!0,!1)}async function Lb(t,e,n,r){const i=await G4(t.localStore,xs(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await CV(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rb(t.remoteStore,i),d}async function CV(t,e,n,r,i){t.pu=(g,T,I)=>(async function(P,O,B,J){let H=O.view.ru(B);H.Cs&&(H=await W0(P.localStore,O.query,!1).then((({documents:A})=>O.view.ru(A,H))));const X=J&&J.targetChanges.get(O.targetId),re=J&&J.targetMismatches.get(O.targetId)!=null,Y=O.view.applyChanges(H,P.isPrimaryClient,X,re);return nE(P,O.targetId,Y.au),Y.snapshot})(t,g,T,I);const a=await W0(t.localStore,e,!0),c=new TV(e,a.Qs),d=c.ru(a.documents),f=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(d,t.isPrimaryClient,f);nE(t,n,p.au);const y=new xV(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function RV(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((c=>!hf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dy(r.remoteStore,i.targetId),yg(r,i.targetId)})).catch(Rl)):(yg(r,i.targetId),await pg(r.localStore,i.targetId,!0))}async function PV(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function kV(t,e,n){const r=jV(t);try{const i=await(function(c,d){const f=Ue(c),p=rt.now(),y=d.reduce(((I,R)=>I.add(R.key)),We());let g,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let R=ai(),P=We();return f.Ns.getEntries(I,y).next((O=>{R=O,R.forEach(((B,J)=>{J.isValidDocument()||(P=P.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,R))).next((O=>{g=O;const B=[];for(const J of d){const H=KO(J,g.get(J.key).overlayedDocument);H!=null&&B.push(new wo(J.key,H,$x(H.value.mapValue),Ft.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,B,d)})).next((O=>{T=O;const B=O.applyToLocalDocumentSet(g,P);return f.documentOverlayCache.saveOverlays(I,O.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:eb(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let p=c.Vu[c.currentUser.toKey()];p||(p=new bt(He)),p=p.insert(d,f),c.Vu[c.currentUser.toKey()]=p})(r,i.batchId,n),await wu(r,i.changes),await wf(r.remoteStore)}catch(i){const a=gy(i,"Failed to persist write");n.reject(a)}}async function jb(t,e){const n=Ue(t);try{const r=await q4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Au.get(a);c&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Xe(c.hu,14607):i.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await wu(n,r,e)}catch(r){await Rl(r)}}function tE(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Ue(c);f.onlineState=d;let p=!1;f.queries.forEach(((y,g)=>{for(const T of g.Sa)T.va(d)&&(p=!0)})),p&&wy(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NV(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new bt(ke.comparator);c=c.insert(a,en.newNoDocument(a,Le.min()));const d=We().add(a),f=new gf(Le.min(),new Map,new bt(He),c,d);await jb(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ty(r)}else await pg(r.localStore,e,!1).then((()=>yg(r,e,n))).catch(Rl)}async function DV(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await $4(n.localStore,e);Ub(n,r,null),Fb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,i)}catch(i){await Rl(i)}}async function MV(t,e,n){const r=Ue(t);try{const i=await(function(c,d){const f=Ue(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next((g=>(Xe(g!==null,37113),y=g.keys(),f.mutationQueue.removeMutationBatch(p,g)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);Ub(r,e,n),Fb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,i)}catch(i){await Rl(i)}}function Fb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ub(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Bb(t,r)}))}function Bb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ty(t))}function nE(t,e,n){for(const r of n)r instanceof Ob?(t.Ru.addReference(r.key,e),OV(t,r)):r instanceof Vb?(Ee(Ey,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Bb(t,r.key)):Ne(19791,{wu:r})}function OV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(Ey,"New document in limbo: "+n),t.Eu.add(r),Ty(t))}function Ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(lt.fromString(e)),r=t.fu.next();t.Au.set(r,new bV(n)),t.du=t.du.insert(n,r),Rb(t.remoteStore,new Yi(xs(df(n.path)),r,"TargetPurposeLimboResolution",cf.ce))}}async function wu(t,e,n){const r=Ue(t),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=ly.As(f.targetId,p);a.push(y)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(f,p){const y=Ue(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>se.forEach(p,(T=>se.forEach(T.Es,(I=>y.persistence.referenceDelegate.addReference(g,T.targetId,I))).next((()=>se.forEach(T.ds,(I=>y.persistence.referenceDelegate.removeReference(g,T.targetId,I)))))))))}catch(g){if(!Pl(g))throw g;Ee(cy,"Failed to update sequence numbers: "+g)}for(const g of p){const T=g.targetId;if(!g.fromCache){const I=y.Ms.get(T),R=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(T,P)}}})(r.localStore,a))}async function VV(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee(Ey,"User change. New user:",e.toKey());const r=await Sb(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ve(ne.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.Ls)}}function LV(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let i=We();const a=n.Iu.get(e);if(!a)return i;for(const c of a){const d=n.Tu.get(c);i=i.unionWith(d.view.nu)}return i}}function zb(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NV.bind(null,e),e.Pu.H_=_V.bind(null,e.eventManager),e.Pu.yu=EV.bind(null,e.eventManager),e}function jV(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MV.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z4(this.persistence,new F4,e.initialUser,this.serializer)}Cu(e){return new Ib(ay.mi,this.serializer)}Du(e){return new Q4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class FV extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new b4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Ib((r=>Ph.mi(r,n)),this.serializer)}}class vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await yV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wV})()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=(function(a){return new eV(a)})(e.databaseInfo);return(function(a,c,d,f){return new sV(a,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,d){return new oV(r,i,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>tE(this.syncEngine,n,0)),(function(){return Q0.v()?new Q0:new Y4})())}createSyncEngine(e,n){return(function(i,a,c,d,f,p,y){const g=new IV(i,a,c,d,f,p);return y&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ue(n);Ee(ta,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ve(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const c=Ue(i),d={documents:a.map((g=>Rh(c.serializer,g)))},f=await c.Ho("BatchGetDocuments",c.serializer.databaseId,lt.emptyPath(),d,a.length),p=new Map;f.forEach((g=>{const T=a4(c.serializer,g);p.set(T.key.toString(),T)}));const y=[];return a.forEach((g=>{const T=p.get(g.toString());Xe(!!T,55234,{key:g}),y.push(T)})),y})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ke.fromPath(r);this.mutations.push(new db(i,this.precondition(i)))})),await(async function(r,i){const a=Ue(r),c={writes:i.map((d=>_b(a.serializer,d)))};await a.Go("Commit",a.serializer.databaseId,lt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Gu:e.constructor.name});n=Le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ve(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Le.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Le.min()))throw new ve(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new uy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new UV(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!pu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!hb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class zV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=Yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{Ee(fo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee(fo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(fo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Sb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $V(t);Ee(fo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>X0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>X0(e.remoteStore,i))),t._onlineComponents=e}async function $V(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(fo,"Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new Nh)}}else Ee(fo,"Using default OfflineComponentProvider"),await Rm(t,new FV(void 0));return t._offlineComponents}async function by(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(fo,"Using user provided OnlineComponentProvider"),await rE(t,t._uninitializedComponentsProvider._online)):(Ee(fo,"Using default OnlineComponentProvider"),await rE(t,new vg))),t._onlineComponents}function qV(t){return by(t).then((e=>e.syncEngine))}function HV(t){return by(t).then((e=>e.datastore))}async function Dh(t){const e=await by(t),n=e.eventManager;return n.onListen=SV.bind(null,e.syncEngine),n.onUnlisten=RV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PV.bind(null,e.syncEngine),n}function WV(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,f,p){const y=new xy({next:T=>{y.Nu(),c.enqueueAndForget((()=>vy(a,g)));const I=T.docs.has(d);!I&&T.fromCache?p.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&f&&f.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new _y(df(d.path),y,{includeMetadataChanges:!0,qa:!0});return yy(a,g)})(await Dh(t),t.asyncQueue,e,n,r))),r.promise}function GV(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,f,p){const y=new xy({next:T=>{y.Nu(),c.enqueueAndForget((()=>vy(a,g))),T.fromCache&&f.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new _y(d,y,{includeMetadataChanges:!0,qa:!0});return yy(a,g)})(await Dh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firestore.googleapis.com",iE=!0;class oE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=iE}else this.host=e.host,this.ssl=e.ssl??iE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T4)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$b(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JM;switch(r.type){case"firstParty":return new nO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sE.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())})(this),Promise.resolve()}}function KV(t,e,n,r={}){t=xn(t,_f);const i=go(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(Wg(`https://${d}`),Gg("Firestore",!0)),a.host!==qb&&a.host!==d&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:i,emulatorOptions:r};if(!oo(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Tn.MOCK_USER;else{p=px(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(g)}t._authCredentials=new ZM(new kx(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fu(n,xt._jsonSchema))return new xt(e,r||null,new ke(lt.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ut("string",xt._jsonSchemaVersion),referencePath:Ut("string")};class to extends ui{constructor(e,n,r){super(e,n,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ke(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function at(t,e,...n){if(t=Je(t),Nx("collection","path",e),t instanceof _f){const r=lt.fromString(e,...n);return w0(r),new to(t,null,r)}{if(!(t instanceof xt||t instanceof to))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return w0(r),new to(t.firestore,null,r)}}function Ke(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Yg.newId()),Nx("doc","path",e),t instanceof _f){const r=lt.fromString(e,...n);return v0(r),new xt(t,null,new ke(r))}{if(!(t instanceof xt||t instanceof to))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return v0(r),new xt(t.firestore,t instanceof to?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uy(this,"async_queue_retry"),this._c=()=>{const r=Cm();r&&Ee(aE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;Ee(aE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",cE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=my.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Gr extends _f{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function QV(t,e){const n=typeof t=="object"?t:af(),r=typeof t=="string"?t:bh,i=yo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=dx("firestore");a&&KV(i,...a)}return i}function Dl(t){if(t._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YV(t),t._firestoreClient}function YV(t){const e=t._freezeSettings(),n=(function(i,a,c,d){return new _O(i,a,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$b(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(fn.fromBase64String(e))}catch(n){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Ut("string",lr._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(fu(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Ut("string",bs._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Is(e.vectorValues);throw new ve(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Ut("string",Is._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=/^__.*__$/;class JV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class Hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class Iy{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wb(this.Ac)&&XV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Cc(e,n,r,i=!1){return new Iy({Ac:e,methodName:n,Dc:r,path:dn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ol(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new ZV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ef(t,e,n,r,i,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",c,r);const d=Gb(r,c);let f,p;if(a.merge)f=new cr(c.fieldMask),p=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const T=wg(e,g,n);if(!c.contains(T))throw new ve(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Qb(y,T)||y.push(T)}f=new cr(y),p=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,p=c.fieldTransforms;return new JV(new Nn(d),f,p)}class Tf extends _u{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}class Sy extends _u{_toFieldTransform(e){return new lb(e.path,new tu)}isEqual(e){return e instanceof Sy}}class Ay extends _u{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new su(e.serializer,rb(e.serializer,this.Fc));return new lb(e.path,n)}isEqual(e){return e instanceof Ay&&this.Fc===e.Fc}}function Cy(t,e,n,r){const i=t.Cc(1,e,n);Py("Data must be an object, but it was:",i,r);const a=[],c=Nn.empty();vo(r,((f,p)=>{const y=ky(e,f,n);p=Je(p);const g=i.yc(y);if(p instanceof Tf)a.push(y);else{const T=Eu(p,g);T!=null&&(a.push(y),c.set(y,T))}}));const d=new cr(a);return new Hb(c,d,i.fieldTransforms)}function Ry(t,e,n,r,i,a){const c=t.Cc(1,e,n),d=[wg(e,r,n)],f=[i];if(a.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(wg(e,a[T])),f.push(a[T+1]);const p=[],y=Nn.empty();for(let T=d.length-1;T>=0;--T)if(!Qb(p,d[T])){const I=d[T];let R=f[T];R=Je(R);const P=c.yc(I);if(R instanceof Tf)p.push(I);else{const O=Eu(R,P);O!=null&&(p.push(I),y.set(I,O))}}const g=new cr(p);return new Hb(y,g,c.fieldTransforms)}function eL(t,e,n,r=!1){return Eu(n,t.Cc(r?4:3,e))}function Eu(t,e){if(Kb(t=Je(t)))return Py("Unsupported field value:",e,t),Gb(t,e);if(t instanceof _u)return(function(r,i){if(!Wb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const d of r){let f=Eu(d,i.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:Ch(i.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,a)}}if(r instanceof bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lr)return{bytesValue:gb(i.serializer,r._byteString)};if(r instanceof xt){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Is)return(function(c,d){return{mapValue:{fields:{[Bx]:{stringValue:zx},[Ih]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return ny(d.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${lf(r)}`)})(t,e)}function Gb(t,e){const n={};return Ox(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,((r,i)=>{const a=Eu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Kb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof bs||t instanceof lr||t instanceof xt||t instanceof _u||t instanceof Is)}function Py(t,e,n){if(!Kb(n)||!Dx(n)){const r=lf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function wg(t,e,n){if((e=Je(e))instanceof Ml)return e._internalPath;if(typeof e=="string")return ky(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const tL=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(tL)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ml(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new ve(ne.INVALID_ARGUMENT,d+t+f)}function Qb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nL extends Oh{data(){return super.data()}}function xf(t,e){return typeof e=="string"?ky(t,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class Dy extends Ny{}function cn(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((f=>f instanceof My)).length,d=a.filter((f=>f instanceof bf)).length;if(c>1||c>0&&d>0)throw new ve(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class bf extends Dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return Xb(e._query,n),new ui(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=Ol(e.firestore);return(function(a,c,d,f,p,y,g){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hE(g,y);const R=[];for(const P of g)R.push(dE(f,a,P));T={arrayValue:{values:R}}}else T=dE(f,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hE(g,y),T=eL(d,c,g,y==="in"||y==="not-in");return jt.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ct(t,e,n){const r=e,i=xf("where",t);return bf._create(i,r,n)}class My extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new My(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let c=i;const d=a.getFlattenedFilters();for(const f of d)Xb(c,f),c=ug(c,f)})(e._query,n),new ui(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Oy extends Dy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Oy(e,n)}_apply(e){const n=(function(i,a,c){if(i.startAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(a,c)})(e._query,this._field,this._direction);return new ui(e.firestore,e.converter,(function(i,a){const c=i.explicitOrderBy.concat([a]);return new kl(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Js(t,e="asc"){const n=e,r=xf("orderBy",t);return Oy._create(r,n)}class Vy extends Dy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Vy(e,n,r)}_apply(e){return new ui(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function Ly(t){return cO("limit",t),Vy._create("limit",t,"F")}function dE(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(e)&&n.indexOf("/")!==-1)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A0(t,new ke(r))}if(n instanceof xt)return A0(t,n._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function hE(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xb(t,e){const n=(function(i,a){for(const c of i)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Jb{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new Is(n)}convertGeoPoint(e){return new bs(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=lo(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Xe(xb(r),9688,{name:e});const i=new Jc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||oi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rL extends Jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class no extends Oh{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=no._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:Ut("string",no._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class ch extends no{data(e={}){return super.data(e)}}class Xo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ch(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new ch(i._firestore,i._userDataWriter,d.doc.key,d.doc,new al(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new ch(i._firestore,i._userDataWriter,d.doc.key,d.doc,new al(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:sL(d.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){t=xn(t,xt);const e=xn(t.firestore,Gr);return WV(Dl(e),t._key).then((n=>Zb(e,t,n)))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Ut("string",Xo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Sf extends Jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function Wt(t){t=xn(t,ui);const e=xn(t.firestore,Gr),n=Dl(e),r=new Sf(e);return Yb(t._query),GV(n,t._query).then((i=>new Xo(e,r,t,i)))}function iL(t,e,n){t=xn(t,xt);const r=xn(t.firestore,Gr),i=If(t.converter,e,n);return Tu(r,[Ef(Ol(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function hn(t,e,n,...r){t=xn(t,xt);const i=xn(t.firestore,Gr),a=Ol(i);let c;return c=typeof(e=Je(e))=="string"||e instanceof Ml?Ry(a,"updateDoc",t._key,e,n,r):Cy(a,"updateDoc",t._key,e),Tu(i,[c.toMutation(t._key,Ft.exists(!0))])}function po(t){return Tu(xn(t.firestore,Gr),[new gu(t._key,Ft.none())])}function mo(t,e){const n=xn(t.firestore,Gr),r=Ke(t),i=If(t.converter,e);return Tu(n,[Ef(Ol(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ft.exists(!1))]).then((()=>r))}function fE(t,...e){t=Je(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,c,d;if(t instanceof xt)c=xn(t.firestore,Gr),d=df(t._key.path),a={next:f=>{e[r]&&e[r](Zb(c,t,f))},error:e[r+1],complete:e[r+2]};else{const f=xn(t,ui);c=xn(f.firestore,Gr),d=f._query;const p=new Sf(c);a={next:y=>{e[r]&&e[r](new Xo(c,p,f,y))},error:e[r+1],complete:e[r+2]},Yb(t._query)}return(function(p,y,g,T){const I=new xy(T),R=new _y(y,I,g);return p.asyncQueue.enqueueAndForget((async()=>yy(await Dh(p),R))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>vy(await Dh(p),R)))}})(Dl(c),d,i,a)}function Tu(t,e){return(function(r,i){const a=new Ts;return r.asyncQueue.enqueueAndForget((async()=>kV(await qV(r),i,a))),a.promise})(Dl(t),e)}function Zb(t,e,n){const r=n.docs.get(e._key),i=new Sf(t);return new no(t,i,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ol(e)}set(e,n,r){this._verifyNotCommitted();const i=Xi(e,this._firestore),a=If(i.converter,n,r),c=Ef(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Xi(e,this._firestore);let c;return c=typeof(n=Je(n))=="string"||n instanceof Ml?Ry(this._dataReader,"WriteBatch.update",a._key,n,r,i):Cy(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xi(e,this._firestore);return this._mutations=this._mutations.concat(new gu(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xi(t,e){if((t=Je(t)).firestore!==e)throw new ve(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ol(e)}get(e){const n=Xi(e,this._firestore),r=new rL(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Ne(24041);const a=i[0];if(a.isFoundDocument())return new Oh(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Oh(this._firestore,r,n._key,null,n.converter);throw Ne(18433,{doc:a})}))}set(e,n,r){const i=Xi(e,this._firestore),a=If(i.converter,n,r),c=Ef(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,n,r,...i){const a=Xi(e,this._firestore);let c;return c=typeof(n=Je(n))=="string"||n instanceof Ml?Ry(this._dataReader,"Transaction.update",a._key,n,r,i):Cy(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,c),this}delete(e){const n=Xi(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends lL{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Xi(e,this._firestore),r=new Sf(this._firestore);return super.get(e).then((i=>new no(this._firestore,r,n._key,i._document,new al(!1,!1),n.converter)))}}function uL(t,e,n){t=xn(t,Gr);const r={...oL,...n};return(function(a){if(a.maxAttempts<1)throw new ve(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,c,d){const f=new Ts;return a.asyncQueue.enqueueAndForget((async()=>{const p=await HV(a);new BV(a.asyncQueue,p,d,c,f).ju()})),f.promise})(Dl(t),(i=>e(new cL(t,i))),r)}function dt(){return new Sy("serverTimestamp")}function Vh(t){return new Ay("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return Dl(t=xn(t,Gr)),new aL(t,(e=>Tu(t,e)))}(function(e,n=!0){(function(i){Cl=i})(da),Hr(new Sr("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new Gr(new eO(r.getProvider("auth-internal")),new rO(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(p.options.projectId,y)})(c,i),c);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Wn(p0,m0,e),Wn(p0,m0,"esm2020")})();var dL="firebase",hL="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(dL,hL,"app");function eI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fL=eI,tI=new ua("auth","Firebase",eI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new of("@firebase/auth");function pL(t,...e){Lh.logLevel<=qe.WARN&&Lh.warn(`Auth (${da}): ${t}`,...e)}function uh(t,...e){Lh.logLevel<=qe.ERROR&&Lh.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,...e){throw jy(t,...e)}function Ss(t,...e){return jy(t,...e)}function nI(t,e,n){const r={...fL(),[e]:n};return new ua("auth","Firebase",r).create(e,{appName:t.name})}function ei(t){return nI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tI.create(t,...e)}function je(t,e,...n){if(!t)throw jy(e,...n)}function Ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function li(t,e){t||Ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function mL(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||mx()||"connection"in navigator)?navigator.onLine:!0}function yL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=AD()||PD()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_L=new xu(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qr(t,e,n,r,i={}){return sI(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=hu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return RD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&go(t.emulatorConfig.host)&&(p.credentials="include"),rI.fetch()(await iI(t,t.config.apiHost,n,d),p)})}async function sI(t,e,n){t._canInitEmulator=!1;const r={...vL,...e};try{const i=new TL(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Yd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Yd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Yd(t,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nI(t,y,p);Kr(t,y)}}catch(i){if(i instanceof Ar)throw i;Kr(t,"network-request-failed",{message:String(i)})}}async function bu(t,e,n,r,i={}){const a=await Qr(t,e,n,r,i);return"mfaPendingCredential"in a&&Kr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function iI(t,e,n,r){const i=`${e}${n}?${r}`,a=t,c=a.config.emulator?Fy(t.config,i):`${t.config.apiScheme}://${i}`;return wL.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function EL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ss(this.auth,"network-request-failed")),_L.get())})}}function Yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ss(t,e,r);return i.customData._tokenResponse=n,i}function mE(t){return t!==void 0&&t.enterprise!==void 0}class xL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bL(t,e){return Qr(t,"GET","/v2/recaptchaConfig",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function jh(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SL(t,e=!1){const n=Je(t),r=await n.getIdToken(e),i=Uy(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:Bc(Pm(i.auth_time)),issuedAtTime:Bc(Pm(i.iat)),expirationTime:Bc(Pm(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Pm(t){return Number(t)*1e3}function Uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=cx(n);return i?JSON.parse(i):(uh("Failed to decode base64 JWT payload"),null)}catch(i){return uh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gE(t){const e=Uy(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&AL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){const e=t.auth,n=await t.getIdToken(),r=await na(t,jh(e,{idToken:n}));je(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?oI(i.providerUserInfo):[],c=PL(t.providerData,a),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,p=d?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function RL(t){const e=Je(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){const n=await sI(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=await iI(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&go(t.emulatorConfig.host)&&(f.credentials="include"),rI.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NL(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await kL(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new fl;return r&&(je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(je(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new CL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Eg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await na(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SL(this,e)}reload(){return RL(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await na(this,IL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:g,emailVerified:T,isAnonymous:I,providerData:R,stsTokenManager:P}=n;je(g&&P,e,"internal-error");const O=fl.fromJSON(this.name,P);je(typeof g=="string",e,"internal-error"),Bi(r,e.name),Bi(i,e.name),je(typeof T=="boolean",e,"internal-error"),je(typeof I=="boolean",e,"internal-error"),Bi(a,e.name),Bi(c,e.name),Bi(d,e.name),Bi(f,e.name),Bi(p,e.name),Bi(y,e.name);const B=new zr({uid:g,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:a,tenantId:d,stsTokenManager:O,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(B.providerData=R.map(J=>({...J}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,r=!1){const i=new fl;i.updateFromServerResponse(n);const a=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?oI(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,d=new fl;d.updateFromIdToken(r);const f=new zr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function Xs(t){li(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aI.type="NONE";const vE=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,a),this.fullPersistenceKey=dh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Xs(vE),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Xs(vE);const c=dh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let g;if(typeof y=="string"){const T=await jh(e,{idToken:y}).catch(()=>{});if(!T)break;g=await zr._fromGetAccountInfoResponse(e,T,y)}else g=zr._fromJSON(e,y);p!==a&&(d=g),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new pl(a,e,r):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(c)}catch{}})),new pl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fI(e))return"Blackberry";if(pI(e))return"Webos";if(cI(e))return"Safari";if((e.includes("chrome/")||uI(e))&&!e.includes("edge/"))return"Chrome";if(hI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lI(t=bn()){return/firefox\//i.test(t)}function cI(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uI(t=bn()){return/crios\//i.test(t)}function dI(t=bn()){return/iemobile/i.test(t)}function hI(t=bn()){return/android/i.test(t)}function fI(t=bn()){return/blackberry/i.test(t)}function pI(t=bn()){return/webos/i.test(t)}function By(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DL(t=bn()){return By(t)&&!!window.navigator?.standalone}function ML(){return kD()&&document.documentMode===10}function mI(t=bn()){return By(t)||hI(t)||pI(t)||fI(t)||/windows phone/i.test(t)||dI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e=[]){let n;switch(t){case"Browser":n=wE(bn());break;case"Worker":n=`${wE(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=6;class jL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new OL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(ei(this));const n=e?Je(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VL(this),n=new jL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xs(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _o(t){return Je(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=jD(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(t){Af=t}function yI(t){return Af.loadJS(t)}function BL(){return Af.recaptchaEnterpriseScript}function zL(){return Af.gapiScript}function $L(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qL{constructor(){this.enterprise=new HL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WL="recaptcha-enterprise",vI="NO_RECAPTCHA";class GL{constructor(e){this.type=WL,this.auth=_o(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{bL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new xL(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}}).catch(f=>{d(f)})})}function i(a,c,d){const f=window.grecaptcha;mE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{c(p)}).catch(()=>{c(vI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qL().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(d=>{if(!n&&mE(window.grecaptcha))i(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=BL();f.length!==0&&(f+=d),yI(f).then(()=>{i(d,a,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function EE(t,e,n,r=!1,i=!1){const a=new GL(t);let c;if(i)c=vI;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Uh(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await EE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await EE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e){const n=yo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(oo(a,e??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:e})}function QL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function YL(t,e,n){const r=_o(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=wI(e),{host:c,port:d}=XL(e),f=d===null?"":`:${d}`,p={url:`${a}//${c}${f}/`},y=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(oo(p,r.config.emulator)&&oo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,go(c)?(Wg(`${a}//${c}${f}`),Gg("Auth",!0)):JL()}function wI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XL(t){const e=wI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:TE(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:TE(c)}}}function TE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,n){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function ZL(t,e){return Qr(t,"POST","/v1/accounts:update",e)}async function e3(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e){return bu(t,"POST","/v1/accounts:signInWithPassword",di(t,e))}async function n3(t,e){return Qr(t,"POST","/v1/accounts:sendOobCode",di(t,e))}async function r3(t,e){return n3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}async function i3(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends zy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,n,"signInWithPassword",t3);case"emailLink":return s3(e,{email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,r,"signUpPassword",e3);case"emailLink":return i3(e,{idToken:n,email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return bu(t,"POST","/v1/accounts:signInWithIdp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="http://localhost";class ra extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const c=new ra(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:o3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l3(t){const e=Pc(kc(t)).link,n=e?Pc(kc(e)).deep_link_id:null,r=Pc(kc(t)).deep_link_id;return(r?Pc(kc(r)).link:null)||r||n||e||t}class $y{constructor(e){const n=Pc(kc(e)),r=n.apiKey??null,i=n.oobCode??null,a=a3(n.mode??null);je(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=l3(e);try{return new $y(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$y.parseLink(n);return je(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends _I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Iu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Iu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Iu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return bu(t,"POST","/v1/accounts:signUp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await zr._fromIdTokenResponse(e,r,i),c=xE(r);return new sa({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xE(r);return new sa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Ar{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bh(e,n,r,i)}}function EI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(t,a,e,r):a})}async function u3(t,e,n=!1){const r=await na(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(ei(r));const i="reauthenticate";try{const a=await na(t,EI(r,i,e,t),n);je(a.idToken,r,"internal-error");const c=Uy(a.idToken);je(c,r,"internal-error");const{sub:d}=c;return je(t.uid===d,r,"user-mismatch"),sa._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Kr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t,e,n=!1){if(ar(t.app))return Promise.reject(ei(t));const r="signIn",i=await EI(t,r,e),a=await sa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function d3(t,e){return xI(_o(t),e)}async function h3(t,e){return TI(Je(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t){const e=_o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f3(t,e,n){const r=_o(t);await Uh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r3)}async function p3(t,e,n){if(ar(t.app))return Promise.reject(ei(t));const r=_o(t),c=await Uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c3).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&bI(t),f}),d=await sa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function m3(t,e,n){return ar(t.app)?Promise.reject(ei(t)):d3(Je(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return Qr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Je(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await na(r,g3(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function y3(t,e){return v3(Je(t),null,e)}async function v3(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await na(t,ZL(r,a));await t._updateTokensIfNecessary(c,!0)}function w3(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function _3(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function E3(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function T3(t){return Je(t).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=1e3,b3=10;class SI extends II{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);ML()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,b3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const I3=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends II{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AI.type="SESSION";const CI=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async p=>p(n.origin,a)),f=await S3(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const p=qy("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const T=g;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function C3(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function R3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){return navigator?.serviceWorker?.controller||null}function k3(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebaseLocalStorageDb",N3=1,$h="firebaseLocalStorage",kI="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rf(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function D3(){const t=indexedDB.deleteDatabase(PI);return new Su(t).toPromise()}function Tg(){const t=indexedDB.open(PI,N3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:kI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await D3(),e(await Tg()))})})}async function IE(t,e,n){const r=Rf(t,!0).put({[kI]:e,value:n});return new Su(r).toPromise()}async function M3(t,e){const n=Rf(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=Rf(t,!0).delete(e);return new Su(n).toPromise()}const O3=800,V3=3;class NI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R3(),!this.activeServiceWorker)return;this.sender=new A3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await IE(e,zh,"1"),await SE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rf(i,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NI.type="LOCAL";const L3=NI;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){return e?Xs(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F3(t){return xI(t.auth,new Hy(t),t.bypassAuthState)}function U3(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),TI(n,new Hy(t),t.bypassAuthState)}async function B3(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),u3(n,new Hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return B3;case"reauthViaPopup":case"reauthViaRedirect":return U3;default:Kr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new xu(2e3,1e4);class ll extends DI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z3.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="pendingRedirect",hh=new Map;class q3 extends DI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await H3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H3(t,e){const n=K3(e),r=G3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W3(t,e){hh.set(t._key(),e)}function G3(t){return Xs(t._redirectPersistence)}function K3(t){return dh($3,t.config.apiKey,t.name)}async function Q3(t,e,n=!1){if(ar(t.app))return Promise.reject(ei(t));const r=_o(t),i=j3(r,e),c=await new q3(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=600*1e3;class X3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ss(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function J3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t5=/^https?/;async function n5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z3(t);for(const n of e)try{if(r5(n))return}catch{}Kr(t,"unauthorized-domain")}function r5(t){const e=_g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!t5.test(n))return!1;if(e5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new xu(3e4,6e4);function CE(){const t=As().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i5(t){return new Promise((e,n)=>{function r(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(Ss(t,"network-request-failed"))},timeout:s5.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)r();else{const i=$L("iframefcb");return As()[i]=()=>{gapi.load?r():n(Ss(t,"network-request-failed"))},yI(`${zL()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw fh=null,e})}let fh=null;function o5(t){return fh=fh||i5(t),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new xu(5e3,15e3),l5="__/auth/iframe",c5="emulator/auth/iframe",u5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h5(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,c5):`https://${t.config.authDomain}/${l5}`,r={apiKey:e.apiKey,appName:t.name,v:da},i=d5.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${hu(r).slice(1)}`}async function f5(t){const e=await o5(t),n=As().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:h5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u5,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Ss(t,"network-request-failed"),d=As().setTimeout(()=>{a(c)},a5.get());function f(){As().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m5=500,g5=600,y5="_blank",v5="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w5(t,e,n,r=m5,i=g5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...p5,width:r.toString(),height:i.toString(),top:a,left:c},p=bn().toLowerCase();n&&(d=uI(p)?y5:n),lI(p)&&(e=e||v5,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[I,R])=>`${T}${I}=${R},`,"");if(DL(p)&&d!=="_self")return _5(e||"",d),new RE(null);const g=window.open(e||"",d,y);je(g,t,"popup-blocked");try{g.focus()}catch{}return new RE(g)}function _5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="__/auth/handler",T5="emulator/auth/handler",x5=encodeURIComponent("fac");async function PE(t,e,n,r,i,a){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:i};if(e instanceof _I){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",LD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))c[y]=g}if(e instanceof Iu){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),p=f?`#${x5}=${encodeURIComponent(f)}`:"";return`${b5(t)}?${hu(d).slice(1)}${p}`}function b5({config:t}){return t.emulator?Fy(t,T5):`https://${t.authDomain}/${E5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class I5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CI,this._completeRedirectFn=Q3,this._overrideRedirectResult=W3}async _openPopup(e,n,r,i){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await PE(e,n,r,_g(),i);return w5(e,a,qy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await PE(e,n,r,_g(),i);return C3(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f5(e),r=new X3(e);return n.register("authEvent",i=>(je(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},i=>{const a=i?.[0]?.[km];a!==void 0&&n(!!a),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mI()||cI()||By()}}const S5=I5;var kE="@firebase/auth",NE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R5(t){Hr(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gI(t)},p=new FL(r,i,a,f);return QL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new Sr("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(r=>new A5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(kE,NE,C5(t)),Wn(kE,NE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=300,k5=fx("authIdTokenMaxAge")||P5;let DE=null;const N5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k5)return;const i=n?.token;DE!==i&&(DE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D5(t=af()){const e=yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KL(t,{popupRedirectResolver:S5,persistence:[L3,I3,CI]}),r=fx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=N5(a.toString());_3(n,c,()=>c(n.currentUser)),w3(n,d=>c(d))}}const i=ux("auth");return i&&YL(n,`http://${i}`),n}function M5(){return document.getElementsByTagName("head")?.[0]??document}UL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ss("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",M5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firebasestorage.googleapis.com",VI="storageBucket",O5=120*1e3,V5=600*1e3,L5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Ar{constructor(e,n,r=0){super(Nm(e),`Firebase Storage: ${n} (${Nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Nm(t){return"storage/"+t}function Wy(){const t="An unknown error occurred, please check the error payload for server response.";return new It(yt.UNKNOWN,t)}function j5(t){return new It(yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function F5(t){return new It(yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function U5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(yt.UNAUTHENTICATED,t)}function B5(){return new It(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z5(t){return new It(yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LI(){return new It(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jI(){return new It(yt.CANCELED,"User canceled the upload/download.")}function $5(t){return new It(yt.INVALID_URL,"Invalid URL '"+t+"'.")}function q5(t){return new It(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H5(){return new It(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VI+"' property when initializing the app?")}function FI(){return new It(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W5(){return new It(yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function G5(){return new It(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function K5(t){return new It(yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new It(yt.INVALID_ARGUMENT,t)}function UI(){return new It(yt.APP_DELETED,"The Firebase app was deleted.")}function Q5(t){return new It(yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zc(t,e){return new It(yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sc(t){throw new It(yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(r.path==="")return r;throw q5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const y="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${g}/${y}/b/${i}/o${T}`,"i"),R={bucket:1,path:3},P=n===OI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${P}/${i}/${O}`,"i"),H=[{regex:d,indices:f,postModify:a},{regex:I,indices:R,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<H.length;X++){const re=H[X],Y=re.regex.exec(e);if(Y){const A=Y[re.indices.bucket];let b=Y[re.indices.path];b||(b=""),r=new ur(A,b),re.postModify(r);break}}if(r==null)throw $5(e);return r}}class Y5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e,n){let r=1,i=null,a=null,c=!1,d=0;function f(){return d===2}let p=!1;function y(...O){p||(p=!0,e.apply(null,O))}function g(O){i=setTimeout(()=>{i=null,t(I,f())},O)}function T(){a&&clearTimeout(a)}function I(O,...B){if(p){T();return}if(O){T(),y.call(null,O,...B);return}if(f()||c){T(),y.call(null,O,...B);return}r<64&&(r*=2);let H;d===1?(d=2,H=0):H=(r+Math.random())*1e3,g(H)}let R=!1;function P(O){R||(R=!0,T(),!p&&(i!==null?(O||(d=2),clearTimeout(i),g(0)):O||(d=1)))}return g(0),a=setTimeout(()=>{c=!0,P(!0)},n),P}function J5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){return t!==void 0}function ej(t){return typeof t=="function"}function tj(t){return typeof t=="object"&&!Array.isArray(t)}function Pf(t){return typeof t=="string"||t instanceof String}function ME(t){return Gy()&&t instanceof Blob}function Gy(){return typeof Blob<"u"}function OE(t,e,n,r){if(r<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function BI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jo||(Jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i,a,c,d,f,p,y,g,T=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=g,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,P)=>{this.resolve_=R,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Jo.NO_ERROR,f=a.getStatus();if(!d||zI(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Jo.ABORT;r(!1,new Xd(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Xd(p,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Z5(f)?a(f):a()}catch(f){c(f)}else if(d!==null){const f=Wy();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(i.canceled){const f=this.appDelete_?UI():jI();c(f)}else{const f=LI();c(f)}};this.canceled_?n(!1,new Xd(!1,null,!0)):this.backoffId_=X5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&J5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ij(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aj(t,e,n,r,i,a,c=!0,d=!1){const f=BI(t.urlParams),p=t.url+f,y=Object.assign({},t.headers);return ij(y,e),rj(y,n),sj(y,a),oj(y,r),new nj(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cj(...t){const e=lj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gy())return new Blob(t);throw new It(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){if(typeof atob>"u")throw K5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dm{constructor(e,n){this.data=e,this.contentType=n||null}}function hj(t,e){switch(t){case _s.RAW:return new Dm($I(e));case _s.BASE64:case _s.BASE64URL:return new Dm(qI(t,e));case _s.DATA_URL:return new Dm(pj(e),mj(e))}throw Wy()}function $I(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fj(t){let e;try{e=decodeURIComponent(t)}catch{throw zc(_s.DATA_URL,"Malformed data URL.")}return $I(e)}function qI(t,e){switch(t){case _s.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw zc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _s.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw zc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dj(e)}catch(i){throw i.message.includes("polyfill")?i:zc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zc(_s.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pj(t){const e=new HI(t);return e.base64?qI(_s.BASE64,e.rest):fj(e.rest)}function mj(t){return new HI(t).contentType}function gj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){let r=0,i="";ME(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ME(this.data_)){const r=this.data_,i=uj(r,e,n);return i===null?null:new Qs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qs(r,!0)}}static getBlob(...e){if(Gy()){const n=e.map(r=>r instanceof Qs?r.data_:r);return new Qs(cj.apply(null,n))}else{const n=e.map(c=>Pf(c)?hj(_s.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)i[a++]=c[d]}),new Qs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){let e;try{e=JSON.parse(t)}catch{return null}return tj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function GI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){return e}class kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wj}}let Jd=null;function _j(t){return!Pf(t)||t.length<2?t:GI(t)}function Ky(){if(Jd)return Jd;const t=[];t.push(new kn("bucket")),t.push(new kn("generation")),t.push(new kn("metageneration")),t.push(new kn("name","fullPath",!0));function e(a,c){return _j(c)}const n=new kn("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const i=new kn("size");return i.xform=r,t.push(i),t.push(new kn("timeCreated")),t.push(new kn("updated")),t.push(new kn("md5Hash",null,!0)),t.push(new kn("cacheControl",null,!0)),t.push(new kn("contentDisposition",null,!0)),t.push(new kn("contentEncoding",null,!0)),t.push(new kn("contentLanguage",null,!0)),t.push(new kn("contentType",null,!0)),t.push(new kn("metadata","customMetadata",!0)),Jd=t,Jd}function Ej(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ur(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Tj(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return Ej(r,t),r}function KI(t,e,n){const r=WI(e);return r===null?null:Tj(t,r,n)}function xj(t,e,n,r){const i=WI(e);if(i===null||!Pf(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(p=>{const y=t.bucket,g=t.fullPath,T="/b/"+c(y)+"/o/"+c(g),I=Vl(T,n,r),R=BI({alt:"media",token:p});return I+R})[0]}function QI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class ma{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){if(!t)throw Wy()}function Qy(t,e){function n(r,i){const a=KI(t,i,e);return ti(a!==null),a}return n}function bj(t,e){function n(r,i){const a=KI(t,i,e);return ti(a!==null),xj(a,i,t.host,t._protocol)}return n}function Au(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=B5():i=U5():n.getStatus()===402?i=F5(t.bucket):n.getStatus()===403?i=z5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Yy(t){const e=Au(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=j5(t.path)),a.serverResponse=i.serverResponse,a}return n}function Ij(t,e,n){const r=e.fullServerUrl(),i=Vl(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,d=new ma(i,a,Qy(t,n),c);return d.errorHandler=Yy(e),d}function Sj(t,e,n){const r=e.fullServerUrl(),i=Vl(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,d=new ma(i,a,bj(t,n),c);return d.errorHandler=Yy(e),d}function Aj(t,e){const n=e.fullServerUrl(),r=Vl(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function c(f,p){}const d=new ma(r,i,c,a);return d.successCodes=[200,204],d.errorHandler=Yy(e),d}function Cj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Cj(null,e)),r}function XI(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let H="";for(let X=0;X<2;X++)H=H+Math.random().toString().slice(2);return H}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const p=YI(e,r,i),y=QI(p,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+f+"--",I=Qs.getBlob(g,r,T);if(I===null)throw FI();const R={name:p.fullPath},P=Vl(a,t.host,t._protocol),O="POST",B=t.maxUploadRetryTime,J=new ma(P,O,Qy(t,n),B);return J.urlParams=R,J.headers=c,J.body=I.uploadData(),J.errorHandler=Au(e),J}class qh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Xy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ti(!1)}return ti(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Rj(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),c=YI(e,r,i),d={name:c.fullPath},f=Vl(a,t.host,t._protocol),p="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},g=QI(c,n),T=t.maxUploadRetryTime;function I(P){Xy(P);let O;try{O=P.getResponseHeader("X-Goog-Upload-URL")}catch{ti(!1)}return ti(Pf(O)),O}const R=new ma(f,p,I,T);return R.urlParams=d,R.headers=y,R.body=g,R.errorHandler=Au(e),R}function Pj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(p){const y=Xy(p,["active","final"]);let g=null;try{g=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ti(!1)}g||ti(!1);const T=Number(g);return ti(!isNaN(T)),new qh(T,r.size(),y==="final")}const c="POST",d=t.maxUploadRetryTime,f=new ma(n,c,a,d);return f.headers=i,f.errorHandler=Au(e),f}const VE=256*1024;function kj(t,e,n,r,i,a,c,d){const f=new qh(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw W5();const p=f.total-f.current;let y=p;i>0&&(y=Math.min(y,i));const g=f.current,T=g+y;let I="";y===0?I="finalize":p===y?I="upload, finalize":I="upload";const R={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${f.current}`},P=r.slice(g,T);if(P===null)throw FI();function O(X,re){const Y=Xy(X,["active","final"]),A=f.current+y,b=r.size();let M;return Y==="final"?M=Qy(e,a)(X,re):M=null,new qh(A,b,Y==="final",M)}const B="POST",J=e.maxUploadRetryTime,H=new ma(n,B,O,J);return H.headers=R,H.body=P.uploadData(),H.progressCallback=d||null,H.errorHandler=Au(t),H}const Hn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mm(t){switch(t){case"running":case"pausing":case"canceling":return Hn.RUNNING;case"paused":return Hn.PAUSED;case"success":return Hn.SUCCESS;case"canceled":return Hn.CANCELED;case"error":return Hn.ERROR;default:return Hn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r){if(ej(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Dj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Sc("cannot .send() more than once");if(go(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Mj extends Dj{initXhr(){this.xhr_.responseType="text"}}function Qi(){return new Mj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ky(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(zI(i.status,[]))if(a)i=LI();else{this.sleepTime=Math.max(this.sleepTime*2,L5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(yt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Rj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Pj(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Qi,n,r);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=VE*this._chunkMultiplier,n=new qh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let c;try{c=kj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const d=this._ref.storage._makeRequest(c,Qi,i,a,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){VE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Ij(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=XI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Mm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new Nj(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Mm(this._state)){case Hn.SUCCESS:nl(this._resolve.bind(null,this.snapshot))();break;case Hn.CANCELED:case Hn.ERROR:const n=this._reject;nl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mm(this._state)){case Hn.RUNNING:case Hn.PAUSED:e.next&&nl(e.next.bind(e,this.snapshot))();break;case Hn.SUCCESS:e.complete&&nl(e.complete.bind(e))();break;case Hn.CANCELED:case Hn.ERROR:e.error&&nl(e.error.bind(e,this._error))();break;default:e.error&&nl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ia(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GI(this._location.path)}get storage(){return this._service}get parent(){const e=yj(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Q5(e)}}function Vj(t,e,n){t._throwIfRoot("uploadBytes");const r=XI(t.storage,t._location,Ky(),new Qs(e,!0),n);return t.storage.makeRequestWithTokens(r,Qi).then(i=>({metadata:i,ref:t}))}function Lj(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Oj(t,new Qs(e),n)}function jj(t){t._throwIfRoot("getDownloadURL");const e=Sj(t.storage,t._location,Ky());return t.storage.makeRequestWithTokens(e,Qi).then(n=>{if(n===null)throw G5();return n})}function Fj(t){t._throwIfRoot("deleteObject");const e=Aj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qi)}function Uj(t,e){const n=vj(t._location.path,e),r=new ur(t._location.bucket,n);return new ia(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){return/^[A-Za-z]+:\/\//.test(t)}function zj(t,e){return new ia(t,e)}function JI(t,e){if(t instanceof Jy){const n=t;if(n._bucket==null)throw H5();const r=new ia(n,n._bucket);return e!=null?JI(r,e):r}else return e!==void 0?Uj(t,e):t}function $j(t,e){if(e&&Bj(e)){if(t instanceof Jy)return zj(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return JI(t,e)}function LE(t,e){const n=e?.[VI];return n==null?null:ur.makeFromBucketSpec(n,t)}function qj(t,e,n,r={}){t.host=`${e}:${n}`;const i=go(e);i&&(Wg(`https://${t.host}/b`),Gg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:px(a,t.app.options.projectId))}class Jy{constructor(e,n,r,i,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=OI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O5,this._maxUploadRetryTime=V5,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Y5(UI());{const c=aj(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jE="@firebase/storage",FE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="storage";function m9(t,e,n){return t=Je(t),Vj(t,e,n)}function g9(t,e,n){return t=Je(t),Lj(t,e,n)}function y9(t){return t=Je(t),jj(t)}function v9(t){return t=Je(t),Fj(t)}function w9(t,e){return t=Je(t),$j(t,e)}function Hj(t=af(),e){t=Je(t);const r=yo(t,ZI).getImmediate({identifier:e}),i=dx("storage");return i&&Wj(r,...i),r}function Wj(t,e,n,r={}){qj(t,e,n,r)}function Gj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Jy(n,r,i,e,da)}function Kj(){Hr(new Sr(ZI,Gj,"PUBLIC").setMultipleInstances(!0)),Wn(jE,FE,""),Wn(jE,FE,"esm2020")}Kj();const eS="@firebase/installations",Zy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1e4,nS=`w:${Zy}`,rS="FIS_v2",Qj="https://firebaseinstallations.googleapis.com/v1",Yj=3600*1e3,Xj="installations",Jj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new ua(Xj,Jj,Zj);function sS(t){return t instanceof Ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS({projectId:t}){return`${Qj}/projects/${t}/installations`}function oS(t){return{token:t.token,requestStatus:2,expiresIn:t6(t.expiresIn),creationTime:Date.now()}}async function aS(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function e6(t,{refreshToken:e}){const n=lS(t);return n.append("Authorization",n6(e)),n}async function cS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function t6(t){return Number(t.replace("s","000"))}function n6(t){return`${rS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iS(t),i=lS(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={fid:n,authVersion:rS,appId:t.appId,sdkVersion:nS},d={method:"POST",headers:i,body:JSON.stringify(c)},f=await cS(()=>fetch(r,d));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:oS(p.authToken)}}else throw await aS("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^[cdef][\w-]{21}$/,bg="";function o6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=a6(t);return i6.test(n)?n:bg}catch{return bg}}function a6(t){return s6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function hS(t,e){const n=kf(t);fS(n,e),l6(n,e)}function fS(t,e){const n=dS.get(t);if(n)for(const r of n)r(e)}function l6(t,e){const n=c6();n&&n.postMessage({key:t,fid:e}),u6()}let Yo=null;function c6(){return!Yo&&"BroadcastChannel"in self&&(Yo=new BroadcastChannel("[Firebase] FID Change"),Yo.onmessage=t=>{fS(t.data.key,t.data.fid)}),Yo}function u6(){dS.size===0&&Yo&&(Yo.close(),Yo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firebase-installations-database",h6=1,aa="firebase-installations-store";let Om=null;function ev(){return Om||(Om=_x(d6,h6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),Om}async function Hh(t,e){const n=kf(t),i=(await ev()).transaction(aa,"readwrite"),a=i.objectStore(aa),c=await a.get(n);return await a.put(e,n),await i.done,(!c||c.fid!==e.fid)&&hS(t,e.fid),e}async function pS(t){const e=kf(t),r=(await ev()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Nf(t,e){const n=kf(t),i=(await ev()).transaction(aa,"readwrite"),a=i.objectStore(aa),c=await a.get(n),d=e(c);return d===void 0?await a.delete(n):await a.put(d,n),await i.done,d&&(!c||c.fid!==d.fid)&&hS(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(t){let e;const n=await Nf(t.appConfig,r=>{const i=f6(r),a=p6(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===bg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function f6(t){const e=t||{fid:o6(),registrationStatus:0};return mS(e)}function p6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=m6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:g6(t)}:{installationEntry:e}}async function m6(t,e){try{const n=await r6(t,e);return Hh(t.appConfig,n)}catch(n){throw sS(n)&&n.customData.serverCode===409?await pS(t.appConfig):await Hh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function g6(t){let e=await UE(t.appConfig);for(;e.registrationStatus===1;)await uS(100),e=await UE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tv(t);return r||n}return e}function UE(t){return Nf(t,e=>{if(!e)throw oa.create("installation-not-found");return mS(e)})}function mS(t){return y6(t)?{fid:t.fid,registrationStatus:0}:t}function y6(t){return t.registrationStatus===1&&t.registrationTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6({appConfig:t,heartbeatServiceProvider:e},n){const r=w6(t,n),i=e6(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={installation:{sdkVersion:nS,appId:t.appId}},d={method:"POST",headers:i,body:JSON.stringify(c)},f=await cS(()=>fetch(r,d));if(f.ok){const p=await f.json();return oS(p)}else throw await aS("Generate Auth Token",f)}function w6(t,{fid:e}){return`${iS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t,e=!1){let n;const r=await Nf(t.appConfig,a=>{if(!gS(a))throw oa.create("not-registered");const c=a.authToken;if(!e&&T6(c))return a;if(c.requestStatus===1)return n=_6(t,e),a;{if(!navigator.onLine)throw oa.create("app-offline");const d=b6(a);return n=E6(t,d),d}});return n?await n:r.authToken}async function _6(t,e){let n=await BE(t.appConfig);for(;n.authToken.requestStatus===1;)await uS(100),n=await BE(t.appConfig);const r=n.authToken;return r.requestStatus===0?nv(t,e):r}function BE(t){return Nf(t,e=>{if(!gS(e))throw oa.create("not-registered");const n=e.authToken;return I6(n)?{...e,authToken:{requestStatus:0}}:e})}async function E6(t,e){try{const n=await v6(t,e),r={...e,authToken:n};return await Hh(t.appConfig,r),n}catch(n){if(sS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hh(t.appConfig,r)}throw n}}function gS(t){return t!==void 0&&t.registrationStatus===2}function T6(t){return t.requestStatus===2&&!x6(t)}function x6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Yj}function b6(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function I6(t){return t.requestStatus===1&&t.requestTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t){const e=t,{installationEntry:n,registrationPromise:r}=await tv(e);return r?r.catch(console.error):nv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e=!1){const n=t;return await C6(n),(await nv(n,e)).token}async function C6(t){const{registrationPromise:e}=await tv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){if(!t||!t.options)throw Vm("App Configuration");if(!t.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vm(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="installations",P6="installations-internal",k6=t=>{const e=t.getProvider("app").getImmediate(),n=R6(e),r=yo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},N6=t=>{const e=t.getProvider("app").getImmediate(),n=yo(e,yS).getImmediate();return{getId:()=>S6(n),getToken:i=>A6(n,i)}};function D6(){Hr(new Sr(yS,k6,"PUBLIC")),Hr(new Sr(P6,N6,"PRIVATE"))}D6();Wn(eS,Zy);Wn(eS,Zy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="analytics",M6="firebase_id",O6="origin",V6=60*1e3,L6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fr=new ua("analytics","Analytics",j6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(!t.startsWith(rv)){const e=fr.create("invalid-gtag-resource",{gtagURL:t});return Dn.warn(e.message),""}return t}function vS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function U6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function B6(t,e){const n=U6("firebase-js-sdk-policy",{createScriptURL:F6}),r=document.createElement("script"),i=`${rv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function z6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $6(t,e,n,r,i,a){const c=r[i];try{if(c)await e[c];else{const f=(await vS(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(d){Dn.error(d)}t("config",i,a)}async function q6(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const d=await vS(n);for(const f of c){const p=d.find(g=>g.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Dn.error(a)}}function H6(t,e,n,r){async function i(a,...c){try{if(a==="event"){const[d,f]=c;await q6(t,e,n,d,f)}else if(a==="config"){const[d,f]=c;await $6(t,e,n,r,d,f)}else if(a==="consent"){const[d,f]=c;t("consent",d,f)}else if(a==="get"){const[d,f,p]=c;t("get",d,f,p)}else if(a==="set"){const[d]=c;t("set",d)}else t(a,...c)}catch(d){Dn.error(d)}}return i}function W6(t,e,n,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=H6(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function G6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=30,Q6=1e3;class Y6{constructor(e={},n=Q6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const wS=new Y6;function X6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function J6(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:X6(n)},i=L6.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let c="";try{const d=await a.json();d.error?.message&&(c=d.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function Z6(t,e=wS,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw fr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw fr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new nF;return setTimeout(async()=>{d.abort()},V6),_S({appId:r,apiKey:i,measurementId:a},c,d,e)}async function _S(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=wS){const{appId:a,measurementId:c}=t;try{await eF(r,e)}catch(d){if(c)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:c};throw d}try{const d=await J6(t);return i.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!tF(f)){if(i.deleteThrottleMetadata(a),c)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:c};throw d}const p=Number(f?.customData?.httpStatus)===503?s0(n,i.intervalMillis,K6):s0(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,y),Dn.debug(`Calling attemptFetch again in ${p} millis`),_S(t,y,r,i)}}function eF(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tF(t){if(!(t instanceof Ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rF(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,c={...r,send_to:a};t("event",n,c)}}async function sF(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(){if(gx())try{await yx()}catch(t){return Dn.warn(fr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Dn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oF(t,e,n,r,i,a,c){const d=Z6(t);d.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Dn.error(T)),e.push(d);const f=iF().then(T=>{if(T)return r.getId()}),[p,y]=await Promise.all([d,f]);G6(a)||B6(a,p.measurementId),i("js",new Date);const g=c?.config??{};return g[O6]="firebase",g.update=!0,y!=null&&(g[M6]=y),i("config",p.measurementId,g),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.app=e}_delete(){return delete gl[this.app.options.appId],Promise.resolve()}}let gl={},zE=[];const $E={};let Lm="dataLayer",lF="gtag",qE,sv,HE=!1;function cF(){const t=[];if(mx()&&t.push("This is a browser extension environment."),DD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fr.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function uF(t,e,n){cF();const r=t.options.appId;if(!r)throw fr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fr.create("no-api-key");if(gl[r]!=null)throw fr.create("already-exists",{id:r});if(!HE){z6(Lm);const{wrappedGtag:a,gtagCore:c}=W6(gl,zE,$E,Lm,lF);sv=a,qE=c,HE=!0}return gl[r]=oF(t,zE,$E,e,qE,Lm,n),new aF(t)}function dF(t=af()){t=Je(t);const e=yo(t,Wh);return e.isInitialized()?e.getImmediate():hF(t)}function hF(t,e={}){const n=yo(t,Wh);if(n.isInitialized()){const i=n.getImmediate();if(oo(e,n.getOptions()))return i;throw fr.create("already-initialized")}return n.initialize({options:e})}function fF(t,e,n){t=Je(t),sF(sv,gl[t.app.options.appId],e,n).catch(r=>Dn.error(r))}function pF(t,e,n,r){t=Je(t),rF(sv,gl[t.app.options.appId],e,n,r).catch(i=>Dn.error(i))}const WE="@firebase/analytics",GE="0.10.19";function mF(){Hr(new Sr(Wh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return uF(r,i,n)},"PUBLIC")),Hr(new Sr("analytics-internal",t,"PRIVATE")),Wn(WE,GE),Wn(WE,GE,"esm2020");function t(e){try{const n=e.getProvider(Wh).getImmediate();return{logEvent:(r,i,a)=>pF(n,r,i,a),setUserProperties:(r,i)=>fF(n,r,i)}}catch(n){throw fr.create("interop-component-reg-failed",{reason:n})}}}mF();const gF={apiKey:"AIzaSyDEEE9utmsp-dB_ZXe-TtoeUt5-yALiOlM",authDomain:"cangrejeras-de-santurce.firebaseapp.com",projectId:"cangrejeras-de-santurce",storageBucket:"cangrejeras-de-santurce.firebasestorage.app",messagingSenderId:"487991855897",appId:"1:487991855897:web:805dc5406f53df304e1388",measurementId:"G-FGRB7WXCB5"},Df=Ex(gF),Ac=D5(Df),Ce=QV(Df),_9=Hj(Df);let yF;if(typeof window<"u")try{yF=dF(Df)}catch(t){console.warn("Firebase Analytics could not be initialized:",t)}const Tt={getAllTeams:async()=>{try{const t=at(Ce,"teams"),e=cn(t,Js("name","asc"));return(await Wt(e)).docs.map(r=>({id:r.id,name:r.data().name,isPrimary:r.data().isPrimary||!1,createdAt:r.data().createdAt?.toDate()||new Date,usageCount:r.data().usageCount||0}))}catch(t){throw console.error("Error fetching teams:",t),t}},getTeamByName:async t=>{try{const e=at(Ce,"teams"),n=await Wt(e),r=t.trim().toLowerCase(),i=n.docs.find(a=>a.data().name.toLowerCase()===r);return i?{id:i.id,name:i.data().name,isPrimary:i.data().isPrimary||!1,createdAt:i.data().createdAt?.toDate()||new Date,usageCount:i.data().usageCount||0}:null}catch(e){throw console.error("Error finding team:",e),e}},createTeam:async t=>{try{if(await Tt.getTeamByName(t.name))throw new Error("Ya existe un equipo con este nombre");const n={name:t.name.trim(),isPrimary:!1,usageCount:0,createdAt:dt()};return{id:(await mo(at(Ce,"teams"),n)).id,name:n.name,isPrimary:n.isPrimary,usageCount:n.usageCount,createdAt:new Date}}catch(e){throw console.error("Error creating team:",e),e}},getOrCreateTeam:async t=>{try{const e=await Tt.getTeamByName(t);return e||await Tt.createTeam({name:t})}catch(e){throw console.error("Error in getOrCreateTeam:",e),e}},deleteTeam:async t=>{try{const e=Ke(Ce,"teams",t),n=await Zs(e);if(!n.exists())throw new Error("El equipo no existe");const r=n.data();if(r.isPrimary)throw new Error("No se puede eliminar el equipo principal");if(r.usageCount>0)throw new Error("No se puede eliminar un equipo que está en uso en partidos");await po(e)}catch(e){throw console.error("Error deleting team:",e),e}},incrementUsageCount:async t=>{try{const e=await Tt.getTeamByName(t);if(!e){console.warn(`Team "${t}" not found for usage increment`);return}const n=Ke(Ce,"teams",e.id);await hn(n,{usageCount:Vh(1)})}catch(e){throw console.error("Error incrementing usage count:",e),e}},decrementUsageCount:async t=>{try{const e=await Tt.getTeamByName(t);if(!e){console.warn(`Team "${t}" not found for usage decrement`);return}const n=Ke(Ce,"teams",e.id);await hn(n,{usageCount:Vh(-1)})}catch(e){throw console.error("Error decrementing usage count:",e),e}},getPrimaryTeam:async()=>{try{const t=at(Ce,"teams"),e=cn(t,Ct("isPrimary","==",!0)),n=await Wt(e);if(n.empty)return null;const r=n.docs[0];return{id:r.id,name:r.data().name,isPrimary:r.data().isPrimary,createdAt:r.data().createdAt?.toDate()||new Date,usageCount:r.data().usageCount||0}}catch(t){throw console.error("Error fetching primary team:",t),t}},initializePrimaryTeam:async()=>{try{if(await Tt.getPrimaryTeam())return;const e={name:"Cangrejeras",isPrimary:!0,usageCount:0,createdAt:dt()};await mo(at(Ce,"teams"),e),console.log('Primary team "Cangrejeras" initialized')}catch(t){throw console.error("Error initializing primary team:",t),t}}},un={getAllVenues:async()=>{try{const t=at(Ce,"venues"),e=cn(t,Js("name","asc"));return(await Wt(e)).docs.map(r=>({id:r.id,name:r.data().name,createdAt:r.data().createdAt?.toDate()||new Date,usageCount:r.data().usageCount||0}))}catch(t){throw console.error("Error fetching venues:",t),t}},getVenueByName:async t=>{try{const e=at(Ce,"venues"),n=await Wt(e),r=t.trim().toLowerCase(),i=n.docs.find(a=>a.data().name.toLowerCase()===r);return i?{id:i.id,name:i.data().name,createdAt:i.data().createdAt?.toDate()||new Date,usageCount:i.data().usageCount||0}:null}catch(e){throw console.error("Error finding venue:",e),e}},createVenue:async t=>{try{if(await un.getVenueByName(t.name))throw new Error("Ya existe un estadio con este nombre");const n={name:t.name.trim(),usageCount:0,createdAt:dt()};return{id:(await mo(at(Ce,"venues"),n)).id,name:n.name,usageCount:n.usageCount,createdAt:new Date}}catch(e){throw console.error("Error creating venue:",e),e}},getOrCreateVenue:async t=>{try{const e=await un.getVenueByName(t);return e||await un.createVenue({name:t})}catch(e){throw console.error("Error in getOrCreateVenue:",e),e}},deleteVenue:async t=>{try{const e=Ke(Ce,"venues",t),n=await Zs(e);if(!n.exists())throw new Error("El estadio no existe");if(n.data().usageCount>0)throw new Error("No se puede eliminar un estadio que está en uso en partidos");await po(e)}catch(e){throw console.error("Error deleting venue:",e),e}},incrementUsageCount:async t=>{try{const e=await un.getVenueByName(t);if(!e){console.warn(`Venue "${t}" not found for usage increment`);return}const n=Ke(Ce,"venues",e.id);await hn(n,{usageCount:Vh(1)})}catch(e){throw console.error("Error incrementing usage count:",e),e}},decrementUsageCount:async t=>{try{const e=await un.getVenueByName(t);if(!e){console.warn(`Venue "${t}" not found for usage decrement`);return}const n=Ke(Ce,"venues",e.id);await hn(n,{usageCount:Vh(-1)})}catch(e){throw console.error("Error decrementing usage count:",e),e}},initializeDefaultVenues:async()=>{try{const t=["Coliseo Roberto Clemente","Coliseo Mario Morales","Coliseo José Miguel Agrelot","Coliseo Raymond Dalmau"];for(const e of t)await un.getOrCreateVenue(e);console.log("Default venues initialized")}catch(t){throw console.error("Error initializing default venues:",t),t}}},zi="matches",an={createMatch:async(t,e)=>{try{const n=t.homeTeam==="Cangrejeras"||t.homeTeam==="Cangrejeras de Santurce";await Tt.getOrCreateTeam(t.homeTeam),await Tt.getOrCreateTeam(t.awayTeam),await un.getOrCreateVenue(t.venue),await Tt.incrementUsageCount(t.homeTeam),await Tt.incrementUsageCount(t.awayTeam),await un.incrementUsageCount(t.venue);const r={homeTeam:t.homeTeam,awayTeam:t.awayTeam,date:t.date,time:t.time,venue:t.venue,status:t.status,homeScore:t.homeScore||0,awayScore:t.awayScore||0,description:t.description||"",ticketUrl:t.ticketUrl||"",streamUrl:t.streamUrl||"",isHomeTeam:n,votingId:t.votingId||"",statistics:{home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}},createdAt:dt(),updatedAt:dt(),createdBy:e,updatedBy:e};return{id:(await mo(at(Ce,zi),r)).id,...t,homeScore:t.homeScore||0,awayScore:t.awayScore||0,isHomeTeam:n,statistics:{home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}},createdAt:new Date,updatedAt:new Date,createdBy:e,updatedBy:e}}catch(n){throw console.error("Error creating match:",n),new Error("Error al crear partido")}},getMatch:async t=>{try{const e=Ke(Ce,zi,t),n=await Zs(e);if(!n.exists())return null;const r=n.data();return{id:n.id,homeTeam:r.homeTeam,awayTeam:r.awayTeam,date:r.date,time:r.time,venue:r.venue,status:r.status,homeScore:r.homeScore||0,awayScore:r.awayScore||0,description:r.description||"",ticketUrl:r.ticketUrl||"",streamUrl:r.streamUrl||"",isHomeTeam:r.isHomeTeam,votingId:r.votingId||"",statistics:r.statistics||{home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}},createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date,createdBy:r.createdBy,updatedBy:r.updatedBy}}catch(e){throw console.error("Error getting match:",e),new Error("Error al obtener partido")}},getAllMatches:async t=>{try{const e=[];t?.status&&e.push(Ct("status","==",t.status)),t?.venue&&e.push(Ct("venue","==",t.venue)),t?.team,e.push(Js("date","desc")),t?.limit&&e.push(Ly(t.limit));const n=cn(at(Ce,zi),...e);let i=(await Wt(n)).docs.map(a=>{const c=a.data();return{id:a.id,homeTeam:c.homeTeam,awayTeam:c.awayTeam,date:c.date,time:c.time,venue:c.venue,status:c.status,homeScore:c.homeScore||0,awayScore:c.awayScore||0,description:c.description||"",ticketUrl:c.ticketUrl||"",streamUrl:c.streamUrl||"",isHomeTeam:c.isHomeTeam,votingId:c.votingId||"",statistics:c.statistics||{home:{aces:0,blocks:0,attacks:0,digs:0},away:{aces:0,blocks:0,attacks:0,digs:0}},createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date,createdBy:c.createdBy,updatedBy:c.updatedBy}});return t?.team&&(i=i.filter(a=>a.homeTeam.toLowerCase().includes(t.team.toLowerCase())||a.awayTeam.toLowerCase().includes(t.team.toLowerCase()))),t?.startDate&&(i=i.filter(a=>a.date>=t.startDate)),t?.endDate&&(i=i.filter(a=>a.date<=t.endDate)),i}catch(e){throw console.error("Error getting matches:",e),new Error("Error al obtener partidos")}},getUpcomingMatches:async t=>an.getAllMatches({status:"upcoming",limit:t}),getLiveMatches:async()=>an.getAllMatches({status:"live"}),getCompletedMatches:async t=>an.getAllMatches({status:"completed",limit:t}),getNextMatch:async()=>{try{const t=await an.getUpcomingMatches();return t.length===0?null:t.sort((n,r)=>{const i=new Date(`${n.date}T${n.time}`),a=new Date(`${r.date}T${r.time}`);return i.getTime()-a.getTime()})[0]}catch(t){return console.error("Error getting next match:",t),null}},getCurrentLiveMatch:async()=>{try{return(await an.getLiveMatches())[0]||null}catch(t){return console.error("Error getting live match:",t),null}},updateMatch:async(t,e,n)=>{try{if(e.homeTeam||e.awayTeam||e.venue){const c=await an.getMatch(t);c&&(e.homeTeam&&e.homeTeam!==c.homeTeam&&(await Tt.decrementUsageCount(c.homeTeam),await Tt.getOrCreateTeam(e.homeTeam),await Tt.incrementUsageCount(e.homeTeam)),e.awayTeam&&e.awayTeam!==c.awayTeam&&(await Tt.decrementUsageCount(c.awayTeam),await Tt.getOrCreateTeam(e.awayTeam),await Tt.incrementUsageCount(e.awayTeam)),e.venue&&e.venue!==c.venue&&(await un.decrementUsageCount(c.venue),await un.getOrCreateVenue(e.venue),await un.incrementUsageCount(e.venue)))}const r=Ke(Ce,zi,t),i={};Object.keys(e).forEach(c=>{const d=e[c];d!==void 0&&(i[c]=d===""?"":d)});const a={...i,updatedAt:dt(),updatedBy:n};e.homeTeam&&(a.isHomeTeam=e.homeTeam==="Cangrejeras"||e.homeTeam==="Cangrejeras de Santurce"),await hn(r,a)}catch(r){throw console.error("Error updating match:",r),new Error("Error al actualizar partido")}},updateMatchStatus:async(t,e,n)=>{try{const r=Ke(Ce,zi,t);await hn(r,{status:e,updatedAt:dt(),updatedBy:n})}catch(r){throw console.error("Error updating match status:",r),new Error("Error al actualizar estado del partido")}},updateMatchScore:async(t,e,n,r)=>{try{const i=Ke(Ce,zi,t);await hn(i,{homeScore:e,awayScore:n,updatedAt:dt(),updatedBy:r})}catch(i){throw console.error("Error updating match score:",i),new Error("Error al actualizar marcador")}},updateMatchStatistics:async(t,e,n)=>{try{const r=Ke(Ce,zi,t);await hn(r,{statistics:e,updatedAt:dt(),updatedBy:n})}catch(r){throw console.error("Error updating match statistics:",r),new Error("Error al actualizar estadísticas")}},deleteMatch:async t=>{try{const e=await an.getMatch(t);e&&(await Tt.decrementUsageCount(e.homeTeam),await Tt.decrementUsageCount(e.awayTeam),await un.decrementUsageCount(e.venue));const n=Ke(Ce,zi,t);await po(n)}catch(e){throw console.error("Error deleting match:",e),new Error("Error al eliminar partido")}},getMatchesByDateRange:async(t,e)=>an.getAllMatches({startDate:t,endDate:e}),getMatchesByVenue:async t=>an.getAllMatches({venue:t}),getMatchesByTeam:async t=>an.getAllMatches({team:t}),getSeasonStats:async()=>{try{const t=await an.getAllMatches(),e=t.filter(c=>c.status==="completed"),n=t.filter(c=>c.status==="upcoming"),r=t.filter(c=>c.status==="live"),i=e.filter(c=>c.isHomeTeam?c.homeScore>c.awayScore:c.awayScore>c.homeScore).length,a=e.length-i;return{totalMatches:t.length,wins:i,losses:a,upcomingMatches:n.length,liveMatches:r.length}}catch(t){throw console.error("Error getting season stats:",t),new Error("Error al obtener estadísticas de temporada")}}},KE={"Super Admin":{canEditPlayers:!0,canEditMatches:!0,canEditVoting:!0,canEditNews:!0,canManageUsers:!0,canDeleteContent:!0},Admin:{canEditPlayers:!0,canEditMatches:!0,canEditVoting:!0,canEditNews:!0,canManageUsers:!1,canDeleteContent:!1},Editor:{canEditPlayers:!1,canEditMatches:!1,canEditVoting:!1,canEditNews:!0,canManageUsers:!1,canDeleteContent:!1}},jm=t=>({id:t.id,name:t.name,email:t.email,role:t.role,avatar:t.avatar,createdAt:t.createdAt instanceof rt?t.createdAt.toDate().toISOString():new Date(t.createdAt).toISOString()}),Zd={getAdmin:async t=>{try{const e=Ke(Ce,"admins",t),n=await Zs(e);if(n.exists()){const r=n.data();return jm({...r,id:n.id})}return null}catch(e){return console.error("Error getting admin:",e),null}},createAdmin:async(t,e)=>{try{const n=Ke(Ce,"admins",t),r=KE[e.role],i={name:e.name,email:e.email,role:e.role,avatar:e.avatar||"",phone:e.phone||"",permissions:r,status:"active",createdAt:dt(),updatedAt:dt(),lastLogin:dt()};return await iL(n,i),{id:t,name:e.name,email:e.email,role:e.role,avatar:e.avatar,createdAt:new Date().toISOString()}}catch(n){throw console.error("Error creating admin:",n),new Error("Error al crear administrador en Firestore")}},updateAdmin:async(t,e)=>{try{const n=Ke(Ce,"admins",t);await hn(n,{...e,updatedAt:dt()})}catch(n){throw console.error("Error updating admin:",n),new Error("Error al actualizar administrador en Firestore")}},updateLastLogin:async t=>{try{const e=Ke(Ce,"admins",t);await hn(e,{lastLogin:dt()})}catch(e){console.error("Error updating last login:",e)}},getAdminByEmail:async t=>{try{const e=at(Ce,"admins"),n=cn(e,Ct("email","==",t)),r=await Wt(n);if(!r.empty){const i=r.docs[0],a=i.data();return jm({...a,id:i.id})}return null}catch(e){return console.error("Error getting admin by email:",e),null}},adminExists:async t=>{try{const e=Ke(Ce,"admins",t);return(await Zs(e)).exists()}catch(e){return console.error("Error checking admin existence:",e),!1}},getAllAdmins:async()=>{try{const t=at(Ce,"admins");return(await Wt(t)).docs.map(n=>{const r=n.data();return jm({...r,id:n.id})})}catch(t){return console.error("Error getting all admins:",t),[]}},deleteAdmin:async t=>{try{const e=Ke(Ce,"admins",t);await po(e)}catch(e){throw console.error("Error deleting admin:",e),new Error("Error al eliminar administrador")}},getAdminPermissions:async t=>{try{const e=Ke(Ce,"admins",t),n=await Zs(e);if(n.exists()){const r=n.data();return r.permissions||KE[r.role]}return null}catch(e){return console.error("Error getting admin permissions:",e),null}}},vF=(t,e,n)=>({id:t,userId:n,action:e.action,type:e.type,description:e.description,metadata:e.metadata||{},timestamp:e.timestamp instanceof rt?e.timestamp.toDate().toISOString():new Date(e.timestamp).toISOString(),ipAddress:e.ipAddress,userAgent:e.userAgent}),Ks={logActivity:async(t,e,n,r,i)=>{try{const a=at(Ce,`admins/${t}/activity_logs`),c={action:e,type:n,description:r,metadata:i||{},timestamp:rt.now(),ipAddress:"192.168.1.100",userAgent:navigator.userAgent};await mo(a,c)}catch(a){console.error("Error logging activity:",a)}},getActivityLogs:async(t,e)=>{try{const n=at(Ce,`admins/${t}/activity_logs`),r=[];e?.type&&r.push(Ct("type","==",e.type)),e?.action&&r.push(Ct("action","==",e.action)),e?.startDate&&r.push(Ct("timestamp",">=",rt.fromDate(e.startDate))),e?.endDate&&r.push(Ct("timestamp","<=",rt.fromDate(e.endDate))),r.push(Js("timestamp","desc"));const i=e?.limit||50;r.push(Ly(i));const a=cn(n,...r),c=await Wt(a),d=[];return c.forEach(f=>{d.push(vF(f.id,f.data(),t))}),d}catch(n){return console.error("Error getting activity logs:",n),[]}},getRecentLogs:async(t,e=10)=>Ks.getActivityLogs(t,{limit:e}),getLogsByType:async(t,e,n=20)=>Ks.getActivityLogs(t,{type:e,limit:n}),getLogsByAction:async(t,e,n=20)=>Ks.getActivityLogs(t,{action:e,limit:n}),getLogsByDateRange:async(t,e,n,r=50)=>Ks.getActivityLogs(t,{startDate:e,endDate:n,limit:r}),clearAllLogs:async t=>{try{const e=at(Ce,`admins/${t}/activity_logs`),n=cn(e),i=(await Wt(n)).docs.map(a=>po(a.ref));await Promise.all(i)}catch(e){throw console.error("Error clearing activity logs:",e),new Error("Error al limpiar el historial")}},clearOldLogs:async(t,e=30)=>{try{const n=at(Ce,`admins/${t}/activity_logs`),r=new Date;r.setDate(r.getDate()-e);const i=cn(n,Ct("timestamp","<",rt.fromDate(r))),c=(await Wt(i)).docs.map(d=>po(d.ref));await Promise.all(c)}catch(n){throw console.error("Error clearing old logs:",n),new Error("Error al limpiar logs antiguos")}},getActivityStats:async t=>{try{const e=await Ks.getActivityLogs(t,{limit:1e3}),n={total:e.length,byType:{},byAction:{}};return e.forEach(r=>{n.byType[r.type]=(n.byType[r.type]||0)+1,n.byAction[r.action]=(n.byAction[r.action]||0)+1}),n}catch(e){return console.error("Error getting activity stats:",e),{total:0,byType:{},byAction:{}}}},exportLogs:async t=>Ks.getActivityLogs(t,{limit:1e4})},ES=C.createContext(void 0);function Mf(){const t=C.useContext(ES);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const QE="cangrejeras_user_data",YE="cangrejeras_notification_prefs",Fm={email:{enabled:!0,matches:!0,voting:!0,news:!0,players:!1,standings:!1},push:{enabled:!1,matches:!1,voting:!1,news:!1,players:!1,standings:!1},inApp:{enabled:!0,matches:!0,voting:!0,news:!0,players:!0,standings:!0}};function wF({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(null),[a,c]=C.useState(!0),d=Y=>{try{const A=localStorage.getItem(`${QE}_${Y}`);if(A)return JSON.parse(A)}catch(A){console.error("Error getting stored user data:",A)}return null},f=Y=>{try{localStorage.setItem(`${QE}_${Y.id}`,JSON.stringify(Y))}catch(A){console.error("Error storing user data:",A)}},p=async Y=>{const A=await Zd.getAdmin(Y.uid);if(A)return Zd.updateLastLogin(Y.uid).catch(console.error),A;const b=d(Y.uid);return{id:Y.uid,name:b?.name||Y.displayName||"Usuario",email:Y.email||"",role:b?.role||"Admin",avatar:b?.avatar||Y.photoURL||void 0,createdAt:b?.createdAt||new Date().toISOString(),notificationPreferences:b?.notificationPreferences}};C.useEffect(()=>E3(Ac,async A=>{if(i(A),A){const b=await p(A);f(b),n(b)}else n(null);c(!1)}),[]);const y=async(Y,A)=>{try{const b=await m3(Ac,Y,A),M=await p(b.user);return f(M),H("login","auth","Inicio de sesión exitoso"),M}catch(b){throw console.error("Login error:",b),new Error(Um(b.code))}},g=async()=>{try{e&&H("logout","auth","Cerró sesión"),await T3(Ac)}catch(Y){throw console.error("Logout error:",Y),new Error("Error al cerrar sesión")}},T=async(Y,A,b,M="Admin")=>{try{const k=await p3(Ac,Y,A);await bE(k.user,{displayName:b}),await Zd.createAdmin(k.user.uid,{name:b,email:Y,role:M});const N=await p(k.user);return f(N),H("signup","auth","Cuenta de administrador creada exitosamente"),N}catch(k){throw console.error("Signup error:",k),new Error(Um(k.code))}},I=async Y=>{try{await f3(Ac,Y)}catch(A){throw console.error("Reset password error:",A),new Error(Um(A.code))}},R=async Y=>{try{if(!r)throw new Error("No user logged in");(Y.name!==r.displayName||Y.avatar!==r.photoURL)&&await bE(r,{displayName:Y.name,photoURL:Y.avatar||null}),await Zd.updateAdmin(r.uid,{name:Y.name,role:Y.role,avatar:Y.avatar}),f(Y),n(Y),H("update","auth","Actualizó información de perfil")}catch(A){throw console.error("Update profile error:",A),new Error("Error al actualizar perfil")}},P=async(Y,A)=>{try{if(!r||!r.email)throw new Error("No user logged in");const b=pa.credential(r.email,Y);await h3(r,b),await y3(r,A),H("update","auth","Cambió su contraseña")}catch(b){throw console.error("Update password error:",b),b.code==="auth/wrong-password"?new Error("Contraseña actual incorrecta"):new Error("Error al actualizar contraseña")}},O=()=>{if(!e)return Fm;const Y=localStorage.getItem(`${YE}_${e.id}`);if(Y)try{return JSON.parse(Y)}catch{return Fm}return Fm},B=Y=>{e&&(localStorage.setItem(`${YE}_${e.id}`,JSON.stringify(Y)),H("update","settings","Actualizó preferencias de notificaciones"))},J=async()=>{if(!e)return[];try{return await Ks.getActivityLogs(e.id)}catch(Y){return console.error("Error getting activity logs:",Y),[]}},H=async(Y,A,b,M)=>{if(e)try{await Ks.logActivity(e.id,Y,A,b,M)}catch(k){console.error("Error logging activity:",k)}},re={currentUser:e,firebaseUser:r,loading:a,login:y,logout:g,signup:T,resetPassword:I,updateUserProfile:R,updatePassword:P,getNotificationPreferences:O,updateNotificationPreferences:B,getActivityLogs:J,logActivity:H,clearActivityLogs:async()=>{if(e)try{await Ks.clearAllLogs(e.id)}catch(Y){throw console.error("Error clearing activity logs:",Y),Y}}};return _.jsx(ES.Provider,{value:re,children:!a&&t})}function Um(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Credenciales incorrectas. Por favor verifica tu email y contraseña.";case"auth/email-already-in-use":return"Este email ya está en uso.";case"auth/weak-password":return"La contraseña debe tener al menos 6 caracteres.";case"auth/invalid-email":return"Email inválido.";case"auth/too-many-requests":return"Demasiados intentos. Por favor intenta más tarde.";case"auth/network-request-failed":return"Error de conexión. Verifica tu internet.";default:return"Error al autenticar. Por favor intenta de nuevo."}}const TS=C.createContext(void 0);function _F({children:t}){const{currentUser:e}=Mf(),[n,r]=C.useState([]),[i,a]=C.useState(!0),[c,d]=C.useState([]),[f,p]=C.useState([]),[y,g]=C.useState(null),T=async()=>{try{const k=await un.getAllVenues();d(k.map(N=>N.name))}catch(k){console.error("Error loading venues:",k)}},I=async()=>{try{const k=await Tt.getAllTeams();p(k.map(N=>N.name))}catch(k){console.error("Error loading teams:",k)}},R=async()=>{a(!0);try{const k=await an.getAllMatches();r(k)}catch(k){console.error("Error loading matches:",k),ye.error("Error al cargar partidos")}finally{a(!1)}};C.useEffect(()=>{(async()=>{await Tt.initializePrimaryTeam(),await un.initializeDefaultVenues(),await T(),await I(),await R()})()},[]);const P=n.find(k=>k.status==="live")||null,O=n.filter(k=>k.status==="upcoming").sort((k,N)=>{const j=new Date(`${k.date}T${k.time}`),D=new Date(`${N.date}T${N.time}`);return j.getTime()-D.getTime()})[0]||null;C.useEffect(()=>{const k=P?.id||null;if(k&&k!==y){const N=P;if(N){const j=N.isHomeTeam?N.awayTeam:N.homeTeam;ye.success("¡PARTIDO EN VIVO!",{description:`Cangrejeras vs ${j} - ${N.venue}`,duration:5e3}),"Notification"in window&&Notification.permission==="granted"&&new Notification("¡Partido en Vivo!",{body:`Cangrejeras vs ${j}`,icon:"/favicon.ico",tag:`match-${N.id}`})}}g(k)},[P?.id]),C.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const B=async k=>{if(!e)throw ye.error("Debes estar autenticado"),new Error("User not authenticated");try{const N=await an.createMatch(k,e.id);return r([...n,N]),await Promise.all([I(),T()]),ye.success("Partido creado exitosamente"),N}catch(N){throw ye.error("Error al crear partido"),N}},J=async(k,N)=>{if(!e){ye.error("Debes estar autenticado");return}try{await an.updateMatch(k,N,e.id),r(n.map(j=>{if(j.id===k){const D={...j,...N};return N.homeTeam&&(D.isHomeTeam=N.homeTeam==="Cangrejeras"||N.homeTeam==="Cangrejeras de Santurce"),D}return j})),await Promise.all([I(),T()]),ye.success("Partido actualizado exitosamente")}catch(j){throw ye.error("Error al actualizar partido"),j}},H=async k=>{try{await an.deleteMatch(k),r(n.filter(N=>N.id!==k)),ye.success("Partido eliminado exitosamente")}catch(N){throw ye.error("Error al eliminar partido"),N}},X=async(k,N)=>{if(!e){ye.error("Debes estar autenticado");return}try{await an.updateMatchStatus(k,N,e.id),r(n.map(D=>D.id===k?{...D,status:N}:D));const j={live:"En Vivo",upcoming:"Próximo",completed:"Finalizado"};ye.success(`Estado actualizado a ${j[N]}`)}catch(j){throw ye.error("Error al actualizar estado"),j}},re=async(k,N)=>{if(!e){ye.error("Debes estar autenticado");return}try{await an.updateMatchStatistics(k,N,e.id),r(n.map(j=>j.id===k?{...j,statistics:N}:j)),ye.success("Estadísticas actualizadas")}catch(j){throw ye.error("Error al actualizar estadísticas"),j}},Y=async k=>{const N=k.trim();if(N)try{await un.createVenue({name:N}),await T(),ye.success(`Estadio "${N}" añadido`)}catch(j){ye.error(j.message||"Error al añadir estadio")}},A=async k=>{try{const N=await un.getVenueByName(k);if(!N){ye.error("Estadio no encontrado");return}await un.deleteVenue(N.id),await T(),ye.success(`Estadio "${k}" eliminado`)}catch(N){ye.error("No se puede eliminar",{description:N.message||"Error al eliminar estadio"})}},b=async k=>{const N=k.trim();if(N)try{await Tt.createTeam({name:N}),await I(),ye.success(`Equipo "${N}" añadido`)}catch(j){ye.error(j.message||"Error al añadir equipo")}},M=async k=>{try{const N=await Tt.getTeamByName(k);if(!N){ye.error("Equipo no encontrado");return}await Tt.deleteTeam(N.id),await I(),ye.success(`Equipo "${k}" eliminado`)}catch(N){ye.error("No se puede eliminar",{description:N.message||"Error al eliminar equipo"})}};return _.jsx(TS.Provider,{value:{matches:n,liveMatch:P,nextMatch:O,venues:c,teams:f,isLoading:i,addMatch:B,updateMatch:J,deleteMatch:H,updateMatchStatus:X,updateMatchStats:re,loadMatches:R,addVenue:Y,deleteVenue:A,addTeam:b,deleteTeam:M},children:t})}function iv(){const t=C.useContext(TS);if(t===void 0)throw new Error("useMatches must be used within a MatchProvider");return t}function EF({darkMode:t}){const{liveMatch:e}=iv();if(!e)return null;const n=e.isHomeTeam?e.awayTeam:e.homeTeam,r=e.isHomeTeam?e.homeScore:e.awayScore,i=e.isHomeTeam?e.awayScore:e.homeScore;return _.jsxs("div",{className:"glass-card card-interactive relative overflow-hidden rounded-2xl p-5 border cursor-pointer group",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-lg-dark)":"var(--shadow-lg-light)"},children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[_.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-[#E01E37] animate-pulse-glow shadow-lg",children:[_.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse shadow-sm"}),_.jsx("span",{className:"text-white text-xs",children:"EN VIVO"})]}),e.isHomeTeam!==void 0&&_.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs border flex items-center gap-1.5 ${e.isHomeTeam?"bg-[#C8A963]/20 text-[#C8A963] border-[#C8A963]/30":"bg-[#0C2340]/20 text-[#0C2340] dark:text-[#C8A963] border-[#0C2340]/30 dark:border-[#C8A963]/30"}`,children:e.isHomeTeam?_.jsxs(_.Fragment,{children:[_.jsx(Cg,{size:12}),_.jsx("span",{children:"Local"})]}):_.jsxs(_.Fragment,{children:[_.jsx(fT,{size:12}),_.jsx("span",{children:"Visitante"})]})}),_.jsx("span",{className:`text-xs ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"Votación Abierta"})]}),_.jsxs("div",{className:"mb-4",children:[_.jsxs("h3",{className:`text-xl mb-1 ${t?"text-white":"text-[#0F172A]"}`,children:["vs ",n]}),_.jsxs("div",{className:`flex items-center gap-2 text-sm ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:[_.jsx(dT,{size:14}),_.jsx("span",{children:e.venue})]})]}),_.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[_.jsxs("div",{className:"flex-1 text-center",children:[_.jsx("div",{className:"text-3xl text-[#0C2340] dark:text-[#C8A963]",children:r??0}),_.jsx("div",{className:`text-xs mt-1 ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"CAN"})]}),_.jsx("div",{className:`text-lg ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"-"}),_.jsxs("div",{className:"flex-1 text-center",children:[_.jsx("div",{className:"text-3xl text-[#E84C4C]",children:i??0}),_.jsx("div",{className:`text-xs mt-1 ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:n.substring(0,3).toUpperCase()})]})]}),e.streamUrl&&_.jsxs("a",{href:e.streamUrl,target:"_blank",rel:"noopener noreferrer",className:"glass-button w-full text-white py-3.5 rounded-xl flex items-center justify-center gap-2 group/btn",style:{background:"linear-gradient(135deg, #E01E37 0%, #c01830 100%)",boxShadow:"0 4px 16px rgba(224, 30, 55, 0.3)",transition:"all var(--transition-base)"},children:[_.jsx(IC,{className:"w-5 h-5 transition-transform duration-300 group-hover/btn:scale-110",fill:"white"}),_.jsx("span",{children:"Ver el partido en vivo"})]}),_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#E01E37]/10 rounded-full blur-3xl pointer-events-none"})]})}const $i="players",Br={createPlayer:async(t,e)=>{try{const n={name:t.name,lastName:t.lastName,number:t.number,position:t.position,height:t.height,points:t.points||0,aces:t.aces||0,blocks:t.blocks||0,status:t.status,photo:t.photo||"",bio:t.bio||"",gamesPlayed:t.gamesPlayed||0,gamesWon:t.gamesWon||0,avgPerGame:t.avgPerGame||0,attacks:t.attacks||0,effectiveness:t.effectiveness||0,team:t.team,league:t.league,season:t.season,createdAt:dt(),updatedAt:dt(),createdBy:e,updatedBy:e};return{id:(await mo(at(Ce,$i),n)).id,...t,points:t.points||0,aces:t.aces||0,blocks:t.blocks||0,gamesPlayed:t.gamesPlayed||0,gamesWon:t.gamesWon||0,avgPerGame:t.avgPerGame||0,attacks:t.attacks||0,effectiveness:t.effectiveness||0,createdAt:new Date,updatedAt:new Date,createdBy:e,updatedBy:e}}catch(n){throw console.error("Error creating player:",n),new Error("Error al crear jugadora")}},getPlayer:async t=>{try{const e=Ke(Ce,$i,t),n=await Zs(e);if(!n.exists())return null;const r=n.data();return{id:n.id,name:r.name,lastName:r.lastName,number:r.number,position:r.position,height:r.height,points:r.points,aces:r.aces,blocks:r.blocks,status:r.status,photo:r.photo||"",bio:r.bio||"",gamesPlayed:r.gamesPlayed||0,gamesWon:r.gamesWon||0,avgPerGame:r.avgPerGame||0,attacks:r.attacks||0,effectiveness:r.effectiveness||0,team:r.team,league:r.league,season:r.season,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date,createdBy:r.createdBy,updatedBy:r.updatedBy}}catch(e){throw console.error("Error getting player:",e),new Error("Error al obtener jugadora")}},getAllPlayers:async t=>{try{const e=[];t?.status&&e.push(Ct("status","==",t.status)),t?.position&&e.push(Ct("position","==",t.position)),t?.team&&e.push(Ct("team","==",t.team)),t?.season&&e.push(Ct("season","==",t.season)),e.push(Js("number","asc")),t?.limit&&e.push(Ly(t.limit));const n=cn(at(Ce,$i),...e);return(await Wt(n)).docs.map(i=>{const a=i.data();return{id:i.id,name:a.name,lastName:a.lastName,number:a.number,position:a.position,height:a.height,points:a.points,aces:a.aces,blocks:a.blocks,status:a.status,photo:a.photo||"",bio:a.bio||"",gamesPlayed:a.gamesPlayed||0,gamesWon:a.gamesWon||0,avgPerGame:a.avgPerGame||0,attacks:a.attacks||0,effectiveness:a.effectiveness||0,team:a.team,league:a.league,season:a.season,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date,createdBy:a.createdBy,updatedBy:a.updatedBy}})}catch(e){throw console.error("Error getting players:",e),new Error("Error al obtener jugadoras")}},getActivePlayers:async()=>Br.getAllPlayers({status:"active"}),getPlayersByPosition:async t=>Br.getAllPlayers({position:t}),getPlayersBySeason:async t=>Br.getAllPlayers({season:t}),updatePlayer:async(t,e,n)=>{try{const r=Ke(Ce,$i,t),i={...e,updatedAt:dt(),updatedBy:n};await hn(r,i)}catch(r){throw console.error("Error updating player:",r),new Error("Error al actualizar jugadora")}},updatePlayerStats:async(t,e,n)=>{try{const r=Ke(Ce,$i,t),i={...e,updatedAt:dt(),updatedBy:n};await hn(r,i)}catch(r){throw console.error("Error updating player stats:",r),new Error("Error al actualizar estadísticas")}},updatePlayerPhoto:async(t,e,n)=>{try{const r=Ke(Ce,$i,t);await hn(r,{photo:e,updatedAt:dt(),updatedBy:n})}catch(r){throw console.error("Error updating player photo:",r),new Error("Error al actualizar foto")}},togglePlayerStatus:async(t,e)=>{try{const n=await Br.getPlayer(t);if(!n)throw new Error("Jugadora no encontrada");const r=n.status==="active"?"inactive":"active",i=Ke(Ce,$i,t);await hn(i,{status:r,updatedAt:dt(),updatedBy:e})}catch(n){throw console.error("Error toggling player status:",n),new Error("Error al cambiar estado de jugadora")}},deletePlayer:async t=>{try{const e=Ke(Ce,$i,t);await po(e)}catch(e){throw console.error("Error deleting player:",e),new Error("Error al eliminar jugadora")}},getTeamStats:async t=>{try{const e=t?{season:t}:{},n=await Br.getAllPlayers(e),r=n.filter(p=>p.status==="active"),i=n.filter(p=>p.status==="inactive"),a=n.reduce((p,y)=>p+y.points,0),c=n.reduce((p,y)=>p+y.aces,0),d=n.reduce((p,y)=>p+y.blocks,0),f=n.length>0?n.reduce((p,y)=>p+y.effectiveness,0)/n.length:0;return{totalPlayers:n.length,activePlayers:r.length,inactivePlayers:i.length,totalPoints:a,totalAces:c,totalBlocks:d,avgEffectiveness:Math.round(f*10)/10}}catch(e){throw console.error("Error getting team stats:",e),new Error("Error al obtener estadísticas del equipo")}},getTopPerformers:async(t,e=5)=>{try{return(await Br.getActivePlayers()).sort((r,i)=>i[t]-r[t]).slice(0,e)}catch(n){throw console.error("Error getting top performers:",n),new Error("Error al obtener mejores jugadoras")}}},xS=C.createContext(void 0),TF=t=>({id:parseInt(t.id)||0,name:`${t.name} ${t.lastName}`,jerseyNumber:t.number.toString(),position:t.position,photoUrl:t.photo||void 0,isActive:t.status==="active",height:t.height,hometown:t.bio?.includes("de ")?t.bio.split("de ")[1]:void 0,bio:t.bio});function xF({children:t}){const[e,n]=C.useState([]),[r,i]=C.useState(!0),{currentUser:a}=Mf(),c=e.filter(I=>I.isActive),d=async()=>{try{i(!0),console.log("📥 Cargando jugadoras desde Firestore...");const I=await Br.getAllPlayers();console.log(`✅ ${I.length} jugadoras cargadas desde Firestore`);const R=I.map(TF);n(R)}catch(I){console.error("❌ Error cargando jugadoras:",I),ye.error("Error al cargar jugadoras")}finally{i(!1)}};C.useEffect(()=>{d()},[]);const f=async I=>{if(!a){ye.error("Debes estar autenticado");return}try{const R=I.name.split(" "),P=R[0],O=R.slice(1).join(" ")||R[0];await Br.createPlayer({name:P,lastName:O,number:parseInt(I.jerseyNumber),position:I.position,height:I.height||"1.70m",status:I.isActive?"active":"inactive",photo:I.photoUrl||"",bio:I.bio||"",team:"Cangrejeras de Santurce",league:"Liga de Voleibol Superior Femenino",season:"2024-2025"},a.id),await d(),ye.success("Jugadora agregada exitosamente")}catch(R){console.error("Error agregando jugadora:",R),ye.error("Error al agregar jugadora")}},p=async(I,R)=>{if(!a){ye.error("Debes estar autenticado");return}try{const P={};if(R.name){const O=R.name.split(" ");P.name=O[0],P.lastName=O.slice(1).join(" ")||O[0]}R.jerseyNumber&&(P.number=parseInt(R.jerseyNumber)),R.position&&(P.position=R.position),R.height&&(P.height=R.height),R.photoUrl!==void 0&&(P.photo=R.photoUrl),R.bio&&(P.bio=R.bio),R.isActive!==void 0&&(P.status=R.isActive?"active":"inactive"),await Br.updatePlayer(I.toString(),P,a.id),await d(),ye.success("Jugadora actualizada")}catch(P){console.error("Error actualizando jugadora:",P),ye.error("Error al actualizar jugadora")}},y=async I=>{if(!a){ye.error("Debes estar autenticado");return}try{await Br.deletePlayer(I.toString()),await d(),ye.success("Jugadora eliminada")}catch(R){console.error("Error eliminando jugadora:",R),ye.error("Error al eliminar jugadora")}},g=async I=>{if(!a){ye.error("Debes estar autenticado");return}try{await Br.togglePlayerStatus(I.toString(),a.id),await d()}catch(R){console.error("Error cambiando estado:",R),ye.error("Error al cambiar estado de jugadora")}},T=async()=>{await d()};return _.jsx(xS.Provider,{value:{players:e,activePlayers:c,loading:r,addPlayer:f,updatePlayer:p,deletePlayer:y,togglePlayerStatus:g,reloadPlayers:T},children:t})}function bS(){const t=C.useContext(xS);if(t===void 0)throw new Error("usePlayers must be used within a PlayerProvider");return t}const Cc="voting_templates",Ko={getAllTemplates:async()=>{try{const t=at(Ce,Cc),e=cn(t,Js("createdAt","desc"));return(await Wt(e)).docs.map(r=>({id:r.id,name:r.data().name,description:r.data().description,defaultAutoStart:r.data().defaultAutoStart||!1,defaultScheduledStart:r.data().defaultScheduledStart||!1,defaultPlayerIds:r.data().defaultPlayerIds||[],createdAt:r.data().createdAt?.toDate()||new Date,updatedAt:r.data().updatedAt?.toDate()||new Date}))}catch(t){throw console.error("Error fetching voting templates:",t),t}},getTemplate:async t=>{try{const e=Ke(Ce,Cc,t),n=await Zs(e);if(!n.exists())return null;const r=n.data();return{id:n.id,name:r.name,description:r.description,defaultAutoStart:r.defaultAutoStart||!1,defaultScheduledStart:r.defaultScheduledStart||!1,defaultPlayerIds:r.defaultPlayerIds||[],createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}catch(e){throw console.error("Error getting voting template:",e),e}},createTemplate:async t=>{try{const e={name:t.name.trim(),description:t.description.trim(),defaultAutoStart:t.defaultAutoStart,defaultScheduledStart:t.defaultScheduledStart,defaultPlayerIds:t.defaultPlayerIds,createdAt:dt(),updatedAt:dt()};return{id:(await mo(at(Ce,Cc),e)).id,name:e.name,description:e.description,defaultAutoStart:e.defaultAutoStart,defaultScheduledStart:e.defaultScheduledStart,defaultPlayerIds:e.defaultPlayerIds,createdAt:new Date,updatedAt:new Date}}catch(e){throw console.error("Error creating voting template:",e),e}},updateTemplate:async(t,e)=>{try{const n=Ke(Ce,Cc,t),r={};Object.keys(e).forEach(a=>{const c=e[a];c!==void 0&&(r[a]=c)});const i={...r,updatedAt:dt()};await hn(n,i)}catch(n){throw console.error("Error updating voting template:",n),n}},deleteTemplate:async t=>{try{const e=Ke(Ce,Cc,t);await po(e)}catch(e){throw console.error("Error deleting voting template:",e),e}},initializeDefaultTemplates:async t=>{try{if((await Ko.getAllTemplates()).length>0)return;const n=[{name:"MVP del Partido",description:"¡Vota por la jugadora más valiosa del partido!",defaultAutoStart:!0,defaultScheduledStart:!1,defaultPlayerIds:t},{name:"Mejor Defensiva",description:"Vota por la mejor jugadora defensiva del partido",defaultAutoStart:!0,defaultScheduledStart:!1,defaultPlayerIds:t},{name:"Jugadora Destacada",description:"Vota por la jugadora más destacada",defaultAutoStart:!1,defaultScheduledStart:!1,defaultPlayerIds:t}];for(const r of n)await Ko.createTemplate(r);console.log("Default voting templates initialized")}catch(e){throw console.error("Error initializing default voting templates:",e),e}}},En={createLivePoll:async(t,e=!0)=>{if(await En.getActivePollByMatch(t.matchId))throw new Error("Ya existe una votación activa para este partido. Cierra la votación anterior primero.");const r=t.playerIds.map(c=>({playerId:c,votes:0})),i={matchId:t.matchId,title:t.title,description:t.description,isActive:e,startedAt:e?dt():null,closedAt:null,options:r,totalVotes:0,createdBy:t.createdBy};return{id:(await mo(at(Ce,"live_polls"),i)).id,...i,startedAt:e?new Date:null,closedAt:null}},activateLivePoll:async t=>{console.log("🚀 activateLivePoll - Activando votación:",t);const e=Ke(Ce,"live_polls",t);await hn(e,{isActive:!0,startedAt:dt()}),console.log("✅ activateLivePoll - Votación activada exitosamente:",t)},closeLivePoll:async t=>{const e=Ke(Ce,"live_polls",t);await hn(e,{isActive:!1,closedAt:dt()})},getActivePollByMatch:async t=>{const e=cn(at(Ce,"live_polls"),Ct("matchId","==",t),Ct("isActive","==",!0)),n=await Wt(e);if(n.empty)return null;const r=n.docs[0],i=r.data();return{id:r.id,matchId:i.matchId,title:i.title,description:i.description,isActive:i.isActive,startedAt:i.startedAt?.toDate()||new Date,closedAt:i.closedAt?.toDate()||null,options:i.options||[],totalVotes:i.totalVotes||0,createdBy:i.createdBy}},getPollByMatch:async t=>{console.log("🔍 getPollByMatch - Buscando votación para partido:",t);const e=cn(at(Ce,"live_polls"),Ct("matchId","==",t)),n=await Wt(e);if(console.log("📊 getPollByMatch - Resultados encontrados:",n.size),n.empty)return console.log("❌ getPollByMatch - No se encontró votación para partido:",t),null;const r=n.docs[0],i=r.data(),a={id:r.id,matchId:i.matchId,title:i.title,description:i.description,isActive:i.isActive,startedAt:i.startedAt?.toDate()||null,closedAt:i.closedAt?.toDate()||null,options:i.options||[],totalVotes:i.totalVotes||0,createdBy:i.createdBy};return console.log("✅ getPollByMatch - Votación encontrada:",{id:a.id,title:a.title,isActive:a.isActive,matchId:a.matchId}),a},hasUserVotedInMatch:async(t,e)=>{const n=cn(at(Ce,"votes"),Ct("userId","==",t),Ct("matchId","==",e));return!(await Wt(n)).empty},castVote:async(t,e,n,r)=>{if(await En.hasUserVotedInMatch(n,e))throw new Error("Ya has votado en este partido. Solo puedes votar una vez.");const a=await En.getActivePollByMatch(e);if(!a)throw new Error("No hay votación activa para este partido.");if(a.id!==t)throw new Error("ID de votación no coincide con la votación activa.");if(!a.options.find(d=>d.playerId===r))throw new Error("La jugadora seleccionada no está disponible en esta votación.");await uL(Ce,async d=>{const f=Ke(Ce,"live_polls",t),p=await d.get(f);if(!p.exists())throw new Error("Votación no encontrada.");const y=p.data(),g=y.options.map(I=>I.playerId===r?{...I,votes:I.votes+1}:I);d.update(f,{options:g,totalVotes:y.totalVotes+1});const T=Ke(at(Ce,"votes"));d.set(T,{pollId:t,matchId:e,userId:n,playerId:r,createdAt:dt()})})},getVotesByMatch:async t=>{const e=cn(at(Ce,"votes"),Ct("matchId","==",t),Js("createdAt","desc"));return(await Wt(e)).docs.map(r=>{const i=r.data();return{id:r.id,pollId:i.pollId,matchId:i.matchId,userId:i.userId,playerId:i.playerId,createdAt:i.createdAt?.toDate()||new Date}})},subscribeToPoll:(t,e,n)=>{const r=Ke(Ce,"live_polls",t);return fE(r,a=>{if(a.exists()){const c=a.data(),d={id:a.id,matchId:c.matchId,title:c.title,description:c.description,isActive:c.isActive,startedAt:c.startedAt?.toDate()||new Date,closedAt:c.closedAt?.toDate()||null,options:c.options||[],totalVotes:c.totalVotes||0,createdBy:c.createdBy};e(d)}},a=>{console.error("Error listening to poll updates:",a),n&&n(a)})},subscribeToMatchPoll:(t,e,n)=>{const r=cn(at(Ce,"live_polls"),Ct("matchId","==",t),Ct("isActive","==",!0));return fE(r,a=>{if(a.empty){e(null);return}const c=a.docs[0],d=c.data(),f={id:c.id,matchId:d.matchId,title:d.title,description:d.description,isActive:d.isActive,startedAt:d.startedAt?.toDate()||new Date,closedAt:d.closedAt?.toDate()||null,options:d.options||[],totalVotes:d.totalVotes||0,createdBy:d.createdBy};e(f)},a=>{console.error("Error listening to match poll:",a),n&&n(a)})},getPollHistoryByMatch:async t=>{const e=cn(at(Ce,"live_polls"),Ct("matchId","==",t),Js("startedAt","desc"));return(await Wt(e)).docs.map(r=>{const i=r.data();return{id:r.id,matchId:i.matchId,title:i.title,description:i.description,isActive:i.isActive,startedAt:i.startedAt?.toDate()||new Date,closedAt:i.closedAt?.toDate()||null,options:i.options||[],totalVotes:i.totalVotes||0,createdBy:i.createdBy}})},getPollById:async t=>{const e=Ke(Ce,"live_polls",t),n=await Zs(e);if(!n.exists())return null;const r=n.data();return{id:n.id,matchId:r.matchId,title:r.title,description:r.description,isActive:r.isActive,startedAt:r.startedAt?.toDate()||null,closedAt:r.closedAt?.toDate()||null,options:r.options||[],totalVotes:r.totalVotes||0,createdBy:r.createdBy}},getAllPolls:async()=>{const t=at(Ce,"live_polls"),e=cn(t,Js("startedAt","desc"));return(await Wt(e)).docs.map(r=>{const i=r.data();return{id:r.id,matchId:i.matchId,title:i.title,description:i.description,isActive:i.isActive,startedAt:i.startedAt?.toDate()||null,closedAt:i.closedAt?.toDate()||null,options:i.options||[],totalVotes:i.totalVotes||0,createdBy:i.createdBy}})},getPlayerIdsFromPoll:async t=>{try{const e=await En.getPollById(t);if(!e)return console.error("Votación no encontrada:",t),[];const n=e.options.map(r=>r.playerId);return console.log(`📊 Votación "${e.title}" tiene ${n.length} jugadoras:`,n),n}catch(e){return console.error("Error obteniendo IDs de jugadoras:",e),[]}},isPlayerInPoll:async(t,e)=>(await En.getPlayerIdsFromPoll(t)).includes(e)},IS=C.createContext(void 0);function bF({children:t}){const{liveMatch:e,matches:n}=iv(),{players:r,activePlayers:i}=bS(),[a,c]=C.useState([]),[d,f]=C.useState(null),p=async()=>{try{if(i.length===0){console.log("⏳ Esperando que se carguen las jugadoras activas...");return}const V=i.map(q=>q.id);console.log("📊 Inicializando plantillas con jugadoras reales:",V),await Ko.initializeDefaultTemplates(V);const F=await Ko.getAllTemplates();c(F.map(q=>({...q,type:"template",createdAt:q.createdAt.toISOString(),updatedAt:q.updatedAt.toISOString()}))),console.log(`✅ ${F.length} plantillas cargadas con jugadoras reales`)}catch(V){console.error("Error loading voting templates:",V)}};C.useEffect(()=>{i.length>0&&p()},[i.length]),C.useEffect(()=>{if(!e){f(null);return}(async()=>{try{const q=await En.getPollByMatch(e.id);f(q)}catch(q){console.error("Error loading poll for match:",q)}})();const F=En.subscribeToMatchPoll(e.id,q=>{f(q)},q=>{console.error("Error listening to live poll:",q)});return()=>{F()}},[e?.id]),C.useEffect(()=>{(async()=>{if(e)try{const F=await En.getPollByMatch(e.id);F&&!F.isActive&&(await En.activateLivePoll(F.id),ye.success("✅ ¡Votación Activada Automáticamente!",{description:F.title,duration:5e3}),console.log(`✅ Votación activada automáticamente para el partido ${e.id}`))}catch(F){console.error("Error auto-activating voting:",F)}})()},[e?.id]),C.useEffect(()=>{(async()=>{const F=n.filter(q=>q.status==="completed");for(const q of F)try{const K=await En.getActivePollByMatch(q.id);K&&K.isActive&&(await En.closeLivePoll(K.id),ye.info("✅ Votación Cerrada Automáticamente",{description:`${K.title} - ${K.totalVotes} votos totales`,duration:4e3}),console.log(`✅ Votación cerrada automáticamente para el partido ${q.id}`))}catch(K){console.error(`Error auto-closing voting for match ${q.id}:`,K)}})()},[n]);const[y,g]=C.useState(()=>[{id:"poll-1",templateId:"template-1",matchId:1,title:"MVP del Partido",description:"¡Vota por la jugadora más valiosa del partido!",isActive:!0,status:"active",autoStartEnabled:!0,scheduledStartEnabled:!1,totalVotes:1234,userHasVoted:!1,options:r.filter(F=>F.active).slice(0,4).map(F=>F.id).map(F=>({playerId:F,votes:Math.floor(Math.random()*400),percentage:0})),createdAt:new Date().toISOString(),startedAt:new Date().toISOString()}]),[T,I]=C.useState(null),[R,P]=C.useState(new Set);C.useEffect(()=>{g(V=>V.map(F=>{const q=F.options.reduce((K,ae)=>K+ae.votes,0);return{...F,totalVotes:q,options:F.options.map(K=>({...K,percentage:q>0?K.votes/q*100:0}))}}))},[]),C.useEffect(()=>{const V=e?.id||null;if(V&&V!==T){const F=y.filter(q=>q.matchId===V&&q.autoStartEnabled&&!q.isActive);F.length>0&&(g(q=>q.map(K=>F.some(ae=>ae.id===K.id)?{...K,isActive:!0,status:"active",startedAt:new Date().toISOString()}:K)),ye.success("¡Votación Abierta!",{description:"Vota por la mejor jugadora del partido",duration:5e3}),"Notification"in window&&Notification.permission==="granted"&&new Notification("¡Votación Abierta!",{body:"Vota por la mejor jugadora del partido",icon:"/favicon.ico"}))}I(V)},[e?.id,y]),C.useEffect(()=>{n.filter(F=>F.status==="completed").forEach(F=>{const q=y.filter(K=>K.matchId===F.id&&K.isActive);q.length>0&&(g(K=>K.map(ae=>{if(q.some(ue=>ue.id===ae.id)){const ue=ae.options.reduce((me,xe)=>xe.votes>me.votes?xe:me,ae.options[0]),le={winner:{playerId:ue.playerId,votes:ue.votes,percentage:ue.percentage},rankings:[...ae.options].sort((me,xe)=>xe.votes-me.votes),totalVotes:ae.totalVotes,closedAt:new Date().toISOString()};return{...ae,isActive:!1,status:"completed",endedAt:new Date().toISOString(),results:le}}return ae})),ye.info("✅ Votación Cerrada",{description:"La votación ha finalizado",duration:3e3}))})},[n]),C.useEffect(()=>{const V=()=>{const q=new Date;y.forEach(K=>{if(K.scheduledStartEnabled&&!K.isActive&&K.scheduledStartDate&&K.scheduledStartTime&&!R.has(K.id)){const ae=new Date(`${K.scheduledStartDate}T${K.scheduledStartTime}`);q>=ae&&q.getTime()-ae.getTime()<6e4&&(g(ue=>ue.map(le=>le.id===K.id?{...le,isActive:!0,status:"active",startedAt:new Date().toISOString()}:le)),P(ue=>new Set(ue).add(K.id)),ye.success("¡Votación Programada Iniciada!",{description:K.title,duration:5e3}),"Notification"in window&&Notification.permission==="granted"&&new Notification("¡Votación Iniciada!",{body:K.title,icon:"/favicon.ico"}))}if(K.isActive&&K.scheduledEndDate&&K.scheduledEndTime){const ae=new Date(`${K.scheduledEndDate}T${K.scheduledEndTime}`);if(q>=ae){const ue=K.options.reduce((me,xe)=>xe.votes>me.votes?xe:me,K.options[0]),le={winner:{playerId:ue.playerId,votes:ue.votes,percentage:ue.percentage},rankings:[...K.options].sort((me,xe)=>xe.votes-me.votes),totalVotes:K.totalVotes,closedAt:new Date().toISOString()};g(me=>me.map(xe=>xe.id===K.id?{...xe,isActive:!1,status:"completed",endedAt:new Date().toISOString(),results:le}:xe)),ye.info("✅ Votación Cerrada (Programada)",{description:K.title,duration:3e3})}}})};V();const F=setInterval(V,6e4);return()=>clearInterval(F)},[y,R]);const O=y.find(V=>V.isActive)||null,B=async V=>{try{const F=await Ko.createTemplate({name:V.name,description:V.description,defaultAutoStart:V.defaultAutoStart,defaultScheduledStart:V.defaultScheduledStart,defaultPlayerIds:V.defaultPlayerIds}),q={...F,type:"template",createdAt:F.createdAt.toISOString(),updatedAt:F.updatedAt.toISOString()};return c([...a,q]),ye.success("Plantilla de votación creada"),q}catch(F){throw ye.error("Error al crear plantilla"),F}},J=async(V,F)=>{try{await Ko.updateTemplate(V,{name:F.name,description:F.description,defaultAutoStart:F.defaultAutoStart,defaultScheduledStart:F.defaultScheduledStart,defaultPlayerIds:F.defaultPlayerIds}),c(a.map(q=>q.id===V?{...q,...F,updatedAt:new Date().toISOString()}:q)),ye.success("Plantilla actualizada")}catch(q){throw ye.error("Error al actualizar plantilla"),q}},H=async V=>{try{await Ko.deleteTemplate(V),c(a.filter(F=>F.id!==V)),ye.success("Plantilla eliminada")}catch(F){throw ye.error("Error al eliminar plantilla"),F}},X=V=>{const F={...V,id:`poll-${Date.now()}`,status:V.isActive?"active":"upcoming",totalVotes:0,userHasVoted:!1,options:V.options.map(q=>({...q,votes:0,percentage:0})),createdAt:new Date().toISOString(),startedAt:V.isActive?new Date().toISOString():void 0};return g([...y,F]),ye.success("Votación creada exitosamente"),F},re=(V,F,q)=>{const K=a.find(le=>le.id===V);if(!K)throw ye.error("Plantilla no encontrada"),new Error("Template not found");const ae=r.filter(le=>le.active).map(le=>le.id),ue={id:`poll-${Date.now()}`,templateId:K.id,matchId:F,title:K.name,description:K.description,isActive:!1,status:"upcoming",autoStartEnabled:K.defaultAutoStart,scheduledStartEnabled:K.defaultScheduledStart,totalVotes:0,userHasVoted:!1,options:ae.map(le=>({playerId:le,votes:0,percentage:0})),createdAt:new Date().toISOString(),...q};return g([...y,ue]),ye.success(`Votación "${K.name}" creada desde plantilla`),ue},Y=(V,F)=>{g(y.map(q=>{if(q.id===V){const K={...q,...F};if(F.options){const ae=K.options.reduce((ue,le)=>ue+le.votes,0);K.totalVotes=ae,K.options=K.options.map(ue=>({...ue,percentage:ae>0?ue.votes/ae*100:0}))}return K}return q})),ye.success("Votación actualizada")},A=V=>{g(y.filter(F=>F.id!==V)),ye.success("Votación eliminada")},b=V=>{g(y.map(F=>{if(F.id===V){if(!F.isActive)return ye.success("Votación Abierta",{description:F.title}),{...F,isActive:!0,status:"active",startedAt:F.startedAt||new Date().toISOString()};{const K=F.options.reduce((ue,le)=>le.votes>ue.votes?le:ue,F.options[0]),ae={winner:{playerId:K.playerId,votes:K.votes,percentage:K.percentage},rankings:[...F.options].sort((ue,le)=>le.votes-ue.votes),totalVotes:F.totalVotes,closedAt:new Date().toISOString()};return ye.info("✅ Votación Cerrada",{description:F.title}),{...F,isActive:!1,status:"completed",endedAt:new Date().toISOString(),results:ae}}}return F}))},M=V=>{g(y.map(F=>F.id===V?{...F,status:"archived"}:F)),ye.success("Votación archivada")},k=(V,F)=>{const q=y.find(ae=>ae.id===V);if(!q){ye.error("Votación no encontrada");return}if(!q.isActive){ye.error("Esta votación está cerrada");return}if(q.userHasVoted){ye.error("Ya has votado en esta votación");return}g(ae=>ae.map(ue=>{if(ue.id===V){const le=ue.options.map(xe=>xe.playerId===F?{...xe,votes:xe.votes+1}:xe),me=le.reduce((xe,it)=>xe+it.votes,0);return{...ue,userHasVoted:!0,totalVotes:me,options:le.map(xe=>({...xe,percentage:me>0?xe.votes/me*100:0}))}}return ue}));const K=r.find(ae=>ae.id===F);ye.success("¡Voto registrado!",{description:K?`Votaste por ${K.name}`:"Tu voto ha sido registrado"})},N=V=>{g(F=>F.map(q=>q.id===V?{...q,totalVotes:0,userHasVoted:!1,results:void 0,options:q.options.map(K=>({...K,votes:0,percentage:0}))}:q)),ye.success("Votos reiniciados")},j=V=>y.filter(F=>F.matchId===V),D=()=>y.filter(V=>V.status==="archived"),be=()=>a,Oe=()=>y.filter(V=>!V.matchId&&V.status==="upcoming"),pe=async(V,F,q,K,ae)=>{try{const ue=await En.createLivePoll({matchId:V,title:F,description:q,playerIds:K,createdBy:ae});f(ue),ye.success("¡Votación en Vivo Abierta!",{description:F,duration:5e3})}catch(ue){throw ye.error("Error al abrir votación",{description:ue.message||"Intenta nuevamente"}),ue}},we=async V=>{try{await En.activateLivePoll(V),ye.success("✅ Votación Activada",{description:"La votación ahora está abierta",duration:3e3})}catch(F){throw ye.error("Error al activar votación",{description:F.message||"Intenta nuevamente"}),F}},$=async()=>{if(!d){ye.error("No hay votación activa para cerrar");return}try{await En.closeLivePoll(d.id),ye.success("✅ Votación Cerrada",{description:`${d.totalVotes} votos totales`,duration:3e3})}catch(V){throw ye.error("Error al cerrar votación",{description:V.message||"Intenta nuevamente"}),V}},te=async(V,F)=>{try{return await En.hasUserVotedInMatch(V,F)}catch(q){return console.error("Error checking if user voted:",q),!1}},oe=async(V,F)=>{if(!d){ye.error("No hay votación activa");return}try{await En.castVote(d.id,d.matchId,V,F);const q=r.find(K=>K.id===F);ye.success("¡Voto Registrado!",{description:q?`Votaste por ${q.name}`:"Tu voto ha sido registrado",duration:3e3})}catch(q){throw ye.error("Error al votar",{description:q.message||"Intenta nuevamente"}),q}};return _.jsx(IS.Provider,{value:{templates:a,createTemplate:B,updateTemplate:J,deleteTemplate:H,polls:y,activePoll:O,createPoll:X,createPollFromTemplate:re,updatePoll:Y,deletePoll:A,togglePollStatus:b,archivePoll:M,vote:k,resetPollVotes:N,getPollsByMatch:j,getArchivedPolls:D,getAvailableTemplates:be,getUnassignedPolls:Oe,livePoll:d,openLiveVoting:pe,activateLiveVoting:we,closeLiveVoting:$,hasUserVoted:te,castVote:oe},children:t})}function IF(){const t=C.useContext(IS);if(t===void 0)throw new Error("useVoting must be used within a VotingProvider");return t}function SF({darkMode:t}){const{activePoll:e,vote:n}=IF(),{players:r}=bS(),i=a=>{e&&n(e.id,a)};return e?_.jsxs("div",{className:"glass-card relative overflow-hidden rounded-2xl p-5 border",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-lg-dark)":"var(--shadow-lg-light)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-5",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(UC,{className:"w-5 h-5 text-[#10B981]"}),_.jsx("h3",{className:`${t?"text-white":"text-[#0F172A]"}`,children:e.title})]}),_.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-[#10B981]/10 border border-[#10B981]/20",children:[_.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full animate-pulse shadow-sm"}),_.jsx("span",{className:"text-xs text-[#10B981]",children:"En vivo"})]})]}),e.description&&_.jsx("p",{className:`text-sm mb-4 ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:e.description}),_.jsx("div",{className:"space-y-4 mb-5",children:e.options.sort((a,c)=>c.votes-a.votes).map((a,c)=>{const d=r.find(f=>f.id===a.playerId);return d?_.jsxs("button",{onClick:()=>i(a.playerId),disabled:e.userHasVoted,className:`w-full text-left relative group ${e.userHasVoted?"cursor-not-allowed opacity-80":"cursor-pointer card-interactive"}`,style:{transition:"all var(--transition-base)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[c===0&&_.jsx(Kh,{className:"w-4 h-4 text-[#C8A963]"}),_.jsx("span",{className:`${t?"text-white":"text-[#0F172A]"}`,children:d.name})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("div",{className:`${c===0?"text-[#C8A963]":c===1?"text-[#E01E37]":"text-[#0C2340]"}`,children:[a.percentage.toFixed(1),"%"]}),_.jsxs("div",{className:`text-xs ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:[a.votes.toLocaleString()," votos"]})]})]}),_.jsxs("div",{className:`text-xs mb-2 ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:[d.position," • #",d.jersey]}),_.jsx("div",{className:`h-2.5 rounded-full overflow-hidden ${t?"bg-[#1e293b]":"bg-gray-200"} shadow-inner`,children:_.jsx("div",{className:`h-full rounded-full ${c===0?"bg-gradient-to-r from-[#C8A963] to-[#d4b873]":c===1?"bg-gradient-to-r from-[#E01E37] to-[#f02847]":"bg-gradient-to-r from-[#0C2340] to-[#1e3a5f]"}`,style:{width:`${a.percentage}%`,transition:"width 1000ms cubic-bezier(0.34, 1.56, 0.64, 1)",boxShadow:c===0?"0 2px 8px rgba(200, 169, 99, 0.4)":c===1?"0 2px 8px rgba(224, 30, 55, 0.4)":"0 2px 8px rgba(12, 35, 64, 0.3)"}})})]},a.playerId):null})}),e.userHasVoted&&_.jsx("div",{className:"w-full bg-gradient-to-r from-[#10B981]/20 to-[#10B981]/10 text-[#10B981] py-3 rounded-xl text-center mb-3 border border-[#10B981]/30 animate-scale-in shadow-lg",children:_.jsxs("span",{className:"inline-flex items-center gap-2",children:[_.jsx("span",{className:"text-lg",children:"✓"}),_.jsx("span",{children:"Tu voto ha sido registrado"})]})}),_.jsxs("div",{className:`text-center text-xs ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:["Total: ",e.totalVotes.toLocaleString()," votos"]}),_.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-[#C8A963]/10 rounded-full blur-3xl pointer-events-none"})]}):_.jsx("div",{className:"glass-card relative overflow-hidden rounded-2xl p-8 border text-center",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-lg-dark)":"var(--shadow-lg-light)"},children:_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx("div",{className:`p-4 rounded-full ${t?"bg-white/10":"bg-gray-100"}`,children:_.jsx(fC,{className:`w-8 h-8 ${t?"text-white/60":"text-gray-400"}`})}),_.jsx("h3",{className:`${t?"text-white":"text-[#0F172A]"}`,children:"Votación Cerrada"}),_.jsx("p",{className:`text-sm ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"No hay votaciones activas en este momento"})]})})}function AF({darkMode:t}){const{nextMatch:e}=iv();if(!e)return _.jsxs("div",{className:"glass-card relative overflow-hidden rounded-2xl p-5 border",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-lg-dark)":"var(--shadow-lg-light)"},children:[_.jsx("h3",{className:`mb-4 ${t?"text-white":"text-[#0F172A]"}`,children:"Próximo Partido"}),_.jsxs("div",{className:`text-center py-8 ${t?"text-white/60":"text-gray-500"}`,children:[_.jsx($c,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),_.jsx("p",{className:"text-sm",children:"No hay partidos programados"})]})]});const n=e.isHomeTeam?e.awayTeam:e.homeTeam,r=new Date(e.date),i=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],c=`${i[r.getDay()]}, ${r.getDate()} de ${a[r.getMonth()]}`,[d,f]=e.time.split(":"),p=parseInt(d),y=p>=12?"PM":"AM",T=`${p>12?p-12:p===0?12:p}:${f} ${y}`;return _.jsxs("div",{className:"glass-card card-interactive relative overflow-hidden rounded-2xl p-5 border",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-lg-dark)":"var(--shadow-lg-light)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h3",{className:`${t?"text-white":"text-[#0F172A]"}`,children:"Próximo Partido"}),e.isHomeTeam!==void 0&&_.jsx("div",{className:`px-3 py-1 rounded-full text-xs border flex items-center gap-1.5 ${e.isHomeTeam?"bg-[#C8A963]/20 text-[#C8A963] border-[#C8A963]/30":"bg-[#0C2340]/20 text-[#0C2340] dark:text-[#C8A963] border-[#0C2340]/30 dark:border-[#C8A963]/30"}`,children:e.isHomeTeam?_.jsxs(_.Fragment,{children:[_.jsx(Cg,{size:12}),_.jsx("span",{children:"Local"})]}):_.jsxs(_.Fragment,{children:[_.jsx(fT,{size:12}),_.jsx("span",{children:"Visitante"})]})})]}),_.jsxs("div",{className:"flex items-center justify-between mb-5",children:[_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center border-2",style:{backgroundColor:"rgba(12, 35, 64, 0.1)",borderColor:"#0C2340"},children:_.jsx("span",{className:"text-[#0C2340]",children:"CAN"})}),_.jsx("span",{className:`text-xs text-center ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"Cangrejeras"})]}),_.jsx("div",{className:`text-2xl ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:"VS"}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center border-2",style:{backgroundColor:"rgba(232, 76, 76, 0.1)",borderColor:"#E84C4C"},children:_.jsx("span",{className:"text-[#E84C4C]",children:n.substring(0,3).toUpperCase()})}),_.jsx("span",{className:`text-xs text-center ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:n})]})]}),_.jsxs("div",{className:"space-y-3 mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx($c,{className:`w-4 h-4 ${t?"text-[#C8A963]":"text-[#0C2340]"}`}),_.jsx("span",{className:`text-sm ${t?"text-[#F1F5F9]":"text-[#0F172A]"}`,children:c})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(iC,{className:`w-4 h-4 ${t?"text-[#C8A963]":"text-[#0C2340]"}`}),_.jsx("span",{className:`text-sm ${t?"text-[#F1F5F9]":"text-[#0F172A]"}`,children:T})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(dT,{className:`w-4 h-4 ${t?"text-[#C8A963]":"text-[#0C2340]"}`}),_.jsx("span",{className:`text-sm ${t?"text-[#F1F5F9]":"text-[#0F172A]"}`,children:e.venue})]})]}),e.description&&_.jsx("p",{className:`text-xs mb-4 ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:e.description}),e.ticketUrl?_.jsxs("a",{href:e.ticketUrl,target:"_blank",rel:"noopener noreferrer",className:"glass-button w-full text-white py-3 rounded-xl flex items-center justify-center gap-2 group",style:{background:"linear-gradient(135deg, #0C2340 0%, #1e3a5f 100%)",boxShadow:"0 4px 16px rgba(12, 35, 64, 0.3)",transition:"all var(--transition-base)"},children:[_.jsx(jC,{size:18,className:"transition-transform duration-300 group-hover:scale-110"}),_.jsx("span",{children:"Comprar Boletos"})]}):_.jsx("button",{className:"glass-button w-full text-white py-3 rounded-xl",style:{background:"linear-gradient(135deg, #0C2340 0%, #1e3a5f 100%)",boxShadow:"0 4px 16px rgba(12, 35, 64, 0.3)",transition:"all var(--transition-base)"},children:"Ver detalles"}),_.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[#0C2340]/10 rounded-full blur-2xl pointer-events-none"})]})}const CF=[{id:1,icon:oT,title:"Estadísticas",subtitle:"Ver todas",color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.1)"},{id:2,icon:Ag,title:"Noticias",subtitle:"Últimas",color:"#EC4899",bgColor:"rgba(236, 72, 153, 0.1)"},{id:3,icon:$c,title:"Boletos",subtitle:"Comprar",color:"#F97316",bgColor:"rgba(249, 115, 22, 0.1)"},{id:4,icon:kC,title:"Tienda",subtitle:"Merchandising",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.1)"}];function RF({darkMode:t}){return _.jsx("div",{className:"grid grid-cols-2 gap-3",children:CF.map(e=>{const n=e.icon;return _.jsxs("button",{className:"glass-card card-interactive relative overflow-hidden rounded-xl p-4 border group",style:{background:t?"var(--glass-bg-dark)":"var(--glass-bg-light)",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"var(--shadow-md-dark)":"var(--shadow-md-light)",transition:"all var(--transition-base)"},children:[_.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",style:{backgroundColor:e.bgColor,boxShadow:`0 4px 12px ${e.color}20`},children:_.jsx(n,{className:"w-6 h-6 transition-transform duration-300 group-hover:scale-110",style:{color:e.color}})}),_.jsxs("div",{className:"text-left",children:[_.jsx("h4",{className:`font-semibold mb-0.5 ${t?"text-white":"text-[#0F172A]"}`,children:e.title}),_.jsx("p",{className:`text-xs ${t?"text-[#94A3B8]":"text-[#475569]"}`,children:e.subtitle})]}),_.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300 pointer-events-none",style:{background:`linear-gradient(135deg, ${e.color} 0%, transparent 100%)`}})]},e.id)})})}function PF({darkMode:t}){return _.jsxs("div",{className:"card-interactive relative overflow-hidden rounded-2xl p-8 border cursor-pointer group",style:{background:"linear-gradient(135deg, #F2C94C 0%, #F2994A 100%)",borderColor:"rgba(0, 0, 0, 0.1)",boxShadow:"0 8px 32px 0 rgba(242, 201, 76, 0.3)",transition:"all var(--transition-base)"},children:[_.jsxs("div",{className:"text-center relative z-10",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30 animate-float transition-transform duration-300 group-hover:scale-110",children:_.jsx(Kh,{className:"w-10 h-10 text-[#0C2340] transition-transform duration-300 group-hover:rotate-12"})})}),_.jsx("h3",{className:"text-[#0C2340] mb-1 transition-all duration-300 group-hover:scale-105",children:"PATROCINADOR OFICIAL"}),_.jsx("p",{className:"text-[#0F172A] text-sm opacity-80",children:"ESPACIO PUBLICITARIO"}),_.jsx("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/30 backdrop-blur-sm border border-white/40 transition-all duration-300 group-hover:bg-white/40 group-hover:scale-105",children:_.jsx("span",{className:"text-xs text-[#0C2340]",children:"Tu marca aquí"})})]}),_.jsx("div",{className:"animate-float absolute top-0 left-0 w-32 h-32 bg-white/20 rounded-full blur-3xl",style:{animationDelay:"0.5s"}}),_.jsx("div",{className:"animate-float absolute bottom-0 right-0 w-40 h-40 bg-[#0C2340]/10 rounded-full blur-3xl",style:{animationDelay:"1.5s"}}),_.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, #0C2340 10px, #0C2340 20px)"}})]})}const kF=[{id:"home",icon:Cg,label:"Inicio"},{id:"matches",icon:$c,label:"Partidos"},{id:"standings",icon:Kh,label:"Tabla"},{id:"roster",icon:gT,label:"Roster"},{id:"settings",icon:Gh,label:"Ajustes"}];function NF({darkMode:t}){const[e,n]=C.useState("home");return _.jsx("nav",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto border-t z-50",style:{background:t?"rgba(15, 23, 42, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(var(--glass-blur))",borderColor:t?"var(--glass-border-dark)":"var(--glass-border-light)",boxShadow:t?"0 -8px 32px rgba(0, 0, 0, 0.5)":"0 -8px 32px rgba(0, 0, 0, 0.1)",transition:"all var(--transition-base)"},children:_.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-bottom",children:kF.map(r=>{const i=r.icon,a=e===r.id;return _.jsxs("button",{onClick:()=>n(r.id),className:"glass-button flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl min-w-[60px] group/nav",style:{backgroundColor:a?t?"rgba(12, 35, 64, 0.3)":"rgba(12, 35, 64, 0.1)":"transparent",transition:"all var(--transition-base)"},children:[_.jsx(i,{className:`w-5 h-5 transition-all duration-300 ${a?"text-[#0C2340] dark:text-[#C8A963] scale-110":t?"text-[#94A3B8] group-hover/nav:text-[#C8A963]":"text-[#475569] group-hover/nav:text-[#0C2340]"} ${!a&&"group-hover/nav:scale-105 group-hover/nav:-translate-y-0.5"}`}),_.jsx("span",{className:`text-[10px] transition-all duration-300 ${a?"text-[#0C2340] dark:text-[#C8A963] font-semibold":t?"text-[#94A3B8] group-hover/nav:text-[#C8A963]":"text-[#475569] group-hover/nav:text-[#0C2340]"}`,children:r.label}),a&&_.jsx("div",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 bg-[#0C2340] dark:bg-[#C8A963] rounded-full animate-pulse"})]},r.id)})})})}const XE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,JE=W1,SS=(t,e)=>n=>{var r;if(e?.variants==null)return JE(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,c=Object.keys(i).map(p=>{const y=n?.[p],g=a?.[p];if(y===null)return null;const T=XE(y)||XE(g);return i[p][T]}),d=n&&Object.entries(n).reduce((p,y)=>{let[g,T]=y;return T===void 0||(p[g]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:T,...I}=y;return Object.entries(I).every(R=>{let[P,O]=R;return Array.isArray(O)?O.includes({...a,...d}[P]):{...a,...d}[P]===O})?[...p,g,T]:p},[]);return JE(t,c,f,n?.class,n?.className)},DF=SS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-4 focus-visible:ring-offset-0 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg focus-visible:ring-primary/30",destructive:"bg-destructive text-white hover:bg-destructive/90 shadow-md hover:shadow-lg focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-2 bg-white/50 dark:bg-white/5 backdrop-blur-sm text-foreground hover:bg-white dark:hover:bg-white/10 border-gray-200 dark:border-white/10 hover:border-[#C8A963]/40 dark:hover:border-[#C8A963]/30 focus-visible:ring-[#0C2340]/20 dark:focus-visible:ring-[#C8A963]/30",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md focus-visible:ring-secondary/30",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 focus-visible:ring-accent/30",link:"text-primary underline-offset-4 hover:underline focus-visible:ring-0"},size:{default:"h-11 px-5 py-2.5 has-[>svg]:px-4",sm:"h-9 rounded-lg gap-1.5 px-4 has-[>svg]:px-3",lg:"h-12 rounded-lg px-7 has-[>svg]:px-5 text-base",icon:"size-11 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}});function MF({className:t,variant:e,size:n,asChild:r=!1,...i}){const a=r?KC:"button";return _.jsx(a,{"data-slot":"button",className:ci(DF({variant:e,size:n,className:t})),...i})}function ZE({className:t,type:e,...n}){return _.jsx("input",{type:e,"data-slot":"input",className:ci("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","flex h-11 w-full min-w-0 rounded-lg border px-4 py-2.5 text-base","bg-white/50 dark:bg-white/5 backdrop-blur-sm","border-gray-200/60 dark:border-white/10","transition-all duration-300 outline-none","hover:border-[#C8A963]/40 dark:hover:border-[#C8A963]/30 hover:bg-white/80 dark:hover:bg-white/10","focus-visible:border-[#0C2340] dark:focus-visible:border-[#C8A963]","focus-visible:ring-4 focus-visible:ring-[#0C2340]/10 dark:focus-visible:ring-[#C8A963]/20","focus-visible:bg-white dark:focus-visible:bg-white/10","focus-visible:shadow-lg focus-visible:shadow-[#0C2340]/5 dark:focus-visible:shadow-[#C8A963]/10","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","md:text-sm",t),...n})}var OF="Label",AS=C.forwardRef((t,e)=>_.jsx(In.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AS.displayName=OF;var VF=AS;function eT({className:t,...e}){return _.jsx(VF,{"data-slot":"label",className:ci("flex items-center gap-2 text-sm leading-none font-semibold select-none","text-gray-700 dark:text-white/90 mb-2","transition-colors duration-200","group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50","peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const LF=SS("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function jF({className:t,variant:e,...n}){return _.jsx("div",{"data-slot":"alert",role:"alert",className:ci(LF({variant:e}),t),...n})}function FF({className:t,...e}){return _.jsx("div",{"data-slot":"alert-description",className:ci("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function UF({speed:t=.5}){const e=C.useRef(null);return C.useEffect(()=>{const n=e.current;if(!n)return;const r=n.getContext("2d");if(!r)return;let i,a=0;const c=()=>{const p=n.parentElement;p&&(n.width=p.clientWidth,n.height=p.clientHeight)},d=()=>{if(!r||!n)return;const p=n.width,y=n.height;r.fillStyle="#0C2340",r.fillRect(0,0,p,y);const g=r.createRadialGradient(p*(.3+Math.sin(a*.001)*.2),y*(.3+Math.cos(a*.0015)*.2),0,p*.5,y*.5,p*.8);g.addColorStop(0,"rgba(200, 169, 99, 0.15)"),g.addColorStop(.5,"rgba(12, 35, 64, 0.3)"),g.addColorStop(1,"rgba(12, 35, 64, 0)"),r.fillStyle=g,r.fillRect(0,0,p,y);const T=r.createRadialGradient(p*(.7+Math.sin(a*.0012)*.2),y*(.7+Math.cos(a*8e-4)*.2),0,p*.5,y*.5,p*.8);T.addColorStop(0,"rgba(224, 30, 55, 0.08)"),T.addColorStop(.5,"rgba(12, 35, 64, 0.2)"),T.addColorStop(1,"rgba(12, 35, 64, 0)"),r.fillStyle=T,r.fillRect(0,0,p,y),r.fillStyle="rgba(200, 169, 99, 0.1)";for(let I=0;I<50;I++){const R=p/2+Math.sin(a*5e-4+I)*(p*.4),P=y/2+Math.cos(a*7e-4+I)*(y*.4),O=2+Math.sin(a*.001+I)*1;r.beginPath(),r.arc(R,P,O,0,Math.PI*2),r.fill()}},f=()=>{a+=t*16,d(),i=requestAnimationFrame(f)};return c(),window.addEventListener("resize",c),f(),()=>{window.removeEventListener("resize",c),cancelAnimationFrame(i)}},[t]),_.jsx("canvas",{ref:e,className:"darkveil-canvas"})}function BF({darkMode:t}){const[e,n]=C.useState(""),[r,i]=C.useState(""),[a,c]=C.useState(""),[d,f]=C.useState(!1),{login:p}=Mf(),y=async g=>{g.preventDefault(),c(""),f(!0);try{await p(e,r)}catch(T){c(T.message||"Credenciales incorrectas. Por favor verifica tu email y contraseña.")}finally{f(!1)}};return _.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden animate-fade-in",children:[_.jsx("div",{className:"fixed inset-0 z-0",children:_.jsx(UF,{hueShift:200,noiseIntensity:.03,scanlineIntensity:.1,speed:.3,scanlineFrequency:.1,warpAmount:.3,resolutionScale:.8})}),_.jsx("div",{className:"fixed inset-0 z-0 bg-[#0C2340]/70",style:{transition:"opacity var(--transition-base)"}}),_.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[_.jsx("div",{className:"animate-float absolute top-1/4 left-10 w-32 h-32 bg-[#C8A963]/10 rounded-full blur-3xl",style:{animationDelay:"0s"}}),_.jsx("div",{className:"animate-float absolute bottom-1/3 right-10 w-40 h-40 bg-[#E01E37]/10 rounded-full blur-3xl",style:{animationDelay:"1.5s"}})]}),_.jsxs("div",{className:"w-full max-w-md relative z-10 animate-scale-in",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#0C2340] to-[#C8A963] flex items-center justify-center ring-4 ring-white/20 animate-float group cursor-pointer",style:{boxShadow:"var(--shadow-xl-dark), 0 0 40px rgba(200, 169, 99, 0.3)",transition:"all var(--transition-base)"},children:_.jsx(pT,{size:36,className:"text-white transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"})}),_.jsx("h1",{className:"text-3xl mb-2 text-white drop-shadow-lg",style:{transition:"all var(--transition-base)"},children:"Panel de Administración"}),_.jsx("p",{className:"text-[#C8A963] drop-shadow-md",style:{transition:"color var(--transition-fast)"},children:"Cangrejeras de Santurce"})]}),_.jsxs("div",{className:"glass-card rounded-2xl border p-8",style:{background:"rgba(30, 41, 59, 0.9)",backdropFilter:"blur(var(--glass-blur))",borderColor:"rgba(255, 255, 255, 0.1)",boxShadow:"var(--shadow-xl-dark), 0 0 60px rgba(12, 35, 64, 0.5)",transition:"all var(--transition-base)"},children:[_.jsxs("form",{onSubmit:y,className:"space-y-5",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(eT,{htmlFor:"email",className:"text-white/90",children:"Email"}),_.jsxs("div",{className:"relative",children:[_.jsx(vC,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#C8A963]"}),_.jsx(ZE,{id:"email",type:"email",placeholder:"admin@cangrejeras.com",value:e,onChange:g=>n(g.target.value),className:"pl-10 !bg-[#0C2340]/60 border-[#C8A963]/30 !text-white placeholder:text-white/40 focus:border-[#C8A963] focus:ring-[#C8A963]/20 hover:bg-[#0C2340]/70 focus:bg-[#0C2340]/80",required:!0,autoFocus:!0})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(eT,{htmlFor:"password",className:"text-white/90",children:"Contraseña"}),_.jsxs("div",{className:"relative",children:[_.jsx(uC,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#C8A963]"}),_.jsx(ZE,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:g=>i(g.target.value),className:"pl-10 !bg-[#0C2340]/60 border-[#C8A963]/30 !text-white placeholder:text-white/40 focus:border-[#C8A963] focus:ring-[#C8A963]/20 hover:bg-[#0C2340]/70 focus:bg-[#0C2340]/80",required:!0})]})]}),a&&_.jsxs(jF,{variant:"destructive",className:"animate-slide-in-top",children:[_.jsx(rC,{size:18}),_.jsx(FF,{children:a})]}),_.jsx(MF,{type:"submit",className:"glass-button w-full bg-gradient-to-r from-[#C8A963] to-[#b89850] hover:from-[#b89850] hover:to-[#C8A963] text-[#0C2340] shadow-lg hover:shadow-xl group",style:{transition:"all var(--transition-base)"},disabled:d,children:d?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-4 h-4 border-2 border-[#0C2340]/30 border-t-[#0C2340] rounded-full animate-spin"}),"Iniciando sesión..."]}):_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(mC,{size:18,className:"transition-transform duration-300 group-hover:translate-x-1"}),"Iniciar Sesión"]})})]}),_.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",style:{transition:"all var(--transition-base)"},children:[_.jsx("p",{className:"text-sm text-center text-white/60",style:{transition:"color var(--transition-fast)"},children:"Autenticación segura con Firebase"}),_.jsx("div",{className:"mt-2 p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 group cursor-default",style:{transition:"all var(--transition-base)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:_.jsx("p",{className:"text-xs text-white/70 text-center",children:"Utiliza las credenciales configuradas en Firebase Authentication"})})]})]}),_.jsx("p",{className:"text-center mt-6 text-sm text-white/40 drop-shadow-md hover:text-white/60",style:{transition:"color var(--transition-base)"},children:"© 2025 Cangrejeras de Santurce. Todos los derechos reservados."})]})]})}var zF=(t,e,n,r,i,a,c,d)=>{let f=document.documentElement,p=["light","dark"];function y(I){(Array.isArray(t)?t:[t]).forEach(R=>{let P=R==="class",O=P&&a?i.map(B=>a[B]||B):i;P?(f.classList.remove(...O),f.classList.add(a&&a[I]?a[I]:I)):f.setAttribute(R,I)}),g(I)}function g(I){d&&p.includes(I)&&(f.style.colorScheme=I)}function T(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let I=localStorage.getItem(e)||n,R=c&&I==="system"?T():I;y(R)}catch{}},$F=C.createContext(void 0),qF={setTheme:t=>{},themes:[]},HF=()=>{var t;return(t=C.useContext($F))!=null?t:qF};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:c,themes:d,nonce:f,scriptProps:p})=>{let y=JSON.stringify([n,e,a,t,d,c,r,i]).slice(1,-1);return C.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${zF.toString()})(${y})`}})});const Ig=({...t})=>{const{theme:e="system"}=HF();return _.jsx(pD,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},WF="modulepreload",GF=function(t){return"/"+t},tT={},hi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=c(n.map(p=>{if(p=GF(p),p in tT)return;tT[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":WF,y||(T.as="script"),T.crossOrigin="",T.href=p,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((I,R)=>{T.addEventListener("load",I),T.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function KF({darkMode:t,toggleDarkMode:e,activeSection:n,setActiveSection:r,collapsed:i,setCollapsed:a}){const c=[{id:"dashboard",icon:cT,label:"Dashboard",color:"#3B82F6"},{id:"players",icon:gT,label:"Gestión de Jugadoras",color:"#0C2340"},{id:"matches",icon:$c,label:"Partidos",color:"#10B981"},{id:"standings",icon:Kh,label:"Tabla de Posiciones",color:"#C8A963"},{id:"voting",icon:oT,label:"Votaciones en Vivo",color:"#E01E37"},{id:"news",icon:TC,label:"Noticias",color:"#F97316"},{id:"media",icon:lC,label:"Contenido Multimedia",color:"#8B5CF6"},{id:"settings",icon:Gh,label:"Configuración",color:"#475569"}];return _.jsx("aside",{className:`${i?"w-20":"w-64"} h-screen sticky top-0 transition-all duration-300 ease-in-out`,style:{background:"linear-gradient(180deg, #0C2340 0%, #1e3a5f 100%)"},children:_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[!i&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#C8A963] flex items-center justify-center",children:_.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-white font-semibold text-sm",children:"Cangrejeras"}),_.jsx("div",{className:"text-white/60 text-xs",children:"Admin Panel"})]})]}),_.jsx("button",{onClick:()=>a(!i),className:"p-1.5 rounded-lg hover:bg-white/10 transition-all duration-200 text-white",children:i?_.jsx(lT,{size:18}):_.jsx(eC,{size:18})})]}),_.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1.5 overflow-y-auto",children:c.map(d=>{const f=d.icon,p=n===d.id;return _.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group ${p?"bg-white/15 text-white shadow-lg":"text-white/70 hover:bg-white/10 hover:text-white"}`,title:i?d.label:"",children:[_.jsx("div",{className:`p-1.5 rounded-lg transition-all duration-200 ${p?"scale-110":"group-hover:scale-105"}`,style:{backgroundColor:p?d.color:"transparent"},children:_.jsx(f,{size:18})}),!i&&_.jsx("span",{className:"text-sm font-medium",children:d.label}),p&&!i&&_.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-white"})]},d.id)})}),_.jsxs("div",{className:"p-4 border-t border-white/10 space-y-3",children:[_.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-white/70 hover:bg-white/10 hover:text-white transition-all duration-200",title:i?t?"Light Mode":"Dark Mode":"",children:[_.jsx("div",{className:"p-1.5",children:t?_.jsx(mT,{size:18}):_.jsx(hT,{size:18})}),!i&&_.jsx("span",{className:"text-sm font-medium",children:t?"Modo Claro":"Modo Oscuro"})]}),!i&&_.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[_.jsx("div",{className:"w-9 h-9 rounded-full bg-[#C8A963] flex items-center justify-center",children:_.jsx("span",{className:"text-white text-sm font-semibold",children:"AD"})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-white text-sm font-medium truncate",children:"Admin"}),_.jsx("div",{className:"text-white/60 text-xs truncate",children:"Super Admin"})]})]})]})]})})}function QF({darkMode:t,activeSection:e,saveStatus:n="idle",currentUser:r,onLogout:i,onNavigateToProfile:a}){const[c]=C.useState(3),d=T=>T.split(" ").map(I=>I[0]).join("").toUpperCase().slice(0,2),f=()=>{a?a():ye.info("Próximamente: Editar Perfil de Administrador")},p=()=>{ye.info("Próximamente: Configuración de Administrador")},y=()=>{i?i():ye.success("Sesión cerrada exitosamente")},g={dashboard:"Dashboard",players:"Gestión de Jugadoras",matches:"Partidos",standings:"Tabla de Posiciones",voting:"Votaciones en Vivo",news:"Noticias",media:"Contenido Multimedia",settings:"Configuración",profile:"Mi Perfil"};return _.jsx("header",{className:`sticky top-0 z-40 border-b transition-colors duration-200 ${t?"bg-[#1E293B]/95 border-white/10 backdrop-blur-xl":"bg-white/95 border-gray-200 backdrop-blur-xl"}`,children:_.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-sm ${t?"text-white/50":"text-gray-500"}`,children:"Admin"}),_.jsx(lT,{size:16,className:t?"text-white/30":"text-gray-400"}),_.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:g[e]||"Dashboard"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[n!=="idle"&&_.jsx("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[#10B981]/10",children:n==="saving"?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"w-4 h-4 border-2 border-[#10B981] border-t-transparent rounded-full animate-spin"}),_.jsx("span",{className:"text-sm text-[#10B981]",children:"Guardando..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(XA,{size:16,className:"text-[#10B981]"}),_.jsx("span",{className:"text-sm text-[#10B981]",children:"Guardado"})]})}),_.jsxs("div",{className:"relative hidden md:block",children:[_.jsx(AC,{size:18,className:`absolute left-3 top-1/2 -translate-y-1/2 ${t?"text-white/40":"text-gray-400"}`}),_.jsx("input",{type:"text",placeholder:"Buscar...",className:`pl-10 pr-4 py-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-[#0C2340]/20 ${t?"bg-white/5 border-white/10 text-white placeholder-white/40":"bg-gray-50 border-gray-200 text-gray-900 placeholder-gray-400"}`,style:{width:"240px"}})]}),_.jsxs("button",{className:`relative p-2 rounded-lg transition-all duration-200 ${t?"hover:bg-white/10 text-white/70 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:[_.jsx(Ag,{size:20}),c>0&&_.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#E01E37] rounded-full flex items-center justify-center",children:_.jsx("span",{className:"text-white text-xs font-semibold",children:c})})]}),_.jsxs(rx,{children:[_.jsx(sx,{asChild:!0,children:_.jsxs("button",{className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 group ${t?"hover:bg-white/10":"hover:bg-gray-100"}`,title:r?`${r.name} - ${r.role}`:"Usuario",children:[r?.avatar?_.jsx("img",{src:r.avatar,alt:r.name,className:"w-8 h-8 rounded-full object-cover shadow-md ring-2 ring-[#C8A963]/30"}):_.jsx("div",{className:"w-8 h-8 rounded-full bg-[#C8A963] flex items-center justify-center shadow-md",children:_.jsx("span",{className:"text-white text-sm font-semibold",children:r?d(r.name):"AD"})}),_.jsxs("div",{className:"hidden lg:block text-left",children:[_.jsx("div",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:r?.name||"Admin"}),r&&_.jsx("div",{className:`text-xs ${t?"text-white/60":"text-gray-500"}`,children:r.role})]}),_.jsx(aT,{className:`w-4 h-4 transition-transform duration-200 group-hover:translate-y-0.5 ${t?"text-white/60":"text-gray-500"}`})]})}),_.jsxs(ix,{align:"end",className:"w-56 mt-2 animate-scale-in",style:{background:t?"rgba(30, 41, 59, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:t?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:t?"0 12px 48px rgba(0, 0, 0, 0.6)":"0 12px 48px rgba(0, 0, 0, 0.15)"},children:[_.jsxs(ox,{className:"flex items-center gap-3 py-3",children:[r?.avatar?_.jsx("img",{src:r.avatar,alt:r.name,className:"w-10 h-10 rounded-full object-cover shadow-md ring-2 ring-[#C8A963]/30"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-[#C8A963] flex items-center justify-center shadow-md",children:_.jsx("span",{className:"text-white font-semibold",children:r?d(r.name):"AD"})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-sm font-medium",children:r?.name||"Admin"}),_.jsx("span",{className:"text-xs opacity-60",children:r?.role||"Super Admin"})]})]}),_.jsx(_h,{}),_.jsxs(dl,{onClick:f,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#C8A963]/10",children:[_.jsx(eh,{className:"w-4 h-4 mr-2 text-[#C8A963]"}),_.jsx("span",{children:"Editar Perfil"})]}),_.jsxs(dl,{onClick:p,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#0C2340]/10",children:[_.jsx(Gh,{className:"w-4 h-4 mr-2 text-[#0C2340] dark:text-[#C8A963]"}),_.jsx("span",{children:"Configuración"})]}),_.jsx(_h,{}),_.jsxs(dl,{onClick:y,className:"cursor-pointer py-2.5 px-3 transition-all duration-200 hover:bg-[#E01E37]/10 text-[#E01E37]",children:[_.jsx(uT,{className:"w-4 h-4 mr-2"}),_.jsx("span",{children:"Cerrar Sesión"})]})]})]})]})]})})}function YF({darkMode:t}){return _.jsxs("div",{className:"min-h-[400px] relative animate-fade-in",children:[_.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 overflow-hidden",style:{background:t?"rgba(200, 169, 99, 0.2)":"rgba(12, 35, 64, 0.1)"},children:_.jsx("div",{className:"h-full animate-loading-bar",style:{background:t?"linear-gradient(90deg, transparent, #C8A963, transparent)":"linear-gradient(90deg, transparent, #0C2340, transparent)",width:"33%"}})}),_.jsxs("div",{className:"space-y-6 p-2",children:[_.jsx("div",{className:"h-12 rounded-xl animate-pulse",style:{background:t?"rgba(30, 41, 59, 0.3)":"rgba(0, 0, 0, 0.03)"}}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>_.jsx("div",{className:"h-32 rounded-2xl animate-pulse",style:{background:t?"rgba(30, 41, 59, 0.3)":"rgba(0, 0, 0, 0.03)",animationDelay:`${e*50}ms`}},e))})]})]})}const XF=C.lazy(()=>hi(()=>import("./DashboardOverview-IbhnHRut.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.DashboardOverview}))),JF=C.lazy(()=>hi(()=>import("./PlayerManagement-CYDBXCA2.js"),__vite__mapDeps([6,7,8,9,10,11,12,2,13,14,15,16,17,18])).then(t=>({default:t.PlayerManagement}))),ZF=C.lazy(()=>hi(()=>import("./VotingManagement-CJeBzOzm.js"),__vite__mapDeps([19,20,7,14,8,21,22,2,5,11,16,17,12,23])).then(t=>({default:t.VotingManagement}))),e9=C.lazy(()=>hi(()=>import("./NewsManagement-BLUCIPQx.js"),__vite__mapDeps([24,21,11,25,16,17,5])).then(t=>({default:t.NewsManagement}))),t9=C.lazy(()=>hi(()=>import("./MatchManagement-DD_OaTGj.js"),__vite__mapDeps([26,21,7,14,8,22,10,11,2,16,17,3])).then(t=>({default:t.MatchManagement}))),n9=C.lazy(()=>hi(()=>import("./StandingsManagement-BFF_12UM.js"),__vite__mapDeps([27,14,8,11,18,17,28])).then(t=>({default:t.StandingsManagement}))),r9=C.lazy(()=>hi(()=>import("./MediaManagement-Cd7F8bh6.js"),__vite__mapDeps([29,9,30,17,23])).then(t=>({default:t.MediaManagement}))),s9=C.lazy(()=>hi(()=>import("./SettingsManagement-C96SSBAr.js"),__vite__mapDeps([31,20,14,8,15,28,4,18,17])).then(t=>({default:t.SettingsManagement}))),i9=C.lazy(()=>hi(()=>import("./UserProfile-PcwckRDi.js"),__vite__mapDeps([32,13,1,2,30,17,12,5,25,28,8])).then(t=>({default:t.UserProfile})));function o9({currentUser:t,onLogout:e}){const[n,r]=C.useState(!1),[i,a]=C.useState("dashboard"),[c,d]=C.useState(!1),[f,p]=C.useState(t),y=I=>{p(I)},g=()=>{r(!n)};C.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const T=()=>_.jsxs(C.Suspense,{fallback:_.jsx(YF,{darkMode:n}),children:[i==="dashboard"&&_.jsx(XF,{darkMode:n,setActiveSection:a}),i==="players"&&_.jsx(JF,{darkMode:n}),i==="matches"&&_.jsx(t9,{darkMode:n}),i==="voting"&&_.jsx(ZF,{darkMode:n}),i==="news"&&_.jsx(e9,{darkMode:n}),i==="standings"&&_.jsx(n9,{darkMode:n}),i==="media"&&_.jsx(r9,{darkMode:n}),i==="settings"&&_.jsx(s9,{darkMode:n}),i==="profile"&&_.jsx(i9,{darkMode:n,currentUser:f,onUserUpdate:y})]});return _.jsxs("div",{className:`min-h-screen ${n?"dark bg-[#0F172A]":"bg-[#F8FAFC]"}`,children:[_.jsx(Ig,{richColors:!0,position:"top-center"}),_.jsxs("div",{className:"flex",children:[_.jsx(KF,{darkMode:n,toggleDarkMode:g,activeSection:i,setActiveSection:a,collapsed:c,setCollapsed:d}),_.jsxs("div",{className:"flex-1 min-h-screen",children:[_.jsx(QF,{darkMode:n,activeSection:i,currentUser:f,onLogout:e,onNavigateToProfile:()=>a("profile")}),_.jsx("main",{className:"p-6 lg:p-8",children:T()})]})]}),_.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden -z-10",children:[_.jsx("div",{className:"absolute top-1/4 -left-20 w-96 h-96 bg-[#0C2340]/5 dark:bg-[#C8A963]/5 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-1/4 -right-20 w-96 h-96 bg-[#E01E37]/5 dark:bg-[#E01E37]/5 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-[#C8A963]/3 dark:bg-[#0C2340]/3 rounded-full blur-3xl"})]})]})}function a9(){const[t,e]=C.useState(!1),[n,r]=C.useState(!1),{currentUser:i,logout:a}=Mf(),c=()=>{e(!t)};C.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),C.useEffect(()=>{i&&ye.success(`¡Bienvenido, ${i.name}!`)},[i]);const d=async()=>{try{await a(),r(!1),ye.success("Sesión cerrada exitosamente")}catch{ye.error("Error al cerrar sesión")}};return i?i&&!n?_.jsxs("div",{className:"animate-fade-in",children:[_.jsx(Ig,{richColors:!0,position:"top-center"}),_.jsx("div",{className:"fixed bottom-8 right-8 z-50 animate-slide-in-right",children:_.jsxs("button",{onClick:()=>r(!0),className:"glass-button group relative overflow-hidden shadow-lg",style:{background:t?"linear-gradient(135deg, #C8A963 0%, #b89850 100%)":"linear-gradient(135deg, #0C2340 0%, #1e3a5f 100%)",boxShadow:t?"0 8px 24px rgba(200, 169, 99, 0.3)":"0 8px 24px rgba(12, 35, 64, 0.3)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"16px",padding:"12px 20px",color:"white",transition:"all var(--transition-base)"},title:"Vista Previa de App de Fans",children:[_.jsxs("div",{className:"flex items-center gap-2.5 relative z-10",children:[_.jsx(DC,{size:20,className:"transition-transform duration-300 group-hover:scale-110"}),_.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Vista Previa"}),_.jsx(OC,{size:16,className:"animate-shimmer-glow"})]}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 animate-shimmer"})]})}),_.jsx(o9,{currentUser:i,onLogout:d})]}):n&&i?_.jsx("div",{className:"animate-fade-in",children:_.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"dark bg-[#0F172A]":"bg-[#F2F4F7]"}`,children:[_.jsx(Ig,{richColors:!0,position:"top-center"}),_.jsxs("button",{onClick:()=>r(!1),className:"glass-button fixed top-4 right-4 z-50 flex items-center gap-2.5 group animate-slide-in-right shadow-lg",style:{background:t?"rgba(30, 41, 59, 0.9)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(var(--glass-blur))",border:t?"1px solid rgba(255, 255, 255, 0.15)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:t?"var(--shadow-xl-dark)":"var(--shadow-xl-light)",borderRadius:"12px",padding:"10px 16px",color:t?"#F1F5F9":"#0F172A",transition:"all var(--transition-base)"},title:"Volver al Dashboard",children:[_.jsx(cT,{size:18,className:"transition-transform duration-300 group-hover:scale-110"}),_.jsx("span",{className:"text-sm font-medium",children:"Volver al Dashboard"})]}),_.jsxs("div",{className:"max-w-md mx-auto min-h-screen pb-20 relative",children:[_.jsx(mD,{darkMode:t,toggleDarkMode:c}),_.jsxs("main",{className:"px-4 py-5 space-y-5",children:[_.jsx("div",{className:"animate-scale-in",style:{animationDelay:"0.1s",animationFillMode:"both"},children:_.jsx(EF,{darkMode:t})}),_.jsx("div",{className:"animate-scale-in",style:{animationDelay:"0.2s",animationFillMode:"both"},children:_.jsx(SF,{darkMode:t})}),_.jsx("div",{className:"animate-scale-in",style:{animationDelay:"0.3s",animationFillMode:"both"},children:_.jsx(AF,{darkMode:t})}),_.jsx("div",{className:"animate-scale-in",style:{animationDelay:"0.4s",animationFillMode:"both"},children:_.jsx(RF,{darkMode:t})}),_.jsx("div",{className:"animate-scale-in",style:{animationDelay:"0.5s",animationFillMode:"both"},children:_.jsx(PF,{darkMode:t})})]}),_.jsx(NF,{darkMode:t})]}),_.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[_.jsx("div",{className:"animate-float absolute top-1/4 -left-20 w-64 h-64 bg-[#0C2340]/5 dark:bg-[#C8A963]/5 rounded-full blur-3xl",style:{animationDelay:"0s"}}),_.jsx("div",{className:"animate-float absolute bottom-1/4 -right-20 w-64 h-64 bg-[#E01E37]/5 dark:bg-[#E01E37]/5 rounded-full blur-3xl",style:{animationDelay:"1s"}}),_.jsx("div",{className:"animate-float absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-[#C8A963]/3 dark:bg-[#0C2340]/3 rounded-full blur-3xl",style:{animationDelay:"2s"}})]})]})}):null:_.jsx("div",{className:"animate-fade-in",children:_.jsx(BF,{darkMode:t})})}function l9(){return _.jsx(xF,{children:_.jsx(_F,{children:_.jsx(bF,{children:_.jsx(a9,{})})})})}zA.createRoot(document.getElementById("root")).render(_.jsx(wF,{children:_.jsx(l9,{})}));export{mo as $,$c as A,MF as B,rC as C,IC as D,iC as E,En as F,eC as G,lT as H,ZE as I,XA as J,Cg as K,eT as L,dT as M,fT as N,oT as O,In as P,pT as Q,nk as R,AC as S,UC as T,gT as U,KC as V,SS as W,p9 as X,dt as Y,po as Z,hn as _,Kh as a,Zs as a0,Js as a1,lC as a2,BT as a3,jP as a4,ET as a5,Gn as a6,FP as a7,ro as a8,YT as a9,m9 as aA,Rg as aa,ni as ab,ak as ac,cR as ad,d1 as ae,qc as af,ST as ag,bT as ah,UP as ai,BP as aj,aT as ak,Ag as al,eh as am,vC as an,uC as ao,u9 as ap,DF as aq,kP as ar,c9 as as,DC as at,fC as au,w9 as av,_9 as aw,y9 as ax,v9 as ay,g9 as az,at as b,Ze as c,Ce as d,Ke as e,bS as f,Wt as g,TT as h,yT as i,_ as j,ou as k,zm as l,an as m,JT as n,rk as o,Br as p,cn as q,C as r,iL as s,ye as t,Mf as u,Ye as v,lu as w,ci as x,IF as y,iv as z};
